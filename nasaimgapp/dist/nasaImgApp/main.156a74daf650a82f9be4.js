(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.5","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("HDdC");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return un}),n.d(e,"b",function(){return el}),n.d(e,"c",function(){return Yc}),n.d(e,"d",function(){return Wc}),n.d(e,"e",function(){return Kc}),n.d(e,"f",function(){return Wl}),n.d(e,"g",function(){return Fl}),n.d(e,"h",function(){return $u}),n.d(e,"i",function(){return fl}),n.d(e,"j",function(){return gu}),n.d(e,"k",function(){return il}),n.d(e,"l",function(){return vu}),n.d(e,"m",function(){return Tr}),n.d(e,"n",function(){return Tc}),n.d(e,"o",function(){return Ts}),n.d(e,"p",function(){return kn}),n.d(e,"q",function(){return x}),n.d(e,"r",function(){return an}),n.d(e,"s",function(){return qs}),n.d(e,"t",function(){return Fu}),n.d(e,"u",function(){return Uu}),n.d(e,"v",function(){return rl}),n.d(e,"w",function(){return nc}),n.d(e,"x",function(){return Ul}),n.d(e,"y",function(){return ec}),n.d(e,"z",function(){return Pl}),n.d(e,"A",function(){return gl}),n.d(e,"B",function(){return In}),n.d(e,"C",function(){return tl}),n.d(e,"D",function(){return Xc}),n.d(e,"E",function(){return Ou}),n.d(e,"F",function(){return wu}),n.d(e,"G",function(){return Nr}),n.d(e,"H",function(){return Cu}),n.d(e,"I",function(){return _r}),n.d(e,"J",function(){return An}),n.d(e,"K",function(){return ql}),n.d(e,"L",function(){return Ju}),n.d(e,"M",function(){return Ol}),n.d(e,"N",function(){return cn}),n.d(e,"O",function(){return xu}),n.d(e,"P",function(){return Su}),n.d(e,"Q",function(){return ic}),n.d(e,"R",function(){return j}),n.d(e,"S",function(){return Nl}),n.d(e,"T",function(){return Dl}),n.d(e,"U",function(){return d}),n.d(e,"V",function(){return Al}),n.d(e,"W",function(){return Gl}),n.d(e,"X",function(){return Sl}),n.d(e,"Y",function(){return nl}),n.d(e,"Z",function(){return Is}),n.d(e,"ab",function(){return ha}),n.d(e,"bb",function(){return br}),n.d(e,"cb",function(){return tr}),n.d(e,"db",function(){return Hn}),n.d(e,"eb",function(){return Bn}),n.d(e,"fb",function(){return Wn}),n.d(e,"gb",function(){return Gn}),n.d(e,"hb",function(){return $n}),n.d(e,"ib",function(){return Qn}),n.d(e,"jb",function(){return aa}),n.d(e,"kb",function(){return $l}),n.d(e,"lb",function(){return ua}),n.d(e,"mb",function(){return ca}),n.d(e,"nb",function(){return qn}),n.d(e,"ob",function(){return L}),n.d(e,"pb",function(){return Xs}),n.d(e,"qb",function(){return _o}),n.d(e,"rb",function(){return bo}),n.d(e,"sb",function(){return vo}),n.d(e,"tb",function(){return oa}),n.d(e,"ub",function(){return St}),n.d(e,"vb",function(){return l}),n.d(e,"wb",function(){return zn}),n.d(e,"xb",function(){return $s}),n.d(e,"yb",function(){return vt}),n.d(e,"zb",function(){return fu}),n.d(e,"Ab",function(){return Ii}),n.d(e,"Bb",function(){return io}),n.d(e,"Cb",function(){return Vo}),n.d(e,"Db",function(){return ea}),n.d(e,"Eb",function(){return Fo}),n.d(e,"Fb",function(){return zc}),n.d(e,"Gb",function(){return W}),n.d(e,"Hb",function(){return et}),n.d(e,"Ib",function(){return y}),n.d(e,"Jb",function(){return b}),n.d(e,"Kb",function(){return Z}),n.d(e,"Lb",function(){return nt}),n.d(e,"Mb",function(){return uo}),n.d(e,"Nb",function(){return po}),n.d(e,"Ob",function(){return mo}),n.d(e,"Pb",function(){return go}),n.d(e,"Qb",function(){return fo}),n.d(e,"Rb",function(){return ho}),n.d(e,"Sb",function(){return yo}),n.d(e,"Tb",function(){return nn}),n.d(e,"Ub",function(){return na}),n.d(e,"Vb",function(){return nu}),n.d(e,"Wb",function(){return iu}),n.d(e,"Xb",function(){return ru}),n.d(e,"Yb",function(){return Sn}),n.d(e,"Zb",function(){return rn}),n.d(e,"ac",function(){return Qc}),n.d(e,"bc",function(){return wo}),n.d(e,"cc",function(){return Hc}),n.d(e,"dc",function(){return Co}),n.d(e,"ec",function(){return Sc}),n.d(e,"fc",function(){return xc}),n.d(e,"gc",function(){return To}),n.d(e,"hc",function(){return xo}),n.d(e,"ic",function(){return co}),n.d(e,"jc",function(){return ko}),n.d(e,"kc",function(){return Io}),n.d(e,"lc",function(){return vc}),n.d(e,"mc",function(){return _c}),n.d(e,"nc",function(){return wc}),n.d(e,"oc",function(){return Oc}),n.d(e,"pc",function(){return Vc}),n.d(e,"qc",function(){return ao}),n.d(e,"rc",function(){return jr}),n.d(e,"sc",function(){return $t}),n.d(e,"tc",function(){return Or}),n.d(e,"uc",function(){return wr}),n.d(e,"vc",function(){return X}),n.d(e,"wc",function(){return Lo}),n.d(e,"xc",function(){return oo}),n.d(e,"yc",function(){return Gc}),n.d(e,"zc",function(){return Jo}),n.d(e,"Ac",function(){return Zo}),n.d(e,"Bc",function(){return Xo}),n.d(e,"Cc",function(){return ta}),n.d(e,"Dc",function(){return Uc});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}function m(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function v(t){return _(t,O)||_(t,C)}function _(t,e){return t.hasOwnProperty(e)?t[e]:null}function w(t){return t&&(t.hasOwnProperty(E)||t.hasOwnProperty(S))?t[E]:null}const O=u({"\u0275prov":u}),E=u({"\u0275inj":u}),C=u({ngInjectableDef:u}),S=u({ngInjectorDef:u});var x=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let T;function k(t){const e=T;return T=t,e}function I(t,e,n){const r=v(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&x.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${l(t)}]`)}function A(t){return{toString:t}.toString()}var D=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),j=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const P="undefined"!=typeof globalThis&&globalThis,N="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,M="undefined"!=typeof global&&global,L=P||M||N||R,F={},V=[],U=u({"\u0275cmp":u}),z=u({"\u0275dir":u}),H=u({"\u0275pipe":u}),q=u({"\u0275mod":u}),B=u({"\u0275loc":u}),$=u({"\u0275fac":u}),G=u({__NG_ELEMENT_ID__:u});let Q=0;function W(t){return A(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||V,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||j.Emulated,id:"c",styles:t.styles||V,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Q++,n.inputs=tt(t.inputs,e),n.outputs=tt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(K):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Y):null,n})}function K(t){return rt(t)||function(t){return t[z]||null}(t)}function Y(t){return function(t){return t[H]||null}(t)}const J={};function Z(t){const e={type:t.type,bootstrap:t.bootstrap||V,declarations:t.declarations||V,imports:t.imports||V,exports:t.exports||V,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&A(()=>{J[t.id]=t.type}),e}function X(t,e){return A(()=>{const n=it(t,!0);n.declarations=e.declarations||V,n.imports=e.imports||V,n.exports=e.exports||V})}function tt(t,e){if(null==t)return F;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const et=W;function nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function rt(t){return t[U]||null}function it(t,e){const n=t[q]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const st=20,ot=10;function at(t){return Array.isArray(t)&&"object"==typeof t[1]}function ut(t){return Array.isArray(t)&&!0===t[1]}function ct(t){return 0!=(8&t.flags)}function lt(t){return 2==(2&t.flags)}function ht(t){return 1==(1&t.flags)}function ft(t){return null!==t.template}function dt(t,e){return t.hasOwnProperty($)?t[$]:null}class pt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function gt(t){return"string"==typeof t?t:null==t?"":String(t)}function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():gt(t)}function yt(t,e){const n=e?` in ${e}`:"";throw new pt("201",`No provider for ${mt(t)} found${n}`)}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ot),wt}function wt(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===F)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ot(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:F,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new bt(u&&u.currentValue,e,o===F),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}let Ct;function St(t){Ct=t}function xt(){return void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0}function Tt(t){return!!t.listen}vt.ngInherit=!0;const kt={createRenderer:(t,e)=>xt()};function It(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return It(e[t])}function Dt(t,e){return It(e[t.index])}function jt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Nt(t,e){const n=e[t];return at(n)?n:n[0]}function Rt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Ft(t,e){return null==e?null:t[e]}function Vt(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const zt={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return zt.bindingsEnabled}function qt(){return zt.lFrame.lView}function Bt(){return zt.lFrame.tView}function $t(t){zt.lFrame.contextLView=t}function Gt(){let t=Qt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qt(){return zt.lFrame.currentTNode}function Wt(){const t=zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Kt(t,e){const n=zt.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return zt.lFrame.isParent}function Jt(){zt.lFrame.isParent=!1}function Zt(){return zt.isInCheckNoChangesMode}function Xt(t){zt.isInCheckNoChangesMode=t}function te(){const t=zt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ee(){return zt.lFrame.bindingIndex}function ne(){return zt.lFrame.bindingIndex++}function re(t){const e=zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t){zt.lFrame.inI18n=t}function se(t,e){const n=zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,oe(e)}function oe(t){zt.lFrame.currentDirectiveIndex=t}function ae(){return zt.lFrame.currentQueryIndex}function ue(t){zt.lFrame.currentQueryIndex=t}function ce(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function le(t,e,n){if(n&x.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&x.Host||(r=ce(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=zt.lFrame=fe();return r.currentTNode=e,r.lView=t,!0}function he(t){const e=fe(),n=t[1];zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fe(){const t=zt.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pe(){const t=zt.lFrame;return zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ge=pe;function me(){const t=pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ye(){return zt.lFrame.selectedIndex}function be(t){zt.lFrame.selectedIndex=t}function ve(){const t=zt.lFrame;return jt(t.tView,t.selectedIndex)}function _e(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function we(t,e,n){Ce(t,e,3,n)}function Oe(t,e,n,r){(3&t[2])===n&&Ce(t,e,n,r)}function Ee(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ce(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Se(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Se(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const xe=-1;class Te{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ke(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Ae(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ie(t){return 3===t||4===t||6===t}function Ae(t){return 64===t.charCodeAt(0)}function De(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||je(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function je(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Pe(t){return t!==xe}function Ne(t){return 32767&t}function Re(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Me=!0;function Le(t){const e=Me;return Me=t,e}let Fe=0;function Ve(t,e){const n=ze(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ue(r.data,t),Ue(e,null),Ue(r.blueprint,null));const i=He(t,e),s=t.injectorIndex;if(Pe(i)){const t=Ne(i),n=Re(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Ue(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ze(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function He(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return xe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xe}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(r=n[G]),null==r&&(r=n[G]=Fe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Be(t,e,n){if(n&x.Optional)return t;yt(e,"NodeInjector")}function $e(t,e,n,r){if(n&x.Optional&&void 0===r&&(r=null),0==(n&(x.Self|x.Host))){const i=t[9],s=k(void 0);try{return i?i.get(e,r,n&x.Optional):I(e,r,n&x.Optional)}finally{k(s)}}return Be(r,e,n)}function Ge(t,e,n,r=x.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e?e>=0?255&e:We:e}(n);if("function"==typeof s){if(!le(e,t,r))return r&x.Host?Be(i,n,r):$e(e,n,r,i);try{const t=s();if(null!=t||r&x.Optional)return t;yt(n)}finally{ge()}}else if("number"==typeof s){let i=null,o=ze(t,e),a=xe,u=r&x.Host?e[16][6]:null;for((-1===o||r&x.SkipSelf)&&(a=-1===o?He(t,e):e[o+8],a!==xe&&Xe(r,!1)?(i=e[1],o=Ne(a),e=Re(a,e)):o=-1);-1!==o;){const t=e[1];if(Ze(s,o,t.data)){const t=Ke(o,e,n,i,r,u);if(t!==Qe)return t}a=e[o+8],a!==xe&&Xe(r,e[1].data[o+8]===u)&&Ze(s,o,e)?(i=t,o=Ne(a),e=Re(a,e)):o=-1}}}return $e(e,n,r,i)}const Qe={};function We(){return new tn(Gt(),qt())}function Ke(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Ye(a,o,n,null==r?lt(a)&&Me:r!=o&&0!=(3&a.type),i&x.Host&&s===a);return null!==u?Je(e,o,u,a):Qe}function Ye(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&ft(t)&&t.type===n)return u}return null}function Je(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Te){const o=i;o.resolving&&function(t,e){throw new pt("200",`Circular dependency in DI detected for ${t}`)}(mt(s[n]));const a=Le(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?k(o.injectImpl):null;le(t,r,x.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&k(u),Le(a),o.resolving=!1,ge()}}return i}function Ze(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Xe(t,e){return!(t&x.Self||t&x.Host&&e)}class tn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ge(this._tNode,this._lView,t,void 0,e)}}function en(t){const e=t;if(g(t))return()=>{const t=en(p(e));return t?t():null};let n=dt(e);if(null===n){const t=w(e);n=t&&t.factory}return n||null}function nn(t){return A(()=>{const e=t.prototype.constructor,n=e[$]||en(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[$]||en(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function rn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ie(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}const sn="__parameters__";function on(t,e,n){return A(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(sn)?t[sn]:Object.defineProperty(t,sn,{value:[]})[sn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class an{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=y({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const un=new an("AnalyzeForEntryComponents"),cn=Function;function ln(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),ln(r,e)):e!==t&&e.push(r)}return e}function hn(t,e){t.forEach(t=>Array.isArray(t)?hn(t,e):e(t))}function fn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function gn(t,e,n){let r=yn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function mn(t,e){const n=yn(t,e);if(n>=0)return t[1|n]}function yn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const bn={},vn=/\n/gm,_n="__source",wn=u({provide:String,useValue:u});let On;function En(t){const e=On;return On=t,e}function Cn(t,e=x.Default){if(void 0===On)throw new Error("inject() must be called from an injection context");return null===On?I(t,void 0,e):On.get(t,e&x.Optional?null:void 0,e)}function Sn(t,e=x.Default){return(T||Cn)(p(t),e)}function xn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=x.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(Sn(t,n))}else e.push(Sn(r))}return e}function Tn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const kn=Tn(on("Inject",t=>({token:t})),-1),In=Tn(on("Optional"),8),An=Tn(on("SkipSelf"),4);let Dn,jn;function Pn(t){var e;return(null===(e=function(){if(void 0===Dn&&(Dn=null,L.trustedTypes))try{Dn=L.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Dn}())||void 0===e?void 0:e.createHTML(t))||t}function Nn(t){var e;return(null===(e=function(){if(void 0===jn&&(jn=null,L.trustedTypes))try{jn=L.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return jn}())||void 0===e?void 0:e.createScriptURL(t))||t}class Rn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Mn extends Rn{getTypeName(){return"HTML"}}class Ln extends Rn{getTypeName(){return"Style"}}class Fn extends Rn{getTypeName(){return"Script"}}class Vn extends Rn{getTypeName(){return"URL"}}class Un extends Rn{getTypeName(){return"ResourceURL"}}function zn(t){return t instanceof Rn?t.changingThisBreaksApplicationSecurity:t}function Hn(t,e){const n=qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function qn(t){return t instanceof Rn&&t.getTypeName()||null}function Bn(t){return new Mn(t)}function $n(t){return new Ln(t)}function Gn(t){return new Fn(t)}function Qn(t){return new Vn(t)}function Wn(t){return new Un(t)}function Kn(t){const e=new Jn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new Yn(e):e}class Yn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Jn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tr(t){return(t=String(t)).match(Zn)||t.match(Xn)?t:"unsafe:"+t}function er(t){return(t=String(t)).split(",").map(t=>tr(t.trim())).join(", ")}function nr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function rr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ir=nr("area,br,col,hr,img,wbr"),sr=nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),or=nr("rp,rt"),ar=rr(or,sr),ur=rr(ir,rr(sr,nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rr(or,nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ar),cr=nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lr=nr("srcset"),hr=rr(cr,lr,nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fr=nr("script,style,template");class dr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ur.hasOwnProperty(e))return this.sanitizedSomething=!0,!fr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!hr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;cr[i]&&(s=tr(s)),lr[i]&&(s=er(s)),this.buf.push(" ",e,'="',mr(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ur.hasOwnProperty(e)&&!ir.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(mr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const pr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gr=/([^\#-~ |!])/g;function mr(t){return t.replace(/&/g,"&amp;").replace(pr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(gr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yr;function br(t,e){let n=null;try{yr=yr||Kn(t);let r=e?String(e):"";n=yr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=yr.getInertBodyElement(r)}while(r!==s);return Pn((new dr).sanitizeChildren(vr(n)||n))}finally{if(n){const t=vr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var _r=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function wr(t){const e=Er();return e?e.sanitize(_r.URL,t)||"":Hn(t,"URL")?zn(t):tr(gt(t))}function Or(t){const e=Er();if(e)return Nn(e.sanitize(_r.RESOURCE_URL,t)||"");if(Hn(t,"ResourceURL"))return Nn(zn(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Er(){const t=qt();return t&&t[12]}function Cr(t){return t.ngDebugContext}function Sr(t){return t.ngOriginalError}function xr(t,...e){t.error(...e)}class Tr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Cr(t)?Cr(t):this._findContext(Sr(t)):null}_findOriginalError(t){let e=Sr(t);for(;e&&Sr(e);)e=Sr(e);return e}}const kr=/^>|^->|<!--|-->|--!>|<!-$/g,Ir=/(<|>)/;function Ar(t,e){t.__ngContext__=e}const Dr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function jr(t){return{name:"window",target:t.ownerDocument.defaultView}}function Pr(t){return t instanceof Function?t():t}var Nr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Rr;function Mr(t,e){return Rr(t,e)}function Lr(t){const e=t[3];return ut(e)?e[3]:e}function Fr(t){return Ur(t[13])}function Vr(t){return Ur(t[4])}function Ur(t){for(;null!==t&&!ut(t);)t=t[4];return t}function zr(t,e,n,r,i){if(null!=r){let s,o=!1;ut(r)?s=r:at(r)&&(o=!0,r=r[0]);const a=It(r);0===t&&null!==n?null==i?Xr(e,n,a):Zr(e,n,a,i||null,!0):1===t&&null!==n?Zr(e,n,a,i||null,!0):2===t?li(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==It(n)&&zr(e,t,r,s,i);for(let o=ot;o<n.length;o++){const i=n[o];fi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Hr(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}function qr(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}function Br(t,e){return t.createComment(function(t){return t.replace(kr,t=>t.replace(Ir,"\u200b$1\u200b"))}(e))}function $r(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Gr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Qr(t,e){if(t.length<=ot)return;const n=ot+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Gr(s,r),e>0&&(t[n-1][4]=r[4]);const o=dn(t,ot+e);fi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Wr(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&fi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Kr(t[1],t);for(;e;){let n=null;if(at(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)at(e)&&Kr(e[1],e),e=e[3];null===e&&(e=t),at(e)&&Kr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Kr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Te)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):It(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ut(e[3])){n!==e[3]&&Gr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Yr(t,e,n){return Jr(t,e.parent,n)}function Jr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===j.None||e===j.Emulated)return null}return Dt(r,n)}function Zr(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Xr(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function ti(t,e,n,r,i){null!==r?Zr(t,e,n,r,i):Xr(t,e,n)}function ei(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function ni(t,e,n){return si(t,e,n)}function ri(t,e,n){return 40&t.type?Dt(t,n):null}let ii,si=ri;function oi(t,e){si=t,ii=e}function ai(t,e,n,r){const i=Yr(t,r,e),s=e[11],o=ni(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)ti(s,i,n[a],o,!1);else ti(s,i,n,o,!1);void 0!==ii&&ii(s,r,e,n,i)}function ui(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return ci(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ui(t,n);{const n=t[e.index];return ut(n)?ci(-1,n):It(n)}}if(32&n)return Mr(e,t)()||It(t[e.index]);{const n=t[16],r=n[6],i=Lr(n),s=r.projection[e.projection];return null!=s?ui(i,s):ui(t,e.next)}}return null}function ci(t,e){const n=ot+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ui(t,r)}return e[7]}function li(t,e,n){const r=ei(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function hi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ar(It(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)hi(t,e,n.child,r,i,s,!1),zr(e,t,i,a,s);else if(32&u){const o=Mr(n,r);let u;for(;u=o();)zr(e,t,i,u,s);zr(e,t,i,a,s)}else 16&u?di(t,e,r,n,i,s):zr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function fi(t,e,n,r,i,s){hi(n,r,t.firstChild,e,i,s,!1)}function di(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)zr(e,t,i,a[u],s);else hi(t,e,a,o[3],i,s,!0)}function pi(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function gi(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function mi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const yi="ng-template";function bi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==mi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function vi(t){return 4===t.type&&t.value!==yi}function _i(t,e,n){return e===(4!==t.type||n?t.value:yi)}function wi(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ie(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!_i(t,u,n)||""===u&&1===e.length){if(Oi(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!bi(t.attrs,c,n)){if(Oi(r))return!1;o=!0}continue}const l=Ei(8&r?"class":u,i,vi(t),n);if(-1===l){if(Oi(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==mi(e,c,0)||2&r&&c!==t){if(Oi(r))return!1;o=!0}}}}else{if(!o&&!Oi(r)&&!Oi(u))return!1;if(o&&Oi(u))continue;o=!1,r=u|1&r}}return Oi(r)||o}function Oi(t){return 0==(1&t)}function Ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ci(t,e,n=!1){for(let r=0;r<e.length;r++)if(wi(t,e[r],n))return!0;return!1}function Si(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function xi(t,e){return t?":not("+e.trim()+")":e}function Ti(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Oi(o)||(e+=xi(s,i),i=""),r=o,s=s||!Oi(r);n++}return""!==i&&(e+=xi(s,i)),e}const ki={};function Ii(t){Ai(Bt(),qt(),ye()+t,Zt())}function Ai(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&we(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Oe(e,r,0,n)}be(n)}function Di(t,e){return t<<17|e<<2}function ji(t){return t>>17&32767}function Pi(t){return 2|t}function Ni(t){return(131068&t)>>2}function Ri(t,e){return-131069&t|e<<2}function Mi(t){return 1|t}function Li(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ue(i),n.contentQueries(2,e[s],s)}}}function Fi(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Vt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Vi(t,e,n,r,i){let s=t.data[e];if(null===s)s=Ui(t,e,n,r,i),zt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=Wt();s.injectorIndex=null===t?-1:t.injectorIndex}return Kt(s,!0),s}function Ui(t,e,n,r,i){const s=Qt(),o=Yt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function zi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Hi(t,e,n){he(e);try{const r=t.viewQuery;null!==r&&vs(1,r,n);const i=t.template;null!==i&&$i(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Li(t,e),t.staticViewQueries&&vs(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ps(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,me()}}function qi(t,e,n,r){const i=e[2];if(256==(256&i))return;he(e);const s=Zt();try{Vt(e),zt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&$i(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&we(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Oe(e,n,0,null),Ee(e,0)}if(function(t){for(let e=Fr(t);null!==e;e=Vr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=Fr(t);null!==e;e=Vr(e))for(let t=ot;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&qi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Li(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&we(e,n)}else{const n=t.contentHooks;null!==n&&Oe(e,n,1),Ee(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)be(~r);else{const i=r,s=n[++t],o=n[++t];se(s,i),o(2,e[i])}}}finally{be(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)fs(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&vs(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&we(e,n)}else{const n=t.viewHooks;null!==n&&Oe(e,n,2),Ee(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{me()}}function Bi(t,e,n,r){const i=e[10],s=!Zt(),o=Mt(e);try{s&&!o&&i.begin&&i.begin(),o&&Hi(t,e,r),qi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function $i(t,e,n,r,i){const s=ye();try{be(-1),2&r&&e.length>st&&Ai(t,e,st,Zt()),n(r,i)}finally{be(s)}}function Gi(t,e,n){if(ct(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Qi(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ve(n,e),Ar(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=ft(r);s&&as(e,n,r);const u=Je(e,t,a,n);Ar(u,e),null!==o&&cs(0,a-i,u,r,0,o),s&&(Nt(n.index,e)[8]=u)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=zt.lFrame.currentDirectiveIndex;try{be(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];oe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ns(r,i)}}finally{be(-1),oe(o)}}(t,e,n))}function Wi(t,e,n=Dt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Ki(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Yi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Yi(t,e,n,r,i,s,o,a,u,c){const l=st+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ki);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ji(t,e,n,r){const i=ws(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Os(t).push(r,i.length-1))}function Zi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Xi(t,e,n,r,i,s,o,a){const u=Dt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Cs(t,n,c,r,i),lt(e)&&function(t,e){const n=Nt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Tt(s)?s.setProperty(u,r,i):Ae(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ts(t,e,n,r){let i=!1;if(Ht()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Ci(n,o.selectors,!1)&&(i||(i=[]),qe(Ve(n,e),t,o.type),ft(o)?(rs(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,ss(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=zi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=De(n.mergedAttrs,c.hostAttrs),os(t,n,e,u,c),is(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||vi(e)?null:ls(n,i);s.push(c),o=Zi(n,u,o),a=Zi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new pt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=De(n.mergedAttrs,n.attrs),i}function es(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function ns(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function rs(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function is(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ft(e)&&(n[""]=t)}}function ss(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function os(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=dt(i.type)),o=new Te(s,ft(i),null);t.blueprint[r]=o,n[r]=o,es(t,e,0,r,zi(t,n,i.hostVars,ki),i)}function as(t,e,n){const r=Dt(e,t),i=Ki(n),s=t[10],o=gs(t,Fi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function us(t,e,n,r,i,s,o){if(null==s)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?gt(s):o(s,r||"",i);Tt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function cs(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function ls(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function hs(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function fs(t,e){const n=Nt(e,t);if(Lt(n)){const t=n[1];80&n[2]?qi(t,n,t.template,n[8]):n[5]>0&&ds(n)}}function ds(t){for(let n=Fr(t);null!==n;n=Vr(n))for(let t=ot;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];qi(t,e,t.template,e[8])}else e[5]>0&&ds(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Nt(e[n],t);Lt(r)&&r[5]>0&&ds(r)}}function ps(t,e){const n=Nt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Hi(r,n,n[8])}function gs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ms(t){for(;t;){t[2]|=64;const e=Lr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ys(t,e,n){const r=e[10];r.begin&&r.begin();try{qi(t,e,t.template,n)}catch(i){throw Es(e,i),i}finally{r.end&&r.end()}}function bs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Rt(n),i=r[1];Bi(i,r,i.template,n)}}(t[8])}function vs(t,e,n){ue(0),e(t,n)}const _s=(()=>Promise.resolve(null))();function ws(t){return t[7]||(t[7]=[])}function Os(t){return t.cleanup||(t.cleanup=[])}function Es(t,e){const n=t[9],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function Cs(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ss(t,e,n){const r=At(e,t);qr(t[11],r,n)}function xs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ts=new an("INJECTOR",-1);class ks{get(t,e=bn){if(e===bn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Is=new an("Set Injector scope."),As={},Ds={},js=[];let Ps;function Ns(){return void 0===Ps&&(Ps=new ks),Ps}function Rs(t,e=null,n=null,r){return new Ms(t,n,e||Ns(),r)}class Ms{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&hn(e,n=>this.processProvider(n,t,e)),hn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ts,Vs(void 0,this));const s=this.records.get(Is);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=bn,n=x.Default){this.assertNotDestroyed();const r=En(this);try{if(!(n&x.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof an)&&v(t);e=n&&this.injectableDefInScope(n)?Vs(Ls(t),As):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&x.Self?Ns():this.parent).get(t,e=n&x.Optional&&e===bn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[_n]&&i.unshift(e[_n]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{En(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=w(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=w(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{hn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];hn(r,t=>this.processProvider(t,n,r||js))}}this.injectorDefTypes.add(s),this.records.set(s,Vs(r.factory,As));const a=r.providers;if(null!=a&&!o){const e=t;hn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=zs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Us(t)?Vs(void 0,t.useValue):Vs(Fs(t),As)}(t);if(zs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Vs(void 0,As,!0),e.factory=()=>xn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===As&&(e.value=Ds,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ls(t){const e=v(t),n=null!==e?e.factory:dt(t);if(null!==n)return n;const r=w(t);if(null!==r)return r.factory;if(t instanceof an)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=pn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[C]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Fs(t,e,n){let r;if(zs(t)){const e=p(t);return dt(e)||Ls(e)}if(Us(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...xn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Sn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return dt(e)||Ls(e);r=()=>new e(...xn(t.deps))}var i;return r}function Vs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Us(t){return null!==t&&"object"==typeof t&&wn in t}function zs(t){return"function"==typeof t}const Hs=function(t,e,n){return function(t,e=null,n=null,r){const i=Rs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let qs=(()=>{class t{static create(t,e){return Array.isArray(t)?Hs(t,e,""):Hs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=bn,t.NULL=new ks,t.\u0275prov=y({token:t,providedIn:"any",factory:()=>Sn(Ts)}),t.__NG_ELEMENT_ID__=-1,t})();function Bs(t,e){_e(Rt(t)[1],Gt())}function $s(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(ft(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Gs(t.inputs),e.declaredInputs=Gs(t.declaredInputs),e.outputs=Gs(t.outputs);const n=i.hostBindings;n&&Ks(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Qs(t,s),o&&Ws(t,o),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),ft(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===$s&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=De(i.hostAttrs,n=De(n,i.hostAttrs))}}(r)}function Gs(t){return t===F?{}:t===V?[]:t}function Qs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ws(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ks(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ys=null;function Js(){if(!Ys){const t=L.Symbol;if(t&&t.iterator)Ys=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ys=n)}}}return Ys}class Zs{constructor(t){this.wrapped=t}static wrap(t){return new Zs(t)}static unwrap(t){return Zs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Zs}}function Xs(t){return!!to(t)&&(Array.isArray(t)||!(t instanceof Map)&&Js()in t)}function to(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function eo(t,e,n){return t[e]=n}function no(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ro(t,e,n,r){const i=no(t,e,n);return no(t,e+1,r)||i}function io(t,e,n,r){const i=qt();return no(i,ne(),e)&&(Bt(),function(t,e,n,r,i,s){const o=Dt(t,e);us(e[11],o,s,t.value,n,r,i)}(ve(),i,t,e,n,r)),io}function so(t,e,n,r){return no(t,ne(),n)?e+gt(n)+r:ki}function oo(t,e,n,r,i,s,o,a){const u=qt(),c=Bt(),l=t+st,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Vi(e,t,4,o||null,Ft(c,a));ts(e,n,l,Ft(c,u)),_e(e,l);const h=l.tViews=Yi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Kt(h,!1);const f=u[11].createComment("");ai(c,u,f,h),Ar(f,u),gs(u,u[l]=hs(f,u,f,h)),ht(h)&&Qi(c,u,h),null!=o&&Wi(u,h,a)}function ao(t){return Pt(zt.lFrame.contextLView,st+t)}function uo(t,e=x.Default){const n=qt();return null===n?Sn(t,e):Ge(Gt(),n,p(t),e)}function co(t,e,n){const r=qt();return no(r,ne(),e)&&Xi(Bt(),ve(),r,t,e,r[11],n,!1),co}function lo(t,e,n,r,i){const s=i?"class":"style";Cs(t,n,e.inputs[s],s,r)}function ho(t,e,n,r){const i=qt(),s=Bt(),o=st+t,a=i[11],u=i[o]=$r(a,e,zt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Vi(e,t,2,i,Ft(a,s));return ts(e,n,u,Ft(a,o)),null!==u.attrs&&xs(u,u.attrs,!1),null!==u.mergedAttrs&&xs(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Kt(c,!0);const l=c.mergedAttrs;null!==l&&ke(a,u,l);const h=c.classes;null!==h&&gi(a,u,h);const f=c.styles;null!==f&&pi(a,u,f),64!=(64&c.flags)&&ai(s,i,u,c),0===zt.lFrame.elementDepthCount&&Ar(u,i),zt.lFrame.elementDepthCount++,ht(c)&&(Qi(s,i,c),Gi(s,c,i)),null!==r&&Wi(i,c)}function fo(){let t=Gt();Yt()?Jt():(t=t.parent,Kt(t,!1));const e=t;zt.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(_e(n,t),ct(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&lo(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&lo(n,e,qt(),e.stylesWithoutHost,!1)}function po(t,e,n,r){ho(t,e,n,r),fo()}function go(t,e,n){const r=qt(),i=Bt(),s=t+st,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Ft(s,r),a=Vi(e,t,8,"ng-container",o);return null!==o&&xs(a,o,!0),ts(e,n,a,Ft(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Kt(o,!0);const a=r[s]=r[11].createComment("");ai(i,r,a,o),Ar(a,r),ht(o)&&(Qi(i,r,o),Gi(i,o,r)),null!=n&&Wi(r,o)}function mo(){let t=Gt();const e=Bt();Yt()?Jt():(t=t.parent,Kt(t,!1)),e.firstCreatePass&&(_e(e,t),ct(t)&&e.queries.elementEnd(t))}function yo(){return qt()}function bo(t){return!!t&&"function"==typeof t.then}function vo(t){return!!t&&"function"==typeof t.subscribe}const _o=vo;function wo(t,e,n=!1,r){const i=qt(),s=Bt(),o=Gt();return function(t,e,n,r,i,s,o=!1,a){const u=ht(r),c=t.firstCreatePass&&Os(t),l=ws(e);let h=!0;if(3&r.type){const f=Dt(r,e),d=a?a(f):F,p=d.target||f,g=l.length,m=a?t=>a(It(t[r.index])).target:r.index;if(Tt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Eo(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=Eo(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}else s=Eo(r,e,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),wo}function Oo(t,e,n){try{return!1!==e(n)}catch(r){return Es(t,r),!1}}function Eo(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Nt(t.index,e):e;0==(32&e[2])&&ms(o);let a=Oo(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Oo(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Co(t=1){return function(t){return(zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,zt.lFrame.contextLView))[8]}(t)}function So(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Ci(t,s,!0):Si(r,s))return i}else n=i}return n}function xo(t){const e=qt()[16][6];if(!e.projection){const n=e.projection=pn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?So(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function To(t,e=0,n){const r=qt(),i=Bt(),s=Vi(i,st+t,16,null,n||null);null===s.projection&&(s.projection=e),Jt(),64!=(64&s.flags)&&function(t,e,n){di(e[11],0,e,n,Yr(t,n,e),ni(n.parent||e[6],n,e))}(i,r,s)}function ko(t,e,n){return Io(t,"",e,"",n),ko}function Io(t,e,n,r,i){const s=qt(),o=so(s,e,n,r);return o!==ki&&Xi(Bt(),ve(),s,t,o,s[11],i,!1),Io}const Ao=[];function Do(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ji(s):Ni(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];jo(t[a],e)&&(u=!0,t[a+1]=r?Mi(n):Pi(n)),a=r?ji(n):Ni(n)}u&&(t[n+1]=r?Pi(s):Mi(s))}function jo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&yn(t,e)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function No(t){return t.substring(Po.key,Po.keyEnd)}function Ro(t,e){const n=Po.textEnd;return n===e?-1:(e=Po.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Po.key=e,n),Mo(t,e,n))}function Mo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Lo(t,e,n){return zo(t,e,n,!1),Lo}function Fo(t,e){return zo(t,e,null,!0),Fo}function Vo(t){Ho(gn,Uo,t,!0)}function Uo(t,e){for(let n=function(t){return function(t){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=t.length}(t),Ro(t,Mo(t,0,Po.textEnd))}(e);n>=0;n=Ro(e,n))gn(t,No(e),!0)}function zo(t,e,n,r){const i=qt(),s=Bt(),o=re(2);s.firstUpdatePass&&Bo(s,t,o,r),e!==ki&&no(i,o,e)&&Qo(s,s.data[ye()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(zn(t)))),t}(e,n),r,o)}function Ho(t,e,n,r){const i=Bt(),s=re(2);i.firstUpdatePass&&Bo(i,null,s,r);const o=qt();if(n!==ki&&no(o,s,n)){const a=i.data[ye()];if(Yo(a,r)&&!qo(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),lo(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===ki&&(i=Ao);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&Qo(t,e,n,r,g,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Ao;const r=[],i=zn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function qo(t,e){return e>=t.expandoStartIndex}function Bo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ye()],o=qo(t,n);Yo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Go(n=$o(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=$o(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ni(r))return t[ji(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=$o(null,t,e,n[1],r),n=Go(n,e.attrs,r),function(t,e,n,r){t[ji(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Go(r,t[s].hostAttrs,n);return Go(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ji(o),u=Ni(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||yn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ji(t[a+1]);t[r+1]=Di(e,a),0!==e&&(t[e+1]=Ri(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Di(a,0),0!==a&&(t[a+1]=Ri(t[a+1],r)),a=r;else t[r+1]=Di(u,0),0===a?a=r:t[u+1]=Ri(t[u+1],r),u=r;l&&(t[r+1]=Pi(t[r+1])),Do(t,c,r,!0),Do(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&yn(s,e)>=0&&(n[r+1]=Mi(n[r+1]))}(e,c,t,r,s),o=Di(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function $o(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Go(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Go(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),gn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Qo(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Ko(1==(1&c)?Wo(u,e,n,i,Ni(c),o):void 0)||(Ko(s)||2==(2&c)&&(s=Wo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Tt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Nr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Nr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,At(ye(),n),i,s))}function Wo(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===ki&&(l=c?Ao:void 0);let h=c?mn(l,r):u===r?l:void 0;if(s&&!Ko(h)&&(h=mn(e,r)),Ko(h)&&(a=h,o))return a;const f=t[i+1];i=o?ji(f):Ni(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=mn(t,r))}return a}function Ko(t){return void 0!==t}function Yo(t,e){return 0!=(t.flags&(e?16:32))}function Jo(t,e=""){const n=qt(),r=Bt(),i=t+st,s=r.firstCreatePass?Vi(r,i,1,e,null):r.data[i],o=n[i]=Hr(n[11],e);ai(r,n,o,s),Kt(s,!1)}function Zo(t){return Xo("",t,""),Zo}function Xo(t,e,n){const r=qt(),i=so(r,t,e,n);return i!==ki&&Ss(r,ye(),i),Xo}function ta(t,e,n,r,i){const s=qt(),o=function(t,e,n,r,i,s){const o=ro(t,ee(),n,i);return re(2),o?e+gt(n)+r+gt(i)+s:ki}(s,t,e,n,r,i);return o!==ki&&Ss(s,ye(),o),ta}function ea(t,e,n,r,i,s,o,a,u){Ho(gn,Uo,function(t,e,n,r,i,s,o,a,u,c){const l=function(t,e,n,r,i,s){const o=ro(t,e,n,r);return ro(t,e+2,i,s)||o}(t,ee(),n,i,o,u);return re(4),l?e+gt(n)+r+gt(i)+s+gt(o)+a+gt(u)+c:ki}(qt(),t,e,n,r,i,s,o,a,u),!0)}function na(t,e,n){const r=qt();return no(r,ne(),e)&&Xi(Bt(),ve(),r,t,e,r[11],n,!0),na}const ra=void 0;var ia=["en",[["a","p"],["AM","PM"],ra],[["AM","PM"],ra,ra],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ra,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ra,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ra,"{1} 'at' {0}",ra],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let sa={};function oa(t,e,n){"string"!=typeof e&&(n=e,e=t[ha.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),sa[e]=t,n&&(sa[e][ha.ExtraData]=n)}function aa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=la(e);if(n)return n;const r=e.split("-")[0];if(n=la(r),n)return n;if("en"===r)return ia;throw new Error(`Missing locale data for the locale "${t}".`)}function ua(t){return aa(t)[ha.CurrencyCode]||null}function ca(t){return aa(t)[ha.PluralCase]}function la(t){return t in sa||(sa[t]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[t]),sa[t]}var ha=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const fa=["zero","one","two","few","many"],da="en-US",pa={marker:"element"},ga={marker:"ICU"};var ma=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let ya=da;function ba(t){var e;null==(e=t)&&m("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ya=t.toLowerCase().replace(/_/g,"-"))}function va(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ri(t,0,n):It(n[i])}function _a(t,e,n,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)Zr(t,o,n[s[e]],a,!1)}}function wa(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];Oa(r)||Ea(r,e)&&null===Ca(r)&&Sa(r,e.index)}}function Oa(t){return!(64&t.type)}function Ea(t,e){return Oa(e)||t.index>e.index}function Ca(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Sa(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(oi(va,_a),t.insertBeforeIndex=e)}function xa(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ta(t,e,n){const r=Ui(t,n,64,null,null);return wa(e,r),r}function ka(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Ia=0,Aa=0;function Da(t,e,n,r){const i=n[11];let s,o=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=Hr(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===o&&(o=c,s=ei(i,r)),c===o?(l=r,h=s):(l=null,h=It(n[c])),null!==h){const e=(131070&u)>>>1;Zr(i,h,n[e],l,!1);const r=xa(t,e);if(null!==r&&"object"==typeof r){const e=ka(r,n);null!==e&&Da(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];us(i,At(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case ga:const t=e[++a],r=e[++a];null===n[r]&&Ar(n[r]=Br(i,t),n);break;case pa:const s=e[++a],o=e[++a];null===n[o]&&Ar(n[o]=$r(i,s,null),n)}}}function ja(t,e,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=gt(e[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],u=n[++o],c=t.data[a];"string"==typeof c?us(e[11],e[a],null,c,s,i,u):Xi(t,c,e,s,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&qr(e[11],l,i);break;case 2:Na(t,xa(t,a),e,i);break;case 3:Pa(t,xa(t,a),r,e)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=xa(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Pa(t,n,r,e)}}s+=a}}function Pa(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let s=Ia;i<0&&(i=r[e.currentCaseLViewIndex]=~i,s=-1),ja(t,r,e.update[i],n,s)}}function Na(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ca(e)(parseInt(t,10)),r=fa[n];return void 0!==r?r:"other"}(e,ya);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(ka(e,n)!==i&&(Ra(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Da(t,e.create[i],n,r)}}function Ra(t,e,n){let r=ka(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=At(r,n);null!==t&&li(n[11],t)}else Ra(t,xa(t,~r),n)}}}const Ma=/\ufffd(\d+):?\d*\ufffd/gi,La=/\ufffd(\d+)\ufffd/,Fa=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Va=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ua=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,za=/\uE500/g;function Ha(t,e,n,r,i,s,o){const a=zi(t,r,1,null);let u=a<<ma.SHIFT,c=Wt();e===c&&(c=null),null===c&&(u|=ma.APPEND_EAGERLY),o&&(u|=ma.COMMENT,void 0===Rr&&(Rr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=ka(t,e);n=null!==i?t.remove[i]:V}function s(){if(r<n.length){const o=n[r++];return o>0?e[o]:(t.push(r,n),i(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),r=t.pop(),s())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),s}}())),i.push(u,null===s?"":s);const l=Ui(t,a,o?32:1,null===s?"":s,null);wa(n,l);const h=l.index;return Kt(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(oi(va,_a),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&m("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function qa(t,e,n,r,i,s,o){const a=o.match(Ma),u=Ha(t,e,n,s,r,a?null:o,!1);a&&Ba(i,o,u.index)}function Ba(t,e,n,r,i=null){const s=t.length,o=s+1;t.push(null,null);const a=s+2,u=e.split(Ma);let c=0;for(let l=0;l<u.length;l++){const e=u[l];if(1&l){const n=parseInt(e,10);t.push(-1-n),c|=$a(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[s]=c,t[o]=t.length-a,c}function $a(t){return 1<<Math.min(t,31)}function Ga(t){let e,n,r="",i=0,s=!1;for(;null!==(e=Va.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function Qa(t,e,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:zi(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push($a(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,s),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,s,a);const u=i.values;for(let c=0;c<u.length;c++){const s=u[c],l=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=l.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=Ya(t,a,e,n,r,i.cases[c],s.join(""),l)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function Wa(t){const e=[],n=[];let r=1,i=0;const s=Ka(t=t.replace(Fa,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Ka(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Ka(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Fa.test(n)?r.push(Wa(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function Ya(t,e,n,r,i,s,o,a){const u=[],c=[],l=[];e.cases.push(s),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Kn(xt()).getInertBodyElement(o),f=vr(h)||h;return f?Ja(t,e,n,r,u,c,l,f,i,a,0):0}function Ja(t,e,n,r,i,s,o,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=zi(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(ur.hasOwnProperty(p)){tu(i,pa,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(Ma)?hr.hasOwnProperty(n)&&(cr[n]?Ba(o,e.value,a,e.name,tr):lr[n]?Ba(o,e.value,a,e.name,er):Ba(o,e.value,a,e.name)):eu(i,a,e)}h=Ja(t,e,n,r,i,s,o,f,a,c,l+1)|h,Za(s,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(Ma);tu(i,null,m?"":g,u,a),Za(s,a,l),m&&(h=Ba(o,g,a)|h);break;case Node.COMMENT_NODE:const y=La.exec(f.textContent||"");if(y){const e=c[parseInt(y[1],10)];tu(i,ga,"",u,a),Qa(t,n,r,u,e,a),Xa(s,a,l)}}f=f.nextSibling}return h}function Za(t,e,n){0===n&&t.push(e)}function Xa(t,e,n){0===n&&(t.push(~e),t.push(e))}function tu(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function eu(t,e,n){t.push(e<<1|1,n.name,n.value)}function nu(t,e,n){(function(t,e,n=-1){const r=Bt(),i=qt(),s=st+t,o=Ft(r.consts,e),a=Wt();r.firstCreatePass&&function(t,e,n,r,i,s){const o=Wt(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Ga(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Ga(t.substring(n,r))}}(i,s),h.replace(za," ")).split(Ua);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const s=Ka(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const e=l;""!==e&&qa(t,o,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);Qa(t,n,u,e,r,Ha(t,o,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),st+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),Kt(Wt(),!1);else{const e=Ta(t,c[0],n);c.unshift([]),Kt(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,s,o,n);const u=r.data[s],c=Jr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],u=(o&ma.COMMENT)===ma.COMMENT,c=(o&ma.APPEND_EAGERLY)===ma.APPEND_EAGERLY,l=o>>>ma.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):Hr(i,a)),c&&null!==n&&Zr(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),ie(!0)})(t,e,n),ie(!1)}function ru(t){return no(qt(),ne(),t)&&(Ia|=1<<Math.min(Aa,31)),Aa++,ru}function iu(t){!function(t,e,n){if(Aa>0){const r=t.data[n];ja(t,e,Array.isArray(r)?r:r.update,ee()-Aa-1,Ia)}Ia=0,Aa=0}(Bt(),qt(),t+st)}function su(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)su(t[s],e,n,r,i);else{const s=Bt(),o=qt();let a=zs(t)?t:p(t.provide),u=Fs(t);const c=Gt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(zs(t)||!t.multi){const r=new Te(u,i,uo),d=uu(a,e,i?l:l+f,h);-1===d?(qe(Ve(c,o),s,a),ou(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=uu(a,e,l+f,h),p=uu(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){qe(Ve(c,o),s,a);const l=function(t,e,n,r,i){const s=new Te(t,n,uo);return s.multi=[],s.index=e,s.componentProviders=0,au(s,i,r&&!n),s}(i?lu:cu,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ou(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else ou(s,t,d>-1?d:p,au(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ou(t,e,n,r){const i=zs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function au(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function uu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function cu(t,e,n,r){return hu(this.multi,[])}function lu(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Je(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),hu(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],hu(i,s);return s}function hu(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function fu(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=ft(t);su(n,r.data,r.blueprint,i,!0),su(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class du{}class pu{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let gu=(()=>{class t{}return t.NULL=new pu,t})();function mu(...t){}function yu(t,e){return new vu(Dt(t,e))}const bu=function(){return yu(Gt(),qt())};let vu=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=bu,t})();function _u(t){return t instanceof vu?t.nativeElement:t}class wu{}let Ou=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Eu(),t})();const Eu=function(){const t=qt(),e=Nt(Gt().index,t);return function(t){return t[11]}(at(e)?e:t)};let Cu=(()=>{class t{}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>null}),t})();class Su{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const xu=new Su("11.1.1");class Tu{constructor(){}supports(t){return Xs(t)}create(t){return new Iu(t)}}const ku=(t,e)=>e;class Iu{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ku}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Pu(n,r,i)?e:n,o=Pu(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Xs(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Js()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Au(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ju),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ju),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Au{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Du{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ju{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Du,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pu(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Nu{constructor(){}supports(t){return t instanceof Map||to(t)}create(){return new Ru}}class Ru{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||to(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Mu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Mu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lu(){return new Fu([new Tu])}let Fu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Lu()),deps:[[t,new An,new In]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=y({token:t,providedIn:"root",factory:Lu}),t})();function Vu(){return new Uu([new Nu])}let Uu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Vu()),deps:[[t,new An,new In]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=y({token:t,providedIn:"root",factory:Vu}),t})();function zu(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(It(s)),ut(s))for(let t=ot;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&zu(e[1],e,n,r)}const o=n.type;if(8&o)zu(t,e,n.child,r);else if(32&o){const t=Mr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Lr(t);zu(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Hu{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return zu(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ut(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Qr(t,n),dn(e,n))}this._attachedToViewContainer=!1}Wr(this._lView[1],this._lView)}onDestroy(t){Ji(this._lView[1],this._lView,null,t)}markForCheck(){ms(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ys(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xt(!0);try{ys(t,e,n)}finally{Xt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,fi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class qu extends Hu{constructor(t){super(t),this._view=t}detectChanges(){bs(this._view)}checkNoChanges(){!function(t){Xt(!0);try{bs(t)}finally{Xt(!1)}}(this._view)}get context(){return null}}const Bu=Gu;let $u=(()=>{class t{}return t.__NG_ELEMENT_ID__=Bu,t.__ChangeDetectorRef__=!0,t})();function Gu(t=!1){return function(t,e,n){if(!n&&lt(t)){const n=Nt(t.index,e);return new Hu(n,n)}return 47&t.type?new Hu(e[16],e):null}(Gt(),qt(),t)}const Qu=[new Nu],Wu=new Fu([new Tu]),Ku=new Uu(Qu),Yu=function(){return tc(Gt(),qt())};let Ju=(()=>{class t{}return t.__NG_ELEMENT_ID__=Yu,t})();const Zu=Ju,Xu=class extends Zu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Fi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Hi(e,n,t),new Hu(n)}};function tc(t,e){return 4&t.type?new Xu(e,t,yu(t,e)):null}class ec{}class nc{}const rc=function(){return cc(Gt(),qt())};let ic=(()=>{class t{}return t.__NG_ELEMENT_ID__=rc,t})();const sc=ic,oc=class extends sc{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){const t=He(this._hostTNode,this._hostLView);if(Pe(t)){const e=Re(t,this._hostLView),n=Ne(t);return new tn(e[1].data[n+8],e)}return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ac(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ec,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(ut(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new oc(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ot+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ot?(e[4]=n[i],fn(n,ot+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=ci(i,s),a=n[11],u=ei(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,fi(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),fn(uc(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ac(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Qr(this._lContainer,e);n&&(dn(uc(this._lContainer),e),Wr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Qr(this._lContainer,e);return n&&null!=dn(uc(this._lContainer),e)?new Hu(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ac(t){return t[8]}function uc(t){return t[8]||(t[8]=[])}function cc(t,e){let n;const r=e[t.index];if(ut(r))n=r;else{let i;if(8&t.type)i=It(r);else{const n=e[11];i=n.createComment("");const r=Dt(t,e);Zr(n,ei(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=hs(r,e,i,t),gs(e,n)}return new oc(n,t,e)}const lc={};class hc extends gu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=rt(t);return new pc(e,this.ngModule)}}function fc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const dc=new an("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Dr});class pc extends du{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ti).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return fc(this.componentDef.inputs)}get outputs(){return fc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,lc,i);return s!==lc||r===lc?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(wu,kt),o=i.get(Cu,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===j.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):$r(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Dr,clean:_s,playerHandler:null,flags:0},f=Yi(0,null,null,1,0,null,null,null,null,null),d=Fi(null,f,h,l,null,null,s,a,o,i);let p,g;he(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Vi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(xs(a,u,!0),null!==t&&(ke(i,t,u),null!==a.classes&&gi(i,t,a.classes),null!==a.styles&&pi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Fi(n,Ki(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(qe(Ve(a,n),o,e.type),rs(o,a),ss(a,n.length,1)),gs(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)ke(a,c,["ng-version",xu.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Oi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ke(a,c,t),e&&e.length>0&&gi(a,c,e.join(" "))}if(g=jt(f,st),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),os(t,r,e,zi(t,e,1,null),n));const i=Je(e,t,r.directiveStart,r);Ar(i,e);const s=Dt(r,e);return s&&Ar(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Gt();e.contentQueries(1,o,t.directiveStart)}const a=Gt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(be(a.index),es(n[1],a,0,a.directiveStart,a.directiveEnd,e),ns(e,o)),o}(t,this.componentDef,d,h,[Bs]),Hi(f,d,null)}finally{me()}return new gc(this.componentType,p,yu(g,d),d,g)}}class gc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new qu(r),this.componentType=t}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const mc=new Map;class yc extends ec{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new hc(this);const n=it(t),r=t[B]||null;r&&ba(r),this._bootstrapComponents=Pr(n.bootstrap),this._r3Injector=Rs(t,e,[{provide:ec,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=qs.THROW_IF_NOT_FOUND,n=x.Default){return t===qs||t===ec||t===Ts?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class bc extends nc{constructor(t){super(),this.moduleType=t,null!==it(t)&&function(t){const e=new Set;!function t(n){const r=it(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,mc.get(i),n),mc.set(i,n));const s=Pr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new yc(this.moduleType,t)}}function vc(t,e,n){const r=te()+t,i=qt();return i[r]===ki?eo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function _c(t,e,n,r){return Cc(qt(),te(),t,e,n,r)}function wc(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return ro(t,a,i,s)?eo(t,a+2,o?r.call(o,i,s):r(i,s)):Ec(t,a+2)}(qt(),te(),t,e,n,r,i)}function Oc(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const u=e+n;return function(t,e,n,r,i){const s=ro(t,e,n,r);return no(t,e+2,i)||s}(t,u,i,s,o)?eo(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):Ec(t,u+3)}(qt(),te(),t,e,n,r,i,s)}function Ec(t,e){const n=t[e];return n===ki?void 0:n}function Cc(t,e,n,r,i,s){const o=e+n;return no(t,o,i)?eo(t,o+1,s?r.call(s,i):r(i)):Ec(t,o+1)}function Sc(t,e){const n=Bt();let r;const i=t+st;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new pt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=dt(r.type)),o=k(uo);try{const t=Le(!1),e=s();return Le(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,qt(),i,e),e}finally{k(o)}}function xc(t,e,n){const r=t+st,i=qt(),s=Pt(i,r);return function(t,e){return Zs.isWrapped(e)&&(e=Zs.unwrap(e),t[ee()]=ki),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Cc(i,te(),e,s.transform,n,s):s.transform(n))}const Tc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function kc(){return this._results[Js()]()}class Ic{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Js(),n=Ic.prototype;n[e]||(n[e]=kc)}get changes(){return this._changes||(this._changes=new Tc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=ln(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ac{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ac(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Dc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==$c(t,e).matches&&this.queries[e].setDirty()}}class jc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Pc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Pc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Nc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Nc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Rc(e,i)),this.matchTNodeWithReadOption(t,e,Ye(e,t,i,!1,!1))}else n===Ju?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ye(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===vu||r===ic||r===Ju&&4&e.type)this.addMatch(e.index,-2);else{const n=Ye(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Rc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Mc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?yu(t,e):4&t.type?tc(t,e):null}(e,t):-2===n?function(t,e,n){return n===vu?yu(e,t):n===Ju?tc(e,t):n===ic?cc(e,t):void 0}(t,e,r):Je(t,t[1],n,e)}function Lc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Mc(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Fc(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Lc(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ot;t<o.length;t++){const e=o[t];e[17]===e[3]&&Fc(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Fc(n[1],n,i,r)}}}}}return r}function Vc(t){const e=qt(),n=Bt(),r=ae();ue(r+1);const i=$c(n,r);if(t.dirty&&Mt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Fc(n,e,r,[]):Lc(n,e,i,r);t.reset(s,_u),t.notifyOnChanges()}return!0}return!1}function Uc(t,e,n){const r=Bt();r.firstCreatePass&&(Bc(r,new jc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),qc(r,qt(),e)}function zc(t,e,n,r){const i=Bt();if(i.firstCreatePass){const s=Gt();Bc(i,new jc(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}qc(i,qt(),n)}function Hc(){return t=qt(),e=ae(),t[19].queries[e].queryList;var t,e}function qc(t,e,n){const r=new Ic(4==(4&n));Ji(t,e,r,r.destroy),null===e[19]&&(e[19]=new Dc),e[19].queries.push(new Ac(r))}function Bc(t,e,n){null===t.queries&&(t.queries=new Pc),t.queries.track(new Nc(e,n))}function $c(t,e){return t.queries.getByIndex(e)}function Gc(t,e){return tc(t,e)}function Qc(t=x.Default){const e=Gu(!0);if(null!=e||t&x.Optional)return e;yt("ChangeDetectorRef")}const Wc=new an("Application Initializer");let Kc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=mu,this.reject=mu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();bo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Sn(Wc,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Yc=new an("AppId"),Jc={provide:Yc,useFactory:function(){return`${Zc()}${Zc()}${Zc()}`},deps:[]};function Zc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xc=new an("Platform Initializer"),tl=new an("Platform ID"),el=new an("appBootstrapListener");let nl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const rl=new an("LocaleId"),il=new an("DefaultCurrencyCode");class sl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ol=function(t){return new bc(t)},al=ol,ul=function(t){return Promise.resolve(ol(t))},cl=function(t){const e=ol(t),n=Pr(it(t).declarations).reduce((t,e)=>{const n=rt(e);return n&&t.push(new pc(n)),t},[]);return new sl(e,n)},ll=cl,hl=function(t){return Promise.resolve(cl(t))};let fl=(()=>{class t{constructor(){this.compileModuleSync=al,this.compileModuleAsync=ul,this.compileModuleAndAllComponentsSync=ll,this.compileModuleAndAllComponentsAsync=hl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const dl=(()=>Promise.resolve(0))();function pl(t){"undefined"==typeof Zone?dl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class gl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tc(!1),this.onMicrotaskEmpty=new Tc(!1),this.onStable=new Tc(!1),this.onError=new Tc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=L.requestAnimationFrame,e=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(L,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bl(t),yl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return vl(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),_l(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return vl(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),_l(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,bl(t),yl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,ml,mu,mu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ml={};function yl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _l(t){t._nesting--,yl(t)}class wl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tc,this.onMicrotaskEmpty=new Tc,this.onStable=new Tc,this.onError=new Tc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ol=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gl.assertNotInAngularZone(),pl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Sn(gl))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),El=(()=>{class t{constructor(){this._applications=new Map,Tl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Tl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class Cl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Sl(t){Tl=t}let xl,Tl=new Cl,kl=!0,Il=!1;function Al(){return Il=!0,kl}function Dl(){if(Il)throw new Error("Cannot enable prod mode after platform setup.");kl=!1}const jl=new an("AllowMultipleToken");class Pl{constructor(t,e){this.name=t,this.token=e}}function Nl(t,e,n=[]){const r=`Platform: ${e}`,i=new an(r);return(e=[])=>{let s=Rl();if(!s||s.injector.get(jl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Is,useValue:"platform"});!function(t){if(xl&&!xl.destroyed&&!xl.injector.get(jl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");xl=t.get(Ml);const e=t.get(Xc,null);e&&e.forEach(t=>t())}(qs.create({providers:t,name:r}))}return function(t){const e=Rl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Rl(){return xl&&!xl.destroyed?xl:null}let Ml=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new wl:("zone.js"===t?void 0:t)||new gl({enableLongStackTrace:Al(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:gl,useValue:n}];return n.run(()=>{const e=qs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Tr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Vl(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return bo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Kc);return t.runInitializers(),t.donePromise.then(()=>(ba(i.injector.get(rl,da)||da),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ll({},e);return function(t,e,n){const r=new bc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Fl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Sn(qs))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function Ll(t,e){return Array.isArray(e)?e.reduce(Ll,t):Object.assign(Object.assign({},t),e)}let Fl=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{gl.assertNotInAngularZone(),pl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{gl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof du?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ec),i=n.create(qs.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Ol,null),a=o&&i.injector.get(El);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Vl(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),Al()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Vl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(el,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Sn(gl),Sn(nl),Sn(qs),Sn(Tr),Sn(gu),Sn(Kc))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function Vl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ul{}class zl{}const Hl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ql=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Hl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Bl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Bl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Sn(fl),Sn(zl,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function Bl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const $l=function(t){return null},Gl=Nl(null,"core",[{provide:tl,useValue:"unknown"},{provide:Ml,deps:[qs]},{provide:El,deps:[]},{provide:nl,deps:[]}]),Ql=[{provide:Fl,useClass:Fl,deps:[gl,nl,qs,Tr,gu,Kc]},{provide:dc,deps:[gl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Kc,useClass:Kc,deps:[[new In,Wc]]},{provide:fl,useClass:fl,deps:[]},Jc,{provide:Fu,useFactory:function(){return Wu},deps:[]},{provide:Uu,useFactory:function(){return Ku},deps:[]},{provide:rl,useFactory:function(t){return ba(t=t||"undefined"!=typeof $localize&&$localize.locale||da),t},deps:[[new kn(rl),new In,new An]]},{provide:il,useValue:"USD"}];let Wl=(()=>{class t{constructor(t){}}return t.\u0275mod=Z({type:t}),t.\u0275inj=b({factory:function(e){return new(e||t)(Sn(Fl))},providers:Ql}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("SpAZ");function i(...t){return s(t)}function s(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("30Go");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),_=new u.P("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:w,deps:[b,u.A,[new u.B,v]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)(u.Yb(u.C))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("XNiG"),i=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.a}function p(){return t=>{return a()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("30Go"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(s.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.14",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Yb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Ib)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Yb)(o))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Yb)(o).location;return new v(Object(r.Yb)(a),e&&e.origin||"")}const b=new r.r("appBaseHref");let v=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(m),r.Yb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ib)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new w(Object(r.Yb)(m),Object(r.Yb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),S=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),x=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),T=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),k=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function I(t,e,n){const i=Object(r.jb)(t),s=L([i[r.ab.DaysFormat],i[r.ab.DaysStandalone]],e);return L(s,n)}function A(t,e,n){const i=Object(r.jb)(t),s=L([i[r.ab.MonthsFormat],i[r.ab.MonthsStandalone]],e);return L(s,n)}function D(t,e){return L(Object(r.jb)(t)[r.ab.DateFormat],e)}function j(t,e){return L(Object(r.jb)(t)[r.ab.TimeFormat],e)}function P(t,e){return L(Object(r.jb)(t)[r.ab.DateTimeFormat],e)}function N(t,e){const n=Object(r.jb)(t),i=n[r.ab.NumberSymbols][e];if(void 0===i){if(e===k.CurrencyDecimal)return n[r.ab.NumberSymbols][k.Decimal];if(e===k.CurrencyGroup)return n[r.ab.NumberSymbols][k.Group]}return i}const R=r.mb;function M(t){if(!t[r.ab.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.ab.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function L(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function F(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const V=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,U={},z=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var H=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),q=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),B=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function $(t,e,n,r){let i=function(t){if(rt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(V))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(n)}const e=new Date(t);if(!rt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=G(n,e)||e;let s,o=[];for(;e;){if(s=z.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=nt(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(nt(e,r)-r))}(i,r));let u="";return o.forEach(t=>{const e=function(t){if(et[t])return et[t];let e;switch(t){case"G":case"GG":case"GGG":e=Y(B.Eras,x.Abbreviated);break;case"GGGG":e=Y(B.Eras,x.Wide);break;case"GGGGG":e=Y(B.Eras,x.Narrow);break;case"y":e=K(q.FullYear,1,0,!1,!0);break;case"yy":e=K(q.FullYear,2,0,!0,!0);break;case"yyy":e=K(q.FullYear,3,0,!1,!0);break;case"yyyy":e=K(q.FullYear,4,0,!1,!0);break;case"Y":e=tt(1);break;case"YY":e=tt(2,!0);break;case"YYY":e=tt(3);break;case"YYYY":e=tt(4);break;case"M":case"L":e=K(q.Month,1,1);break;case"MM":case"LL":e=K(q.Month,2,1);break;case"MMM":e=Y(B.Months,x.Abbreviated);break;case"MMMM":e=Y(B.Months,x.Wide);break;case"MMMMM":e=Y(B.Months,x.Narrow);break;case"LLL":e=Y(B.Months,x.Abbreviated,S.Standalone);break;case"LLLL":e=Y(B.Months,x.Wide,S.Standalone);break;case"LLLLL":e=Y(B.Months,x.Narrow,S.Standalone);break;case"w":e=X(1);break;case"ww":e=X(2);break;case"W":e=X(1,!0);break;case"d":e=K(q.Date,1);break;case"dd":e=K(q.Date,2);break;case"E":case"EE":case"EEE":e=Y(B.Days,x.Abbreviated);break;case"EEEE":e=Y(B.Days,x.Wide);break;case"EEEEE":e=Y(B.Days,x.Narrow);break;case"EEEEEE":e=Y(B.Days,x.Short);break;case"a":case"aa":case"aaa":e=Y(B.DayPeriods,x.Abbreviated);break;case"aaaa":e=Y(B.DayPeriods,x.Wide);break;case"aaaaa":e=Y(B.DayPeriods,x.Narrow);break;case"b":case"bb":case"bbb":e=Y(B.DayPeriods,x.Abbreviated,S.Standalone,!0);break;case"bbbb":e=Y(B.DayPeriods,x.Wide,S.Standalone,!0);break;case"bbbbb":e=Y(B.DayPeriods,x.Narrow,S.Standalone,!0);break;case"B":case"BB":case"BBB":e=Y(B.DayPeriods,x.Abbreviated,S.Format,!0);break;case"BBBB":e=Y(B.DayPeriods,x.Wide,S.Format,!0);break;case"BBBBB":e=Y(B.DayPeriods,x.Narrow,S.Format,!0);break;case"h":e=K(q.Hours,1,-12);break;case"hh":e=K(q.Hours,2,-12);break;case"H":e=K(q.Hours,1);break;case"HH":e=K(q.Hours,2);break;case"m":e=K(q.Minutes,1);break;case"mm":e=K(q.Minutes,2);break;case"s":e=K(q.Seconds,1);break;case"ss":e=K(q.Seconds,2);break;case"S":e=K(q.FractionalSeconds,1);break;case"SS":e=K(q.FractionalSeconds,2);break;case"SSS":e=K(q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=J(H.Short);break;case"ZZZZZ":e=J(H.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=J(H.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=J(H.Long);break;default:return null}return et[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function G(t,e){const n=function(t){return Object(r.jb)(t)[r.ab.LocaleId]}(t);if(U[n]=U[n]||{},U[n][e])return U[n][e];let i="";switch(e){case"shortDate":i=D(t,T.Short);break;case"mediumDate":i=D(t,T.Medium);break;case"longDate":i=D(t,T.Long);break;case"fullDate":i=D(t,T.Full);break;case"shortTime":i=j(t,T.Short);break;case"mediumTime":i=j(t,T.Medium);break;case"longTime":i=j(t,T.Long);break;case"fullTime":i=j(t,T.Full);break;case"short":const e=G(t,"shortTime"),n=G(t,"shortDate");i=Q(P(t,T.Short),[e,n]);break;case"medium":const r=G(t,"mediumTime"),s=G(t,"mediumDate");i=Q(P(t,T.Medium),[r,s]);break;case"long":const o=G(t,"longTime"),a=G(t,"longDate");i=Q(P(t,T.Long),[o,a]);break;case"full":const u=G(t,"fullTime"),c=G(t,"fullDate");i=Q(P(t,T.Full),[u,c])}return i&&(U[n][e]=i),i}function Q(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function W(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function K(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case q.FullYear:return e.getFullYear();case q.Month:return e.getMonth();case q.Date:return e.getDate();case q.Hours:return e.getHours();case q.Minutes:return e.getMinutes();case q.Seconds:return e.getSeconds();case q.FractionalSeconds:return e.getMilliseconds();case q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===q.Hours)0===a&&-12===n&&(a=12);else if(t===q.FractionalSeconds)return u=e,W(a,3).substr(0,u);var u;const c=N(o,k.MinusSign);return W(a,e,c,r,i)}}function Y(t,e,n=S.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case B.Months:return A(e,s,i)[t.getMonth()];case B.Days:return I(e,s,i)[t.getDay()];case B.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(o){const t=function(t){const e=Object(r.jb)(t);return M(e),(e[r.ab.ExtraData][2]||[]).map(t=>"string"==typeof t?F(t):[F(t[0]),F(t[1])])}(e),n=function(t,e,n){const i=Object(r.jb)(t);M(i);const s=L([i[r.ab.ExtraData][0],i[r.ab.ExtraData][1]],e)||[];return L(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=Object(r.jb)(t),s=L([i[r.ab.DayPeriodsFormat],i[r.ab.DayPeriodsStandalone]],e);return L(s,n)}(e,s,i)[a<12?0:1];case B.Eras:return function(t,e){return L(Object(r.jb)(t)[r.ab.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,t,e,n,i)}}function J(t){return function(e,n,r){const i=-1*r,s=N(n,k.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case H.Short:return(i>=0?"+":"")+W(o,2,s)+W(Math.abs(i%60),2,s);case H.ShortGMT:return"GMT"+(i>=0?"+":"")+W(o,1,s);case H.Long:return"GMT"+(i>=0?"+":"")+W(o,2,s)+":"+W(Math.abs(i%60),2,s);case H.Extended:return 0===r?"Z":(i>=0?"+":"")+W(o,2,s)+":"+W(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Z(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function X(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Z(n),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return W(i,t,N(r,k.MinusSign))}}function tt(t,e=!1){return function(n,r){return W(Z(n).getFullYear(),t,N(r,k.MinusSign),e)}}const et={};function nt(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function rt(t){return t instanceof Date&&!isNaN(t.valueOf())}class it{}let st=(()=>{class t extends it{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(R(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function ot(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let at=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.vb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(r.u),r.Mb(r.l),r.Mb(r.E))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class ut{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ct=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ut(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new lt(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new lt(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class lt{constructor(t,e){this.record=t,this.view=e}}let ht=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ft,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ft{constructor(){this.$implicit=null,this.ngIf=null}}function dt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let pt=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.u),r.Mb(r.E))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),gt=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.yb]}),t})();function mt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.vb)(t)}'`)}class yt{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class bt{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const vt=new bt,_t=new yt;let wt=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.rb)(e))return vt;if(Object(r.sb)(e))return _t;throw mt(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.ac())},t.\u0275pipe=r.Lb({name:"async",type:t,pure:!1}),t})(),Ot=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return $(e,n,i||this.locale,r)}catch(s){throw mt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.v))},t.\u0275pipe=r.Lb({name:"date",type:t,pure:!0}),t})(),Et=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[{provide:it,useClass:st}]}),t})();function Ct(t){return"server"===t}let St=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new xt(Object(r.Yb)(o),window)}),t})();class xt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Tt(this.window.history)||Tt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Tt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class kt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new kt,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=At||(At=document.querySelector("base"),At)?At.getAttribute("href"):null;return null==e?null:(n=e,It||(It=document.createElement("a")),It.setAttribute("href",n),"/"===It.pathname.charAt(0)?It.pathname:"/"+It.pathname);var n}resetBaseElement(){At=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return ot(document.cookie,t)}}let It,At=null;const Dt=new r.r("TRANSITION_ID"),jt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Dt,o,r.s],multi:!0}];class Pt{static init(){Object(r.X)(new Pt)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Nt=new r.r("EventManagerPlugins");let Rt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Nt),r.Yb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Mt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Lt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Ft=(()=>{class t extends Lt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ut=/%COMP%/g;function zt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?zt(t,i,n):(i=i.replace(Ut,t),n.push(i))}return n}function Ht(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let qt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Bt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new $t(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new Gt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=zt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Rt),r.Yb(Ft),r.Yb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Bt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Vt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Vt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Vt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ht(n)):this.eventManager.addEventListener(t,e,Ht(n))}}class $t extends Bt{constructor(t,e,n,r){super(t),this.component=n;const i=zt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Ut,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Ut,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Gt extends Bt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=zt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Qt=(()=>{class t extends Mt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Wt=["alt","control","meta","shift"],Kt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Zt=(()=>{class t extends Mt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Wt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Yt.hasOwnProperty(e)&&(e=Yt[e]))}return Kt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Wt.forEach(r=>{r!=n&&(0,Jt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return Object(r.Yb)(te)},token:t,providedIn:"root"}),t})(),te=(()=>{class t extends Xt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.I.NONE:return e;case r.I.HTML:return Object(r.db)(e,"HTML")?Object(r.wb)(e):Object(r.bb)(this._doc,String(e)).toString();case r.I.STYLE:return Object(r.db)(e,"Style")?Object(r.wb)(e):e;case r.I.SCRIPT:if(Object(r.db)(e,"Script"))return Object(r.wb)(e);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.nb)(e),Object(r.db)(e,"URL")?Object(r.wb)(e):Object(r.cb)(String(e));case r.I.RESOURCE_URL:if(Object(r.db)(e,"ResourceURL"))return Object(r.wb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.eb)(t)}bypassSecurityTrustStyle(t){return Object(r.hb)(t)}bypassSecurityTrustScript(t){return Object(r.gb)(t)}bypassSecurityTrustUrl(t){return Object(r.ib)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.fb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Ib)({factory:function(){return t=Object(r.Yb)(r.o),new te(t.get(o));var t},token:t,providedIn:"root"}),t})();const ee=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){kt.makeCurrent(),Pt.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],ne=Object(r.S)(r.W,"browser",ee),re=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Nt,useClass:Qt,multi:!0,deps:[o,r.A,r.C]},{provide:Nt,useClass:Zt,multi:!0,deps:[o]},[],{provide:qt,useClass:qt,deps:[Rt,Ft,r.c]},{provide:r.F,useExisting:qt},{provide:Lt,useExisting:Ft},{provide:Ft,useClass:Ft,deps:[o]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:Rt,useClass:Rt,deps:[Nt,r.A]},[]];let ie=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Dt,useExisting:r.c},jt]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Yb(t,12))},providers:re,imports:[Et,r.f]}),t})();"undefined"!=typeof window&&window;var se=n("LRne"),oe=n("HDdC"),ae=n("5+tZ");function ue(t,e){return Object(ae.a)(t,e,1)}var ce=n("7o/Q");function le(t,e){return function(n){return n.lift(new he(t,e))}}class he{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new fe(t,this.predicate,this.thisArg))}}class fe extends ce.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var de=n("lJxs");class pe{}class ge{}class me{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof me?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new me;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof me?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ye{encodeKey(t){return be(t)}encodeValue(t){return be(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function be(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class ve{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ye,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ve({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function _e(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function we(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Oe(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ee{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new me),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new ve,this.urlWithParams=e}serializeBody(){return null===this.body?null:_e(this.body)||we(this.body)||Oe(this.body)||"string"==typeof this.body?this.body:this.body instanceof ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Oe(this.body)?null:we(this.body)?this.body.type||null:_e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Ee(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var Ce=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Se{constructor(t,e=200,n="OK"){this.headers=t.headers||new me,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class xe extends Se{constructor(t={}){super(t),this.type=Ce.ResponseHeader}clone(t={}){return new xe({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Te extends Se{constructor(t={}){super(t),this.type=Ce.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Te({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ke extends Se{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ie(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ae=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Ee)r=t;else{let i,s;i=n.headers instanceof me?n.headers:new me(n.headers),n.params&&(s=n.params instanceof ve?n.params:new ve({fromObject:n.params})),r=new Ee(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(se.a)(r).pipe(ue(t=>this.handler.handle(t)));if(t instanceof Ee||"events"===n.observe)return i;const s=i.pipe(le(t=>t instanceof Te));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(de.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(de.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(de.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(de.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new ve).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ie(n,e))}post(t,e,n={}){return this.request("POST",t,Ie(n,e))}put(t,e,n={}){return this.request("PUT",t,Ie(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(pe))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class De{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const je=new r.r("HTTP_INTERCEPTORS");let Pe=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Ne=/^\)\]\}',?\n/;class Re{}let Me=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Le=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new oe.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new me(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new xe({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Ne,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Te({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new ke({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new ke({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:Ce.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Ce.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Ce.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Re))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Fe=new r.r("XSRF_COOKIE_NAME"),Ve=new r.r("XSRF_HEADER_NAME");class Ue{}let ze=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ot(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(r.C),r.Yb(Fe))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),He=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ue),r.Yb(Ve))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),qe=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(je,[]);this.chain=t.reduceRight((t,e)=>new De(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ge),r.Yb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Be=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:He,useClass:Pe}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Fe,useValue:e.cookieName}:[],e.headerName?{provide:Ve,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[He,{provide:je,useExisting:He,multi:!0},{provide:Ue,useClass:ze},{provide:Fe,useValue:"XSRF-TOKEN"},{provide:Ve,useValue:"X-XSRF-TOKEN"}]}),t})(),$e=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[Ae,{provide:pe,useClass:qe},Le,{provide:ge,useExisting:Le},Me,{provide:Re,useExisting:Me}],imports:[[Be.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Ge=n("Cfvw"),Qe=n("XNiG"),We=n("9ppp");class Ke extends Qe.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new We.a;return this._value}next(t){super.next(this._value=t)}}var Ye=n("z+Ro"),Je=n("DH7j");class Ze extends ce.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Xe extends ce.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var tn=n("SeVD");function en(t,e,n,r,i=new Xe(t,n,r)){if(!i.closed)return e instanceof oe.a?e.subscribe(i):Object(tn.a)(e)(i)}var nn=n("yCtX");const rn={};class sn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new on(t,this.resultSelector))}}class on extends Ze{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(rn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(en(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===rn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const an=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var un=n("bHdf");function cn(...t){return Object(un.a)(1)(Object(se.a)(...t))}var ln=n("EY2u");function hn(t){return new oe.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Ge.a)(n):Object(ln.b)()).subscribe(e)})}var fn=n("zx2A");function dn(t,e){return"function"==typeof e?n=>n.pipe(dn((n,r)=>Object(Ge.a)(t(n,r)).pipe(Object(de.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new pn(t))}class pn{constructor(t){this.project=t}call(t,e){return e.subscribe(new gn(t,this.project))}}class gn extends fn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new fn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(fn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const mn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function yn(t){return e=>0===t?Object(ln.b)():e.lift(new bn(t))}class bn{constructor(t){if(this.total=t,this.total<0)throw new mn}call(t,e){return e.subscribe(new vn(t,this.total))}}class vn extends ce.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function _n(...t){const e=t[t.length-1];return Object(Ye.a)(e)?(t.pop(),n=>cn(t,n,e)):e=>cn(t,e)}function wn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new On(t,e,n))}}class On{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new En(t,this.accumulator,this.seed,this.hasSeed))}}class En extends ce.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Cn(t){return function(e){const n=new Sn(t),r=e.lift(n);return n.caught=r}}class Sn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new xn(t,this.selector,this.caught))}}class xn extends fn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new fn.a(this);this.add(r);const i=Object(fn.c)(n,r);i!==r&&this.add(i)}}}function Tn(t){return function(e){return 0===t?Object(ln.b)():e.lift(new kn(t))}}class kn{constructor(t){if(this.total=t,this.total<0)throw new mn}call(t,e){return e.subscribe(new In(t,this.total))}}class In extends ce.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function An(t=Pn){return e=>e.lift(new Dn(t))}class Dn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new jn(t,this.errorFactory))}}class jn extends ce.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(I_){t=I_}this.destination.error(t)}}}function Pn(){return new an}function Nn(t=null){return e=>e.lift(new Rn(t))}class Rn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Mn(t,this.defaultValue))}}class Mn extends ce.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ln=n("SpAZ");function Fn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?le((e,n)=>t(e,n,r)):Ln.a,yn(1),n?Nn(e):An(()=>new an))}var Vn=n("vkgz"),Un=n("quSY");class zn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Hn(t,this.callback))}}class Hn extends ce.a{constructor(t,e){super(t),this.add(new Un.a(e))}}class qn{constructor(t,e){this.id=t,this.url=e}}class Bn extends qn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $n extends qn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gn extends qn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qn extends qn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wn extends qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kn extends qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yn extends qn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jn extends qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zn extends qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class er{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const or="primary";class ar{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ur(t){return new ar(t)}function cr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function lr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!fr(t[i],e[i]))return!1;return!0}function fr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function dr(t){return Array.prototype.concat.apply([],t)}function pr(t){return t.length>0?t[t.length-1]:null}function gr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function mr(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(Ge.a)(Promise.resolve(t)):Object(se.a)(t)}function yr(t,e,n){return n?function(t,e){return hr(t,e)}(t.queryParams,e.queryParams)&&br(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fr(t[n],e[n]))}(t.queryParams,e.queryParams)&&vr(t.root,e.root)}function br(t,e){if(!Cr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!br(t.children[n],e.children[n]))return!1}return!0}function vr(t,e){return _r(t,e,e.segments)}function _r(t,e,n){if(t.segments.length>n.length)return!!Cr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Cr(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!vr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Cr(t.segments,r)&&!!t.children.primary&&_r(t.children.primary,e,i)}}class wr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}toString(){return Tr.serialize(this)}}class Or{constructor(t,e){this.segments=t,this.children=e,this.parent=null,gr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kr(this)}}class Er{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ur(this.parameters)),this._parameterMap}toString(){return Rr(this)}}function Cr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Sr{}class xr{parse(t){const e=new Ur(t);return new wr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Ir(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Dr(e)}=${Dr(t)}`).join("&"):`${Dr(e)}=${Dr(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Tr=new xr;function kr(t){return t.segments.map(t=>Rr(t)).join("/")}function Ir(t,e){if(!t.hasChildren())return kr(t);if(e){const e=t.children.primary?Ir(t.children.primary,!1):"",n=[];return gr(t.children,(t,e)=>{e!==or&&n.push(`${e}:${Ir(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return gr(t.children,(t,r)=>{r===or&&(n=n.concat(e(t,r)))}),gr(t.children,(t,r)=>{r!==or&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===or?[Ir(t.children.primary,!1)]:[`${n}:${Ir(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${kr(t)}/${e[0]}`:`${kr(t)}/(${e.join("//")})`}}function Ar(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dr(t){return Ar(t).replace(/%3B/gi,";")}function jr(t){return Ar(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pr(t){return decodeURIComponent(t)}function Nr(t){return Pr(t.replace(/\+/g,"%20"))}function Rr(t){return`${jr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${jr(t)}=${jr(e[t])}`).join("")}`;var e}const Mr=/^[^\/()?;=#]+/;function Lr(t){const e=t.match(Mr);return e?e[0]:""}const Fr=/^[^=?&#]+/,Vr=/^[^?&#]+/;class Ur{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Or([],{}):new Or([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Or(t,e)),n}parseSegment(){const t=Lr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Er(Pr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Lr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Lr(this.remaining);t&&(n=t,this.capture(n))}t[Pr(e)]=Pr(n)}parseQueryParam(t){const e=function(t){const e=t.match(Fr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Vr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Nr(e),i=Nr(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Lr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=or);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Or([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class zr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Hr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Hr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=qr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return qr(t,this._root).map(t=>t.value)}}function Hr(t,e){if(t===e.value)return e;for(const n of e.children){const e=Hr(t,n);if(e)return e}return null}function qr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=qr(t,n);if(r.length)return r.unshift(e),r}return[]}class Br{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function $r(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Gr extends zr{constructor(t,e){super(t),this.snapshot=e,Zr(this,t)}toString(){return this.snapshot.toString()}}function Qr(t,e){const n=function(t,e){const n=new Yr([],{},{},"",{},or,e,null,t.root,-1,{});return new Jr("",new Br(n,[]))}(t,e),r=new Ke([new Er("",{})]),i=new Ke({}),s=new Ke({}),o=new Ke({}),a=new Ke(""),u=new Wr(r,i,o,a,s,or,e,n.root);return u.snapshot=n.root,new Gr(new Br(u,[]),n)}class Wr{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(de.a)(t=>ur(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(de.a)(t=>ur(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kr(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Yr{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ur(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jr extends zr{constructor(t,e){super(e),this.url=t,Zr(this,e)}toString(){return Xr(this._root)}}function Zr(t,e){e.value._routerState=t,e.children.forEach(e=>Zr(t,e))}function Xr(t){const e=t.children.length>0?` { ${t.children.map(Xr).join(", ")} } `:"";return`${t.value}${e}`}function ti(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),hr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),hr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ei(t,e){return hr(t.params,e.params)&&function(t,e){return Cr(t,e)&&t.every((t,n)=>hr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ei(t.parent,e.parent))}function ni(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return ni(t,e,r);return ni(t,e)})}(t,e,n);return new Br(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return ri(e,t),t}{const n=new Wr(new Ke((r=e.value).url),new Ke(r.params),new Ke(r.queryParams),new Ke(r.fragment),new Ke(r.data),r.outlet,r.component,r),i=e.children.map(e=>ni(t,e));return new Br(n,i)}}var r}function ri(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ri(t.children[n],e.children[n])}function ii(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function si(t){return"object"==typeof t&&null!=t&&t.outlets}function oi(t,e,n,r,i){let s={};return r&&gr(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new wr(n.root===t?e:ai(n.root,t,e),s,i)}function ai(t,e,n){const r={};return gr(t.children,(t,i)=>{r[i]=t===e?n:ai(t,e,n)}),new Or(t.segments,r)}class ui{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ii(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(si);if(r&&r!==pr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ci{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function li(t,e,n){if(t||(t=new Or([],{})),0===t.segments.length&&t.hasChildren())return hi(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(si(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!gi(a,u,e))return s;r+=2}else{if(!gi(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Or(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Or(t.segments.slice(r.pathIndex),t.children),hi(e,0,i)}return r.match&&0===i.length?new Or(t.segments,{}):r.match&&!t.hasChildren()?fi(t,e,n):r.match?hi(t,0,i):fi(t,e,n)}function hi(t,e,n){if(0===n.length)return new Or(t.segments,{});{const r=function(t){return si(t[0])?t[0].outlets:{[or]:t}}(n),i={};return gr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=li(t.children[r],e,n))}),gr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Or(t.segments,i)}}function fi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(si(s)){const t=di(s.outlets);return new Or(r,t)}if(0===i&&ii(n[0])){r.push(new Er(t.segments[e].path,pi(n[0]))),i++;continue}const o=si(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ii(a)?(r.push(new Er(o,pi(a))),i+=2):(r.push(new Er(o,{})),i++)}return new Or(r,{})}function di(t){const e={};return gr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=fi(new Or([],{}),0,t))}),e}function pi(t){const e={};return gr(t,(t,n)=>e[n]=`${t}`),e}function gi(t,e,n){return t==n.path&&hr(e,n.parameters)}class mi{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ti(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=$r(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),gr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=$r(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=$r(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ir(t.value.snapshot))}),t.children.length&&this.forwardEvent(new nr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ti(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),yi(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function yi(t){ti(t.value),t.children.forEach(yi)}class bi{constructor(t,e){this.routes=t,this.module=e}}function vi(t){return"function"==typeof t}function _i(t){return t instanceof wr}const wi=Symbol("INITIAL_VALUE");function Oi(){return dn(t=>function(...t){let e,n;return Object(Ye.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Je.a)(t[0])&&(t=t[0]),Object(nn.a)(t,n).lift(new sn(e))}(t.map(t=>t.pipe(yn(1),_n(wi)))).pipe(wn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==wi)return t;if(r===wi&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||_i(r))return r}return t},t)},wi),le(t=>t!==wi),Object(de.a)(t=>_i(t)?t:!0===t),yn(1)))}let Ei=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[bs]},encapsulation:2}),t})();function Ci(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Si(r,xi(e,r))}}function Si(t,e){t.children&&Ci(t.children,e)}function xi(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ti(t){const e=t.children&&t.children.map(Ti),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==or&&(n.component=Ei),n}function ki(t){return t.outlet||or}function Ii(t,e){const n=t.filter(t=>ki(t)===e);return n.push(...t.filter(t=>ki(t)!==e)),n}const Ai={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Di(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ai):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lr)(n,t,e);if(!i)return Object.assign({},Ai);const s={};gr(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ji(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Pi(t,e,n)&&ki(n)!==or)}(t,n,r)){const i=new Or(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&ki(s)!==or){const n=new Or([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ki(s)]=n}return i}(t,e,r,new Or(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Pi(t,e,n))}(t,n,r)){const s=new Or(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Pi(t,n,a)&&!i[ki(a)]){const n=new Or([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[ki(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Or(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Pi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ni(t,e,n,r){return!!(ki(t)===r||r!==or&&Pi(e,n,t))&&("**"===t.path||Di(e,t,n).matched)}function Ri(t,e,n){return 0===e.length&&!t.children[n]}class Mi{constructor(t){this.segmentGroup=t||null}}class Li{constructor(t){this.urlTree=t}}function Fi(t){return new oe.a(e=>e.error(new Mi(t)))}function Vi(t){return new oe.a(e=>e.error(new Li(t)))}function Ui(t){return new oe.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class zi{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=ji(this.urlTree.root,[],[],this.config).segmentGroup,e=new Or(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,or).pipe(Object(de.a)(t=>this.createUrlTree(Hi(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cn(t=>{if(t instanceof Li)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Mi)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,or).pipe(Object(de.a)(e=>this.createUrlTree(Hi(e),t.queryParams,t.fragment))).pipe(Cn(t=>{if(t instanceof Mi)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Or([],{[or]:t}):t;return new wr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(de.a)(t=>new Or([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Ge.a)(r).pipe(ue(r=>{const i=n.children[r],s=Ii(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(de.a)(t=>({segment:t,outlet:r})))}),wn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?le((e,n)=>t(e,n,r)):Ln.a,Tn(1),n?Nn(e):An(()=>new an))}())}expandSegment(t,e,n,r,i,s){return Object(Ge.a)(n).pipe(ue(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Cn(t=>{if(t instanceof Mi)return Object(se.a)(null);throw t}))),Fn(t=>!!t),Cn((t,n)=>{if(t instanceof an||"EmptyError"===t.name){if(Ri(e,r,i))return Object(se.a)(new Or([],{}));throw new Mi(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Ni(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Fi(e):Fi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Vi(i):this.lineralizeSegments(n,i).pipe(Object(ae.a)(n=>{const i=new Or(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Di(e,r,i);if(!o)return Fi(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Vi(l):this.lineralizeSegments(r,l).pipe(Object(ae.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(de.a)(t=>(n._loadedConfig=t,new Or(r,{})))):Object(se.a)(new Or(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Di(e,n,r);if(!s)return Fi(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(ae.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=ji(e,o,u,s),l=new Or(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(de.a)(t=>new Or(o,t)));if(0===s.length&&0===c.length)return Object(se.a)(new Or(o,{}));const h=ki(n)===i;return this.expandSegment(r,l,s,c,h?or:i,!0).pipe(Object(de.a)(t=>new Or(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(se.a)(new bi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(se.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ae.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(de.a)(t=>(e._loadedConfig=t,t))):function(t){return new oe.a(e=>e.error(cr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(se.a)(new bi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(se.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&vi(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!vi(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return mr(s)});return Object(se.a)(i).pipe(Oi(),Object(Vn.a)(t=>{if(!_i(t))return;const e=cr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(de.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(se.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ui(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new wr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return gr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return gr(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Or(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Hi(t){const e={};for(const n of Object.keys(t.children)){const r=Hi(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Or(t.segments.concat(e.segments),e.children)}return t}(new Or(t.segments,e))}class qi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Bi{constructor(t,e){this.component=t,this.route=e}}function $i(t,e,n){const r=t._root;return Qi(r,e?e._root:null,n,[r.value])}function Gi(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Qi(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=$r(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Cr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cr(t.url,e.url)||!hr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ei(t,e)||!hr(t.queryParams,e.queryParams);case"paramsChange":default:return!ei(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new qi(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Qi(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bi(a.outlet.component,o))}else o&&Wi(e,a,i),i.canActivateChecks.push(new qi(r)),Qi(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),gr(s,(t,e)=>Wi(t,n.getContext(e),i)),i}function Wi(t,e,n){const r=$r(t),i=t.value;gr(r,(t,r)=>{Wi(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Bi(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ki{}function Yi(t){return new oe.a(e=>e.error(t))}class Ji{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=ji(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,or);if(null===e)return null;const n=new Yr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},or,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Br(n,e),i=new Jr(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Kr(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Ii(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!Zi(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===or?-1:e.value.outlet===or?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Ri(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Ni(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?pr(n).parameters:{};i=new Yr(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,es(t),ki(t),t.component,t,Xi(e),ts(e)+n.length,ns(t))}else{const r=Di(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Yr(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,es(t),ki(t),t.component,t,Xi(e),ts(e)+s.length,ns(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ji(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Br(i,t)]}if(0===a.length&&0===c.length)return[new Br(i,[])];const l=ki(t)===r,h=this.processSegment(a,u,c,l?or:r);return null===h?null:[new Br(i,h)]}}function Zi(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Xi(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ts(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function es(t){return t.data||{}}function ns(t){return t.resolve||{}}function rs(t){return dn(e=>{const n=t(e);return n?Object(Ge.a)(n).pipe(Object(de.a)(()=>e)):Object(se.a)(e)})}class is extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ss=new r.r("ROUTES");class os{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(de.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new bi(dr(i.injector.get(ss,void 0,r.q.Self|r.q.Optional)).map(Ti),i)}))}loadModuleFactory(t){return"string"==typeof t?Object(Ge.a)(this.loader.load(t)):mr(t()).pipe(Object(ae.a)(t=>t instanceof r.w?Object(se.a)(t):Object(Ge.a)(this.compiler.compileModuleAsync(t))))}}class as{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new us,this.attachRef=null}}class us{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new as,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class cs{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ls(t){throw t}function hs(t,e,n){return e.parse("/")}function fs(t,e){return Object(se.a)(null)}let ds=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Qe.a,this.errorHandler=ls,this.malformedUriErrorHandler=hs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fs,afterPreactivation:fs},this.urlHandlingStrategy=new cs,this.routeReuseStrategy=new is,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.Y);const c=s.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new wr(new Or([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new os(o,a,t=>this.triggerEvent(new Xn(t)),t=>this.triggerEvent(new tr(t))),this.routerState=Qr(this.currentUrlTree,this.rootComponentType),this.transitions=new Ke({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(le(t=>0!==t.id),Object(de.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),dn(t=>{let n=!1,r=!1;return Object(se.a)(t).pipe(Object(Vn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),dn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(se.a)(t).pipe(dn(t=>{const n=this.transitions.getValue();return e.next(new Bn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?ln.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,dn(t=>function(t,e,n,r,i){return new zi(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(de.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Vn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ae.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Ji(t,e,n,r,i,s).recognize();return null===o?Yi(new Ki):Object(se.a)(o)}catch(I_){return Yi(I_)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(de.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Vn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Wn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Bn(n,this.serializeUrl(r),i,s);e.next(a);const u=Qr(r,this.rootComponentType).snapshot;return Object(se.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ln.a}),rs(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Vn.a)(t=>{const e=new Kn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(de.a)(t=>Object.assign(Object.assign({},t),{guards:$i(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ae.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(se.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Ge.a)(t).pipe(Object(ae.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(se.a)(!0);const o=s.map(s=>{const o=Gi(s,e,i);let a;if(function(t){return t&&vi(t.canDeactivate)}(o))a=mr(o.canDeactivate(t,e,n,r));else{if(!vi(o))throw new Error("Invalid CanDeactivate guard");a=mr(o(t,e,n,r))}return a.pipe(Fn())});return Object(se.a)(o).pipe(Oi())}(t.component,t.route,n,e,r)),Fn(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(ae.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Ge.a)(e).pipe(ue(e=>cn(function(t,e){return null!==t&&e&&e(new er(t)),Object(se.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new rr(t)),Object(se.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>hn(()=>{const i=e.guards.map(i=>{const s=Gi(i,e.node,n);let o;if(function(t){return t&&vi(t.canActivateChild)}(s))o=mr(s.canActivateChild(r,t));else{if(!vi(s))throw new Error("Invalid CanActivateChild guard");o=mr(s(r,t))}return o.pipe(Fn())});return Object(se.a)(i).pipe(Oi())}));return Object(se.a)(i).pipe(Oi())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(se.a)(!0);const i=r.map(r=>hn(()=>{const i=Gi(r,e,n);let s;if(function(t){return t&&vi(t.canActivate)}(i))s=mr(i.canActivate(e,t));else{if(!vi(i))throw new Error("Invalid CanActivate guard");s=mr(i(e,t))}return s.pipe(Fn())}));return Object(se.a)(i).pipe(Oi())}(t,e.route,n))),Fn(t=>!0!==t,!0))}(r,s,t,e):Object(se.a)(n)),Object(de.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Vn.a)(t=>{if(_i(t.guardsResult)){const e=cr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Yn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),le(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Gn(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),rs(t=>{if(t.guards.canActivateChecks.length)return Object(se.a)(t).pipe(Object(Vn.a)(t=>{const e=new Jn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),dn(t=>{let n=!1;return Object(se.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ae.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(se.a)(t);let s=0;return Object(Ge.a)(n).pipe(ue(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(se.a)({});const s={};return Object(Ge.a)(i).pipe(Object(ae.a)(i=>function(t,e,n,r){const i=Gi(t,e,r);return mr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Vn.a)(t=>{s[i]=t}))),Tn(1),Object(ae.a)(()=>Object.keys(s).length===i.length?Object(se.a)(s):ln.a))}(t._resolve,t,e,r).pipe(Object(de.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Kr(t,n).resolve),null)))}(t.route,e,r,i)),Object(Vn.a)(()=>s++),Tn(1),Object(ae.a)(e=>s===n.length?Object(se.a)(t):ln.a))})),Object(Vn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Gn(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Vn.a)(t=>{const e=new Zn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),rs(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(de.a)(t=>{const e=function(t,e,n){const r=ni(t,e._root,n?n._root:void 0);return new Gr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Vn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(de.a)(t=>(new mi(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Vn.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Gn(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new zn(i))),Cn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=_i(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Gn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Qn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Kh){t.reject(Kh)}}var i;return ln.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ci(t),this.config=t.map(Ti),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return oi(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ui(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return gr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ui(n,e,r)}(n);if(s.toRoot())return oi(e.root,new Or([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new ci(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ci(t,t===e.root,0)}const r=ii(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ci(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?hi(o.segmentGroup,o.index,s.commands):li(o.segmentGroup,o.index,s.commands);return oi(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=_i(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(I_){e=this.malformedUriErrorHandler(I_,this.urlSerializer,t)}return e}isActive(t,e){if(_i(t))return yr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return yr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new $n(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.N),r.Yb(Sr),r.Yb(us),r.Yb(w),r.Yb(r.s),r.Yb(r.x),r.Yb(r.i),r.Yb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ps=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Qe.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ms(this.skipLocationChange),replaceUrl:ms(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ms(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ds),r.Mb(Wr),r.Zb("tabindex"),r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.bc("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})(),gs=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Qe.a,this.subscription=t.events.subscribe(t=>{t instanceof $n&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:ms(this.skipLocationChange),replaceUrl:ms(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ms(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ds),r.Mb(Wr),r.Mb(m))},t.\u0275dir=r.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.bc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ub("href",e.href,r.uc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})();function ms(t){return""===t||!!t}let ys=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof $n&&this.update()})}ngAfterContentInit(){Object(se.a)(this.links.changes,this.linksWithHrefs.changes,Object(se.a)(null)).pipe(Object(un.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(Ge.a)(e).pipe(Object(un.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ds),r.Mb(r.l),r.Mb(r.E),r.Mb(r.h),r.Mb(ps,8),r.Mb(gs,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,ps,1),r.Fb(n,gs,1)),2&t){let t;r.pc(t=r.cc())&&(e.links=t),r.pc(t=r.cc())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.yb]}),t})(),bs=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||or,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new vs(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(us),r.Mb(r.Q),r.Mb(r.j),r.Zb("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class vs{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Wr?this.route:t===us?this.childContexts:this.parent.get(t,e)}}class _s{}class ws{preload(t,e){return Object(se.a)(null)}}let Os=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new os(e,n,e=>t.triggerEvent(new Xn(e)),e=>t.triggerEvent(new tr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(le(t=>t instanceof $n),ue(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Ge.a)(n).pipe(Object(un.a)(),Object(de.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ae.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ds),r.Yb(r.x),r.Yb(r.i),r.Yb(r.s),r.Yb(_s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Es=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Bn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $n&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof sr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new sr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ds),r.Yb(St),r.Yb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Cs=new r.r("ROUTER_CONFIGURATION"),Ss=new r.r("ROUTER_FORROOT_GUARD"),xs=[w,{provide:Sr,useClass:xr},{provide:ds,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new ds(null,t,e,n,r,i,o,dr(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Sr,us,w,r.s,r.x,r.i,ss,Cs,[class{},new r.B],[class{},new r.B]]},us,{provide:Wr,useFactory:function(t){return t.routerState.root},deps:[ds]},{provide:r.x,useClass:r.K},Os,ws,class{preload(t,e){return e().pipe(Cn(()=>Object(se.a)(null)))}},{provide:Cs,useValue:{enableTracing:!1}}];function Ts(){return new r.z("Router",ds)}let ks=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[xs,js(e),{provide:Ss,useFactory:Ds,deps:[[ds,new r.B,new r.J]]},{provide:Cs,useValue:n||{}},{provide:m,useFactory:As,deps:[a,[new r.p(b),new r.B],Cs]},{provide:Es,useFactory:Is,deps:[ds,St,Cs]},{provide:_s,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ws},{provide:r.z,multi:!0,useFactory:Ts},[Ps,{provide:r.d,multi:!0,useFactory:Ns,deps:[Ps]},{provide:Ms,useFactory:Rs,deps:[Ps]},{provide:r.b,multi:!0,useExisting:Ms}]]}}static forChild(e){return{ngModule:t,providers:[js(e)]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Yb(Ss,8),r.Yb(ds,8))}}),t})();function Is(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Es(t,e,n)}function As(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function Ds(t){return"guarded"}function js(t){return[{provide:r.a,multi:!0,useValue:t},{provide:ss,multi:!0,useValue:t}]}let Ps=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Qe.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ds),r=this.injector.get(Cs);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(se.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Cs),n=this.injector.get(Os),i=this.injector.get(Es),s=this.injector.get(ds),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function Ns(t){return t.appInitializer.bind(t)}function Rs(t){return t.bootstrapListener.bind(t)}const Ms=new r.r("Router Initializer");var Ls=n("VRyK"),Fs=n("pxpQ"),Vs=n("qgXg"),Us=n("Ylt2");class zs extends Qe.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Hs(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new We.a;if(this.isStopped||this.hasError?s=Un.a.EMPTY:(this.observers.push(t),s=new Us.a(this,t)),r&&t.add(t=new Fs.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Vs.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Hs{constructor(t,e){this.time=t,this.value=e}}function qs(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new zs(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function Bs(t,e){return e?dn(()=>t,e):dn(()=>t)}var $s=n("tf+s"),Gs=n("spgP");const Qs=new r.r("angularfire2.auth.use-emulator"),Ws=new r.r("angularfire2.auth.settings"),Ks=new r.r("angularfire2.auth.tenant-id"),Ys=new r.r("angularfire2.auth.langugage-code"),Js=new r.r("angularfire2.auth.use-device-language"),Zs=new r.r("angularfire.auth.persistence");let Xs=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new Gs.d(i),f=Object(Gs.h)(h),d=new Qe.a,p=Object(se.a)(void 0).pipe(Object(Fs.b)(h.outsideAngular),dn(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(de.a)(()=>Object(Gs.g)(t,i,e)),Object(de.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Gs.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),qs({bufferSize:1,refCount:!1}));if(Ct(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(se.a)(null);else{p.pipe(Fn()).subscribe();const t=p.pipe(dn(t=>t.getRedirectResult().then(t=>t,()=>null)),f,qs({bufferSize:1,refCount:!1})),e=t=>new oe.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(dn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(dn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Bs(n),Object($s.a)(h.outsideAngular),Object(Fs.b)(h.insideAngular)),this.user=t.pipe(Bs(r),Object($s.a)(h.outsideAngular),Object(Fs.b)(h.insideAngular)),this.idToken=this.user.pipe(dn(t=>t?Object(Ge.a)(t.getIdToken()):Object(se.a)(null))),this.idTokenResult=this.user.pipe(dn(t=>t?Object(Ge.a)(t.getIdTokenResult()):Object(se.a)(null))),this.credential=Object(Ls.a)(t,d,this.authState.pipe(le(t=>!t))).pipe(Object(de.a)(t=>(null==t?void 0:t.user)?t:null),Object($s.a)(h.outsideAngular),Object(Fs.b)(h.insideAngular))}return Object(Gs.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Gs.c),r.Yb(Gs.b,8),r.Yb(r.C),r.Yb(r.A),r.Yb(Qs,8),r.Yb(Ws,8),r.Yb(Ks,8),r.Yb(Ys,8),r.Yb(Js,8),r.Yb(Zs,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(Gs.c),Object(r.Yb)(Gs.b,8),Object(r.Yb)(r.C),Object(r.Yb)(r.A),Object(r.Yb)(Qs,8),Object(r.Yb)(Ws,8),Object(r.Yb)(Ks,8),Object(r.Yb)(Ys,8),Object(r.Yb)(Js,8),Object(r.Yb)(Zs,8))},token:t,providedIn:"any"}),t})();Object(Gs.e)(Xs,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let to=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[Xs]}),t})();function eo(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(I_){s(I_)}}function a(t){try{u(r.throw(t))}catch(I_){s(I_)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}var no=n("Jgta"),ro=n("D0XW");function io(){return t=>t.lift(new so)}class so{call(t,e){return e.subscribe(new oo(t))}}class oo extends ce.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class ao{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new uo(t,this.compare,this.keySelector))}}class uo extends ce.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var co=n("zIRd"),lo=n("q/0M"),ho=n("qOnz"),fo=function(t,e){return(fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function po(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var go,mo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},yo=yo||{},bo=mo||self;function vo(){}function _o(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function wo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Oo="closure_uid_"+(1e9*Math.random()>>>0),Eo=0;function Co(t,e,n){return t.call.apply(t.bind,arguments)}function So(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function xo(t,e,n){return(xo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Co:So).apply(null,arguments)}function To(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ko(){return Date.now()}function Io(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Ao(){this.j=this.j,this.i=this.i}Ao.prototype.j=!1,Ao.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Oo)&&t[Oo]||(t[Oo]=++Eo)}(this)},Ao.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Do=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},jo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Po(t){return Array.prototype.concat.apply([],arguments)}function No(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ro(t){return/^[\s\xa0]*$/.test(t)}var Mo,Lo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Fo(t,e){return-1!=t.indexOf(e)}function Vo(t,e){return t<e?-1:t>e?1:0}t:{var Uo=bo.navigator;if(Uo){var zo=Uo.userAgent;if(zo){Mo=zo;break t}}Mo=""}function Ho(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function qo(t){var e={};for(var n in t)e[n]=t[n];return e}var Bo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $o(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Bo.length;s++)n=Bo[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Go(t){return Go[" "](t),t}Go[" "]=vo;var Qo,Wo,Ko=Fo(Mo,"Opera"),Yo=Fo(Mo,"Trident")||Fo(Mo,"MSIE"),Jo=Fo(Mo,"Edge"),Zo=Jo||Yo,Xo=Fo(Mo,"Gecko")&&!(Fo(Mo.toLowerCase(),"webkit")&&!Fo(Mo,"Edge"))&&!(Fo(Mo,"Trident")||Fo(Mo,"MSIE"))&&!Fo(Mo,"Edge"),ta=Fo(Mo.toLowerCase(),"webkit")&&!Fo(Mo,"Edge");function ea(){var t=bo.document;return t?t.documentMode:void 0}t:{var na="",ra=(Wo=Mo,Xo?/rv:([^\);]+)(\)|;)/.exec(Wo):Jo?/Edge\/([\d\.]+)/.exec(Wo):Yo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wo):ta?/WebKit\/(\S+)/.exec(Wo):Ko?/(?:Version)[ \/]?(\S+)/.exec(Wo):void 0);if(ra&&(na=ra?ra[1]:""),Yo){var ia=ea();if(null!=ia&&ia>parseFloat(na)){Qo=String(ia);break t}}Qo=na}var sa={};function oa(t){return function(t,e){var n=sa;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Lo(String(Qo)).split("."),r=Lo(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Vo(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Vo(0==o[2].length,0==a[2].length)||Vo(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var aa=bo.document&&Yo&&(ea()||parseInt(Qo,10))||void 0,ua=!Yo||9<=Number(aa),ca=Yo&&!oa("9"),la=function(){if(!bo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{bo.addEventListener("test",vo,e),bo.removeEventListener("test",vo,e)}catch(n){}return t}();function ha(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function fa(t,e){if(ha.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Xo){t:{try{Go(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:da[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ha.prototype.b=function(){this.defaultPrevented=!0},Io(fa,ha);var da={2:"touch",3:"pen",4:"mouse"};fa.prototype.b=function(){fa.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ca)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var pa="closure_listenable_"+(1e6*Math.random()|0),ga=0;function ma(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ga,this.Y=this.Z=!1}function ya(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ba(t){this.src=t,this.a={},this.b=0}function va(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Do(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ya(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function _a(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}ba.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=_a(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ma(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var wa="closure_lm_"+(1e6*Math.random()|0),Oa={};function Ea(t,e,n,r,i){if(r&&r.once)return Sa(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ea(t,e[s],n,r,i);return null}return n=Pa(n),t&&t[pa]?t.va(e,n,wo(r)?!!r.capture:!!r,i):Ca(t,e,n,!1,r,i)}function Ca(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=wo(i)?!!i.capture:!!i;if(o&&!ua)return null;var a=Da(t);if(a||(t[wa]=a=new ba(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Aa,e=ua?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)la||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ka(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Sa(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Sa(t,e[s],n,r,i);return null}return n=Pa(n),t&&t[pa]?t.wa(e,n,wo(r)?!!r.capture:!!r,i):Ca(t,e,n,!0,r,i)}function xa(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)xa(t,e[s],n,r,i);else r=wo(r)?!!r.capture:!!r,n=Pa(n),t&&t[pa]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=_a(s=t.a[e],n,r,i))&&(ya(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Da(t))&&(e=t.a[e.toString()],t=-1,e&&(t=_a(e,n,r,i)),(n=-1<t?e[t]:null)&&Ta(n))}function Ta(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[pa])va(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ka(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Da(e))?(va(n,t),0==n.b&&(n.src=null,e[wa]=null)):ya(t)}}}function ka(t){return t in Oa?Oa[t]:Oa[t]="on"+t}function Ia(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ta(t),n.call(r,e)}function Aa(t,e){if(t.Y)return!0;if(!ua){if(!e)t:{e=["window","event"];for(var n=bo,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ia(t,e=new fa(e,this))}return Ia(t,new fa(e,this))}function Da(t){return(t=t[wa])instanceof ba?t:null}var ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pa(t){return"function"==typeof t?t:(t[ja]||(t[ja]=function(e){return t.handleEvent(e)}),t[ja])}function Na(){Ao.call(this),this.c=new ba(this),this.J=this,this.C=null}function Ra(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ha(e,t);else if(e instanceof ha)e.target=e.target||t;else{var i=e;$o(e=new ha(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Ma(o,r,!0,e)&&i}if(i=Ma(o=e.a=t,r,!0,e)&&i,i=Ma(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ma(o=e.a=n[s],r,!1,e)&&i}function Ma(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&va(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Io(Na,Ao),Na.prototype[pa]=!0,(go=Na.prototype).addEventListener=function(t,e,n,r){Ea(this,t,e,n,r)},go.removeEventListener=function(t,e,n,r){xa(this,t,e,n,r)},go.G=function(){if(Na.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ya(n[r]);delete e.a[t],e.b--}}this.C=null},go.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},go.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var La=bo.JSON.stringify;function Fa(){this.b=this.a=null}var Va,Ua=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ha},function(t){t.reset()});function za(){var t=Ga,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ha(){this.next=this.b=this.a=null}function qa(t){bo.setTimeout(function(){throw t},0)}function Ba(t,e){Va||function(){var t=bo.Promise.resolve(void 0);Va=function(){t.then(Qa)}}(),$a||(Va(),$a=!0),Ga.add(t,e)}Fa.prototype.add=function(t,e){var n=Ua.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ha.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ha.prototype.reset=function(){this.next=this.b=this.a=null};var $a=!1,Ga=new Fa;function Qa(){for(var t;t=za();){try{t.a.call(t.b)}catch(n){qa(n)}var e=Ua;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}$a=!1}function Wa(t,e){Na.call(this),this.b=t||1,this.a=e||bo,this.f=xo(this.Za,this),this.g=ko()}function Ka(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ya(t,e,n){if("function"==typeof t)n&&(t=xo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xo(t.handleEvent,t)}return 2147483647<Number(e)?-1:bo.setTimeout(t,e||0)}function Ja(t){t.a=Ya(function(){t.a=null,t.c&&(t.c=!1,Ja(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Io(Wa,Na),(go=Wa.prototype).aa=!1,go.M=null,go.Za=function(){if(this.aa){var t=ko()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ra(this,"tick"),this.aa&&(Ka(this),this.start()))}},go.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ko())},go.G=function(){Wa.X.G.call(this),Ka(this),delete this.a};var Za=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}fo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ja(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(bo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ao);function Xa(t){Ao.call(this),this.b=t,this.a={}}Io(Xa,Ao);var tu=[];function eu(t,e,n,r){Array.isArray(n)||(n&&(tu[0]=n.toString()),n=tu);for(var i=0;i<n.length;i++){var s=Ea(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function nu(t){Ho(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ta(t)},t),t.a={}}function ru(){this.a=!0}function iu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return La(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Xa.prototype.G=function(){Xa.X.G.call(this),nu(this)},Xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ru.prototype.info=function(){};var su={},ou=null;function au(){return ou=ou||new Na}function uu(t){ha.call(this,su.Fa,t)}function cu(t){var e=au();Ra(e,new uu(e,t))}function lu(t,e){ha.call(this,su.STAT_EVENT,t),this.stat=e}function hu(t){var e=au();Ra(e,new lu(e,t))}function fu(t){ha.call(this,su.Ga,t)}function du(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return bo.setTimeout(function(){t()},e)}su.Fa="serverreachability",Io(uu,ha),su.STAT_EVENT="statevent",Io(lu,ha),su.Ga="timingevent",Io(fu,ha);var pu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},gu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function mu(){}function yu(){}mu.prototype.a=null;var bu,vu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function _u(){ha.call(this,"d")}function wu(){ha.call(this,"c")}function Ou(){}function Eu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Xa(this),this.P=Cu,this.R=new Wa(t=Zo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Io(_u,ha),Io(wu,ha),Io(Ou,mu),bu=new Ou;var Cu=45e3,Su={},xu={};function Tu(t,e,n){t.H=1,t.i=Ku(qu(e)),t.j=n,t.I=!0,ku(t,null)}function ku(t,e){t.u=ko(),Du(t),t.l=qu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),uc(n.b,"t",r),t.D=0,t.a=nl(t.g,t.g.C?e:null),0<t.O&&(t.F=new Za(xo(t.Ca,t,t.a),t.O)),eu(t.J,t.a,"readystatechange",t.Xa),e=t.B?qo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),cu(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Iu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Au(t,n);if(i==xu){4==e&&(t.h=4,hu(14),r=!1),iu(t.c,t.f,null,"[Incomplete Response]");break}if(i==Su){t.h=4,hu(15),iu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}iu(t.c,t.f,i,null),Mu(t,i)}4==e&&0==n.length&&(t.h=1,hu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wc(e),e.F=!0,hu(11))):(iu(t.c,t.f,n,"[Invalid Chunked Response]"),Ru(t),Nu(t))}function Au(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?xu:(n=Number(e.substring(n,r)),isNaN(n)?Su:(r+=1)+n>e.length?xu:(e=e.substr(r,n),t.D=r+n,e))}function Du(t){t.T=ko()+t.P,ju(t,t.P)}function ju(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=du(xo(t.Va,t),e)}function Pu(t){t.o&&(bo.clearTimeout(t.o),t.o=null)}function Nu(t){0==t.g.v||t.A||Jc(t.g,t)}function Ru(t){Pu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ka(t.R),nu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Mu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||gc(n.b,t)))if(n.I=t.N,!t.C&&gc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(zv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Yc(n),Vc(n)}Qc(n),hu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=du(xo(n.Sa,n),6e3));if(1>=pc(n.b)&&n.ea){try{n.ea()}catch(zv){}n.ea=void 0}}else Xc(n,11)}else if((t.C||n.a==t)&&Yc(n),!Ro(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Fo(l,"spdy")||Fo(l,"quic")||Fo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(mc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Wu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ko()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=el(u,u.C?u.ga:null,u.fa),d.C){yc(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Pu(p),Du(p)),u.a=d}else Gc(u);0<n.g.length&&Hc(n)}else"stop"!=i[0]&&"close"!=i[0]||Xc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Xc(n,7):Fc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);cu(4)}catch(zv){}}function Lu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(_o(t)||"string"==typeof t)jo(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(_o(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(_o(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Fu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Vu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Uu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Uu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Uu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(go=Eu.prototype).setTimeout=function(t){this.P=t},go.Xa=function(t){t=t.target;var e=this.F;e&&3==Nc(t)?e.f():this.Ca(t)},go.Ca=function(t){try{if(t==this.a)t:{var e=Nc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Zo&&!this.a.$())){this.A||4!=e||7==n||cu(8==n||0>=r?3:2),Pu(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ro(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,hu(12),Ru(this),Nu(this);break t}iu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Mu(this,u)}this.I?(Iu(this,e,s),Zo&&this.b&&3==e&&(eu(this.J,this.R,"tick",this.Wa),this.R.start())):(iu(this.c,this.f,s,null),Mu(this,s)),4==e&&Ru(this),this.b&&!this.A&&(4==e?Jc(this.g,this):(this.b=!1,Du(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,hu(12)):(this.h=0,hu(13)),Ru(this),Nu(this)}}}catch(c){}},go.Wa=function(){if(this.a){var t=Nc(this.a),e=this.a.$();this.D<e.length&&(Pu(this),Iu(this,t,e),this.b&&4!=t&&Du(this))}},go.cancel=function(){this.A=!0,Ru(this)},go.Va=function(){this.o=null;var t=ko();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(cu(3),hu(17)),Ru(this),this.h=2,Nu(this)):ju(this,this.T-t)},(go=Fu.prototype).K=function(){Vu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},go.L=function(){return Vu(this),this.a.concat()},go.get=function(t,e){return Uu(this.b,t)?this.b[t]:e},go.set=function(t,e){Uu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},go.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var zu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Hu){this.a=void 0!==e?e:t.a,Bu(this,t.f),this.j=t.j,$u(this,t.c),Gu(this,t.h),this.g=t.g,e=t.b;var n=new ic;n.c=e.c,e.a&&(n.a=new Fu(e.a),n.b=e.b),Qu(this,n),this.i=t.i}else t&&(n=String(t).match(zu))?(this.a=!!e,Bu(this,n[1]||"",!0),this.j=Yu(n[2]||""),$u(this,n[3]||"",!0),Gu(this,n[4]),this.g=Yu(n[5]||"",!0),Qu(this,n[6]||"",!0),this.i=Yu(n[7]||"")):(this.a=!!e,this.b=new ic(null,this.a))}function qu(t){return new Hu(t)}function Bu(t,e,n){t.f=n?Yu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function $u(t,e,n){t.c=n?Yu(e,!0):e}function Gu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Qu(t,e,n){e instanceof ic?(t.b=e,function(t,e){e&&!t.f&&(sc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(oc(this,e),uc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ju(e,nc)),t.b=new ic(e,t.a))}function Wu(t,e,n){t.b.set(e,n)}function Ku(t){return Wu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ko()).toString(36)),t}function Yu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ju(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Zu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Hu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ju(e,Xu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ju(e,Xu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ju(n,"/"==n.charAt(0)?ec:tc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ju(n,rc)),t.join("")};var Xu=/[#\/\?@]/g,tc=/[#\?:]/g,ec=/[#\?]/g,nc=/[#\?@]/g,rc=/#/g;function ic(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function sc(t){t.a||(t.a=new Fu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function oc(t,e){sc(t),e=cc(t,e),Uu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Uu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Vu(t)))}function ac(t,e){return sc(t),e=cc(t,e),Uu(t.a.b,e)}function uc(t,e,n){oc(t,e),0<n.length&&(t.c=null,t.a.set(cc(t,e),No(n)),t.b+=n.length)}function cc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(go=ic.prototype).add=function(t,e){sc(this),this.c=null,t=cc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},go.forEach=function(t,e){sc(this),this.a.forEach(function(n,r){jo(n,function(n){t.call(e,n,r,this)},this)},this)},go.L=function(){sc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},go.K=function(t){sc(this);var e=[];if("string"==typeof t)ac(this,t)&&(e=Po(e,this.a.get(cc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Po(e,t[n])}return e},go.set=function(t,e){return sc(this),this.c=null,ac(this,t=cc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},go.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},go.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var lc=function(){return function(t,e){this.b=t,this.a=e}}();function hc(t){this.g=t||fc,t=bo.PerformanceNavigationTiming?0<(t=bo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(bo.ia&&bo.ia.ya&&bo.ia.ya()&&bo.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var fc=10;function dc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function pc(t){return t.b?1:t.a?t.a.size:0}function gc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function mc(t,e){t.a?t.a.add(e):t.b=e}function yc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function bc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=po(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return No(t.c)}function vc(){}function _c(){this.a=new vc}function wc(t,e,n){var r=n||"";try{Lu(t,function(t,n){var i=t;wo(t)&&(i=La(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(I_){throw e.push(r+"type="+encodeURIComponent("_badmap")),I_}}function Oc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}hc.prototype.cancel=function(){var t,e;if(this.c=bc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=po(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},vc.prototype.stringify=function(t){return bo.JSON.stringify(t,void 0)},vc.prototype.parse=function(t){return bo.JSON.parse(t,void 0)};var Ec=bo.JSON.parse;function Cc(t){Na.call(this),this.headers=new Fu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Sc,this.D=this.F=!1}Io(Cc,Na);var Sc="",xc=/^https?$/i,Tc=["POST","PUT"];function kc(t){return"content-type"==t.toLowerCase()}function Ic(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ac(t),jc(t)}function Ac(t){t.u||(t.u=!0,Ra(t,"complete"),Ra(t,"error"))}function Dc(t){if(t.b&&void 0!==yo&&(!t.s[1]||4!=Nc(t)||2!=t.W()))if(t.l&&4==Nc(t))Ya(t.za,0,t);else if(Ra(t,"readystatechange"),4==Nc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(zu)[1]||null;if(!s&&bo.self&&bo.self.location){var o=bo.self.location.protocol;s=o.substr(0,o.length-1)}i=!xc.test(s?s.toLowerCase():"")}e=i}if(e)Ra(t,"complete"),Ra(t,"success");else{t.h=6;try{var a=2<Nc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ac(t)}}finally{jc(t)}}}function jc(t,e){if(t.a){Pc(t);var n=t.a,r=t.s[0]?vo:null;t.a=null,t.s=null,e||Ra(t,"ready");try{n.onreadystatechange=r}catch(I_){}}}function Pc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(bo.clearTimeout(t.m),t.m=null)}function Nc(t){return t.a?t.a.readyState:0}function Rc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ho(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Wu(t,e,n))}function Mc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Lc(t){this.pa=0,this.g=[],this.c=new ru,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Mc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Mc("baseRetryDelayMs",5e3,t),this.Ra=Mc("retryDelaySeedMs",1e4,t),this.Ma=Mc("forwardChannelMaxRetries",2,t),this.ma=Mc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new hc(t&&t.concurrentRequestLimit),this.ka=new _c,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Fc(t){if(Uc(t),3==t.v){var e=t.R++,n=qu(t.B);Wu(n,"SID",t.J),Wu(n,"RID",e),Wu(n,"TYPE","terminate"),Bc(t,n),(e=new Eu(t,t.c,e,void 0)).H=2,e.i=Ku(qu(n)),n=!1,bo.navigator&&bo.navigator.sendBeacon&&(n=bo.navigator.sendBeacon(e.i.toString(),"")),!n&&bo.Image&&((new Image).src=e.i,n=!0),n||(e.a=nl(e.g,null),e.a.ba(e.i)),e.u=ko(),Du(e)}tl(t)}function Vc(t){t.a&&(Wc(t),t.a.cancel(),t.a=null)}function Uc(t){Vc(t),t.j&&(bo.clearTimeout(t.j),t.j=null),Yc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&bo.clearTimeout(t.h),t.h=null)}function zc(t,e){t.g.push(new lc(t.Oa++,e)),3==t.v&&Hc(t)}function Hc(t){dc(t.b)||t.h||(t.h=!0,Ba(t.Ba,t),t.u=0)}function qc(t,e){var n;n=e?e.f:t.R++;var r=qu(t.B);Wu(r,"SID",t.J),Wu(r,"RID",n),Wu(r,"AID",t.P),Bc(t,r),t.i&&t.l&&Rc(r,t.i,t.l),n=new Eu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=$c(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),mc(t.b,n),Tu(n,r,e)}function Bc(t,e){t.f&&Lu({},function(t,n){Wu(e,n,t)})}function $c(t,e,n){n=Math.min(t.g.length,n);var r=t.f?xo(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{wc(l,o,"req"+c+"_")}catch(Fl){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Gc(t){t.a||t.j||(t.T=1,Ba(t.Aa,t),t.o=0)}function Qc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=du(xo(t.Aa,t),Zc(t,t.o)),t.o++,0))}function Wc(t){null!=t.s&&(bo.clearTimeout(t.s),t.s=null)}function Kc(t){t.a=new Eu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=qu(t.la);Wu(e,"RID","rpc"),Wu(e,"SID",t.J),Wu(e,"CI",t.H?"0":"1"),Wu(e,"AID",t.P),Bc(t,e),Wu(e,"TYPE","xmlhttp"),t.i&&t.l&&Rc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ku(qu(e)),n.j=null,n.I=!0,ku(n,t)}function Yc(t){null!=t.m&&(bo.clearTimeout(t.m),t.m=null)}function Jc(t,e){var n=null;if(t.a==e){Yc(t),Wc(t),t.a=null;var r=2}else{if(!gc(t.b,e))return;n=e.s,yc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ko()-e.u;var i=t.u;Ra(r=au(),new fu(r,n,e,i)),Hc(t)}else Gc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(pc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=du(xo(t.Ba,t,e),Zc(t,t.u)),t.u++,0)))}(t,e)||2==r&&Qc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Xc(t,5);break;case 4:Xc(t,10);break;case 3:Xc(t,6);break;default:Xc(t,2)}}function Zc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Xc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=xo(t.Ya,t);n||(n=new Hu("//www.google.com/images/cleardot.gif"),bo.location&&"http"==bo.location.protocol||Bu(n,"https"),Ku(n)),function(t,e){var n=new ru;if(bo.Image){var r=new Image;r.onload=To(Oc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=To(Oc,n,r,"TestLoadImage: error",!1,e),r.onabort=To(Oc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=To(Oc,n,r,"TestLoadImage: timeout",!1,e),bo.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else hu(2);t.v=0,t.f&&t.f.ra(e),tl(t),Uc(t)}function tl(t){t.v=0,t.I=-1,t.f&&(0==bc(t.b).length&&0==t.g.length||(t.b.c.length=0,No(t.g),t.g.length=0),t.f.qa())}function el(t,e,n){var r=function(t){return t instanceof Hu?qu(t):new Hu(t,void 0)}(n);if(""!=r.c)e&&$u(r,e+"."+r.c),Gu(r,r.h);else{var i=bo.location;r=function(t,e,n,r){var i=new Hu(null,void 0);return t&&Bu(i,t),e&&$u(i,e),n&&Gu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ho(t.V,function(t,e){Wu(r,e,t)}),n=t.na,(e=t.A)&&n&&Wu(r,e,n),Wu(r,"VER",t.ha),Bc(t,r),r}function nl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Cc(t.Na)).F=t.C,e}function rl(){}function il(){if(Yo&&!(10<=Number(aa)))throw Error("Environmental error: no available transport.")}function sl(t,e){Na.call(this),this.a=new Lc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ro(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ro(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ul(this)}function ol(t){_u.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function al(){wu.call(this),this.status=1}function ul(t){this.a=t}(go=Cc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:bu),this.a.onreadystatechange=xo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Ic(this,s)}t=n||"";var i=new Fu(this.headers);r&&Lu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=kc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=bo.FormData&&t instanceof bo.FormData,!(0<=Do(Tc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Pc(this),0<this.o&&((this.D=function(t){return Yo&&oa(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=xo(this.xa,this)):this.m=Ya(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Ic(this,s)}},go.xa=function(){void 0!==yo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ra(this,"timeout"),this.abort(8))},go.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ra(this,"complete"),Ra(this,"abort"),jc(this))},go.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),jc(this,!0)),Cc.X.G.call(this)},go.za=function(){this.j||(this.A||this.l||this.g?Dc(this):this.Ua())},go.Ua=function(){Dc(this)},go.W=function(){try{return 2<Nc(this)?this.a.status:-1}catch(Wo){return-1}},go.$=function(){try{return this.a?this.a.responseText:""}catch(Wo){return""}},go.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ec(e)}},go.ua=function(){return this.h},go.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(go=Lc.prototype).ha=8,go.v=1,go.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Eu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?$o(r=qo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=$c(this,n,e),Wu(i=qu(this.B),"RID",t),Wu(i,"CVER",22),this.A&&Wu(i,"X-HTTP-Session-Id",this.A),Bc(this,i),this.i&&r&&Rc(i,this.i,r),mc(this.b,n),this.Ia&&Wu(i,"TYPE","init"),this.da?(Wu(i,"$req",e),Wu(i,"SID","null"),n.U=!0,Tu(n,i,null)):Tu(n,i,e),this.v=2}}else 3==this.v&&(t?qc(this,t):0==this.g.length||dc(this.b)||qc(this))},go.Aa=function(){if(this.j=null,Kc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=du(xo(this.Ta,this),t)}},go.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,hu(10),Vc(this),Kc(this))},go.Sa=function(){null!=this.m&&(this.m=null,Vc(this),Qc(this),hu(19))},go.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),hu(2)):(this.c.info("Failed to ping google.com"),hu(1))},(go=rl.prototype).ta=function(){},go.sa=function(){},go.ra=function(){},go.qa=function(){},go.Ja=function(){},il.prototype.a=function(t,e){return new sl(t,e)},Io(sl,Na),sl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;hu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=el(t,null,t.fa),Hc(t)},sl.prototype.close=function(){Fc(this.a)},sl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,zc(this.a,e)}else this.l?((e={}).__data__=La(t),zc(this.a,e)):zc(this.a,t)},sl.prototype.G=function(){this.a.f=null,delete this.f,Fc(this.a),delete this.a,sl.X.G.call(this)},Io(ol,_u),Io(al,wu),Io(ul,rl),ul.prototype.ta=function(){Ra(this.a,"a")},ul.prototype.sa=function(t){Ra(this.a,new ol(t))},ul.prototype.ra=function(t){Ra(this.a,new al(t))},ul.prototype.qa=function(){Ra(this.a,"b")},il.prototype.createWebChannel=il.prototype.a,sl.prototype.send=sl.prototype.h,sl.prototype.open=sl.prototype.g,sl.prototype.close=sl.prototype.close,pu.NO_ERROR=0,pu.TIMEOUT=8,pu.HTTP_ERROR=6,gu.COMPLETE="complete",yu.EventType=vu,vu.OPEN="a",vu.CLOSE="b",vu.ERROR="c",vu.MESSAGE="d",Na.prototype.listen=Na.prototype.va,Cc.prototype.listenOnce=Cc.prototype.wa,Cc.prototype.getLastError=Cc.prototype.Qa,Cc.prototype.getLastErrorCode=Cc.prototype.ua,Cc.prototype.getStatus=Cc.prototype.W,Cc.prototype.getResponseJson=Cc.prototype.Pa,Cc.prototype.getResponseText=Cc.prototype.$,Cc.prototype.send=Cc.prototype.ba;var cl=pu,ll=gu,hl=su,fl=yu,dl=Cc,pl=n("30Go"),gl=new lo.b("@firebase/firestore");function ml(){return gl.logLevel}function yl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gl.logLevel<=lo.a.DEBUG){var r=e.map(_l);gl.debug.apply(gl,Object(pl.g)(["Firestore (8.2.5): "+t],r))}}function bl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gl.logLevel<=lo.a.ERROR){var r=e.map(_l);gl.error.apply(gl,Object(pl.g)(["Firestore (8.2.5): "+t],r))}}function vl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gl.logLevel<=lo.a.WARN){var r=e.map(_l);gl.warn.apply(gl,Object(pl.g)(["Firestore (8.2.5): "+t],r))}}function _l(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(I_){return t}}function wl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.5) INTERNAL ASSERTION FAILED: "+t;throw bl(e),new Error(e)}function Ol(t,e){t||wl()}function El(t,e){return t}function Cl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Sl=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Cl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function xl(t,e){return t<e?-1:t>e?1:0}function Tl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function kl(t){return t+"\0"}var Il=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return xl(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Il.h=new Il("");var Al={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Dl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(pl.c)(e,t),e}(Error),jl=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Il.fromBase64String(e))}catch(e){throw new Dl(Al.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Il.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Pl=function(t){this._=t};function Nl(){if("undefined"==typeof Uint8Array)throw new Dl(Al.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Rl(){if("undefined"==typeof atob)throw new Dl(Al.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ml=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.fromBase64String=function(t){return Rl(),new e(jl.fromBase64String(t))},e.fromUint8Array=function(t){return Nl(),new e(jl.fromUint8Array(t))},e.prototype.toBase64=function(){return Rl(),this._.toBase64()},e.prototype.toUint8Array=function(){return Nl(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Pl),Ll=function(t,e,n,r,i,s){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=s},Fl=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Vl=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Vl.UNAUTHENTICATED=new Vl(null),Vl.P=new Vl("google-credentials-uid"),Vl.g=new Vl("first-party-uid");var Ul=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},zl=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Vl.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Hl=function(){function t(t){var e=this;this.C=null,this.currentUser=Vl.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(yl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ol("string"==typeof n.accessToken),new Ul(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return Ol(null===t||"string"==typeof t),new Vl(t)},t}(),ql=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Vl.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Bl=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new ql(this.k,this.M))},t.prototype.S=function(t){t(Vl.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),$l=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();$l.U=-1;var Gl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Dl(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Dl(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Dl(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Dl(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?xl(this.nanoseconds,t.nanoseconds):xl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ql=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new Gl(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Wl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&wl(),void 0===n?n=t.length-e:n>t.length-e&&wl(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Dl(Al.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(Wl),Yl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Yl.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Dl(Al.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Dl(Al.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Dl(Al.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Dl(Al.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Wl),Zl=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Kl.ct(e))},t.dt=function(e){return new t(Kl.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Kl.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Kl.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Kl(e.slice()))},t}();function Xl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function th(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var nh=function(){function t(t){this.fields=t,t.sort(Jl.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Tl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),rh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ih(t){if(Ol(!!t),"string"==typeof t){var e=0,n=rh.exec(t);if(Ol(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:sh(t.seconds),nanos:sh(t.nanos)}}function sh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function oh(t){return"string"==typeof t?Il.fromBase64String(t):Il.fromUint8Array(t)}function ah(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function uh(t){var e=t.mapValue.fields.__previous_value__;return ah(e)?uh(e):e}function ch(t){var e=ih(t.mapValue.fields.__local_write_time__.timestampValue);return new Gl(e.seconds,e.nanos)}function lh(t){return null==t}function hh(t){return 0===t&&1/t==-1/0}function fh(t){return"number"==typeof t&&Number.isInteger(t)&&!hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function dh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ah(t)?4:10:wl()}function ph(t,e){var n=dh(t);if(n!==dh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ch(t).isEqual(ch(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ih(t.timestampValue),r=ih(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return oh(t.bytesValue).isEqual(oh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return sh(t.geoPointValue.latitude)===sh(e.geoPointValue.latitude)&&sh(t.geoPointValue.longitude)===sh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return sh(t.integerValue)===sh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=sh(t.doubleValue),r=sh(e.doubleValue);return n===r?hh(n)===hh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Tl(t.arrayValue.values||[],e.arrayValue.values||[],ph);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Xl(n)!==Xl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ph(n[i],r[i])))return!1;return!0}(t,e);default:return wl()}}function gh(t,e){return void 0!==(t.values||[]).find(function(t){return ph(t,e)})}function mh(t,e){var n=dh(t),r=dh(e);if(n!==r)return xl(n,r);switch(n){case 0:return 0;case 1:return xl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=sh(t.integerValue||t.doubleValue),r=sh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return yh(t.timestampValue,e.timestampValue);case 4:return yh(ch(t),ch(e));case 5:return xl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=oh(t),r=oh(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=xl(n[i],r[i]);if(0!==s)return s}return xl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=xl(sh(t.latitude),sh(e.latitude));return 0!==n?n:xl(sh(t.longitude),sh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=mh(n[i],r[i]);if(s)return s}return xl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=xl(r[o],s[o]);if(0!==a)return a;var u=mh(n[r[o]],i[s[o]]);if(0!==u)return u}return xl(r.length,s.length)}(t.mapValue,e.mapValue);default:throw wl()}}function yh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return xl(t,e);var n=ih(t),r=ih(e),i=xl(n.seconds,r.seconds);return 0!==i?i:xl(n.nanos,r.nanos)}function bh(t){return vh(t)}function vh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ih(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?oh(t.bytesValue).toBase64():"referenceValue"in t?Zl.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=vh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+vh(t.fields[s])}return e+"}"}(t.mapValue):wl();var e}function _h(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function wh(t){return!!t&&"integerValue"in t}function Oh(t){return!!t&&"arrayValue"in t}function Eh(t){return!!t&&"nullValue"in t}function Ch(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sh(t){return!!t&&"mapValue"in t}var xh=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Sh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return ph(this.proto,t.proto)},t}(),Th=function(){function t(t){void 0===t&&(t=xh.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===dh(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Jl.at(),this.Rt);return null!=t?new xh(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),s=Sh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.gt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function kh(t){var e=[];return th(t.fields||{},function(t,n){var r=new Jl([t]);if(Sh(n)){var i=kh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new nh(e)}var Ih=function(t,e){this.key=t,this.version=e},Ah=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Vt=r,s.bt=!!i.bt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(pl.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ih),Dh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(pl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ih),jh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ih),Ph=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.St=null};function Nh(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Ph(t,e,n,r,i,s,o)}function Rh(t){var e=El(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+bh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Wh(e.startAt)),e.endAt&&(n+="|ub:",n+=Wh(e.endAt)),e.St=n}return e.St}function Mh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Yh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!ph(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zh(t.startAt,e.startAt)&&Zh(t.endAt,e.endAt)}function Lh(t){return Zl.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Fh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(pl.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Vh(t,n,r):"array-contains"===n?new qh(t,r):"in"===n?new Bh(t,r):"not-in"===n?new $h(t,r):"array-contains-any"===n?new Gh(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Uh(t,n):new zh(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(mh(e,this.value)):null!==e&&dh(this.value)===dh(e)&&this.Ct(mh(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return wl()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Vh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Zl.dt(r.referenceValue),i}return Object(pl.c)(e,t),e.prototype.matches=function(t){var e=Zl.J(t.key,this.key);return this.Ct(e)},e}(Fh),Uh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Hh(0,n),r}return Object(pl.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Fh),zh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Hh(0,n),r}return Object(pl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Fh);function Hh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Zl.dt(t.referenceValue)})}var qh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(pl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Oh(e)&&gh(e.arrayValue,this.value)},e}(Fh),Bh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(pl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&gh(this.value.arrayValue,e)},e}(Fh),$h=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(pl.c)(e,t),e.prototype.matches=function(t){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!gh(this.value.arrayValue,e)},e}(Fh),Gh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(pl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Oh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return gh(e.value.arrayValue,t)})},e}(Fh),Qh=function(t,e){this.position=t,this.before=e};function Wh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return bh(t)}).join(",")}var Kh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Yh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Jh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ht()?Zl.J(Zl.dt(o.referenceValue),n.key):mh(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Zh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ph(t.position[n],e.position[n]))return!1;return!0}var Xh=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ft=null,this.Ot=null};function tf(t,e,n,r,i,s,o,a){return new Xh(t,e,n,r,i,s,o,a)}function ef(t){return new Xh(t)}function nf(t){return!lh(t.limit)&&"F"===t.limitType}function rf(t){return!lh(t.limit)&&"L"===t.limitType}function sf(t){return t.Nt.length>0?t.Nt[0].field:null}function of(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function af(t){return null!==t.collectionGroup}function uf(t){var e=El(t);if(null===e.Ft){e.Ft=[];var n=of(e),r=sf(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new Kh(n)),e.Ft.push(new Kh(Jl.lt(),"asc"));else{for(var i=!1,s=0,o=e.Nt;s<o.length;s++){var a=o[s];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new Kh(Jl.lt(),u))}}}return e.Ft}function cf(t){var e=El(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Nh(e.path,e.collectionGroup,uf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=uf(e);r<i.length;r++){var s=i[r];n.push(new Kh(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Qh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Qh(e.startAt.position,!e.startAt.before):null;e.Ot=Nh(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ot}function lf(t,e,n){return new Xh(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hf(t,e){return Mh(cf(t),cf(e))&&t.limitType===e.limitType}function ff(t){return Rh(cf(t))+"|lt:"+t.limitType}function df(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+bh(e.value);var e}).join(", ")+"]"),lh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Wh(t.startAt)),t.endAt&&(e+=", endAt: "+Wh(t.endAt)),"Target("+e+")"}(cf(t))+"; limitType="+t.limitType+")"}function pf(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Zl.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Jh(t.startAt,uf(t),e)||t.endAt&&Jh(t.endAt,uf(t),e))}(t,e)}function gf(t){return function(e,n){for(var r=!1,i=0,s=uf(t);i<s.length;i++){var o=s[i],a=mf(o,e,n);if(0!==a)return a;r=r||o.field.ht()}return 0}}function mf(t,e,n){var r=t.field.ht()?Zl.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?mh(r,i):wl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return wl()}}var yf=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Ql.min()),void 0===s&&(s=Ql.min()),void 0===o&&(o=Il.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function bf(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function vf(t){return{integerValue:""+t}}function _f(t,e){return fh(e)?vf(e):bf(t,e)}var wf=function(){this.Ut=void 0};function Of(t,e,n){return t instanceof Sf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof xf?Tf(t,e):t instanceof kf?If(t,e):function(t,e){var n=Cf(t,e),r=Df(n)+Df(t.Qt);return wh(n)&&wh(t.Qt)?vf(r):bf(t.Kt,r)}(t,e)}function Ef(t,e,n){return t instanceof xf?Tf(t,e):t instanceof kf?If(t,e):n}function Cf(t,e){return t instanceof Af?wh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Sf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e}(wf),xf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(pl.c)(e,t),e}(wf);function Tf(t,e){for(var n=jf(e),r=function(t){n.some(function(e){return ph(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var kf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(pl.c)(e,t),e}(wf);function If(t,e){for(var n=jf(e),r=function(t){n=n.filter(function(e){return!ph(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Af=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(pl.c)(e,t),e}(wf);function Df(t){return sh(t.integerValue||t.doubleValue)}function jf(t){return Oh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Pf=function(t,e){this.field=t,this.transform=e},Nf=function(t,e){this.version=t,this.transformResults=e},Rf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Mf(t,e){return void 0!==t.updateTime?e instanceof Ah&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ah}var Lf=function(){};function Ff(t,e,n){return t instanceof qf?function(t,e,n){var r=t.value;if(n.transformResults){var i=Gf(t.fieldTransforms,e,n.transformResults);r=Wf(t.fieldTransforms,r,i)}return new Ah(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Bf?function(t,e,n){if(!Mf(t.Gt,e))return new jh(t.key,n.version);var r=$f(t,e,n.transformResults?Gf(t.fieldTransforms,e,n.transformResults):[]);return new Ah(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Dh(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Vf(t,e,n,r){return t instanceof qf?function(t,e,n,r){if(!Mf(t.Gt,e))return e;var i=t.value,s=Qf(t.fieldTransforms,n,e);i=Wf(t.fieldTransforms,i,s);var o=Hf(e);return new Ah(t.key,o,i,{bt:!0})}(t,e,r):t instanceof Bf?function(t,e,n,r){if(!Mf(t.Gt,e))return e;var i=Hf(e),s=$f(t,e,Qf(t.fieldTransforms,n,e));return new Ah(t.key,i,s,{bt:!0})}(t,e,r):function(t,e){return Mf(t.Gt,e)?new Dh(t.key,Ql.min()):e}(t,e)}function Uf(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof Ah?e.field(s.field):void 0,a=Cf(s.transform,o||null);null!=a&&(n=null==n?(new Th).set(s.field,a):n.set(s.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function zf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Tl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof xf&&e instanceof xf||t instanceof kf&&e instanceof kf?Tl(t.elements,e.elements,ph):t instanceof Af&&e instanceof Af?ph(t.Qt,e.Qt):t instanceof Sf&&e instanceof Sf}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Hf(t){return t instanceof Ah?t.version:Ql.min()}var qf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Gt=r,s.fieldTransforms=i,s.type=0,s}return Object(pl.c)(e,t),e}(Lf),Bf=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.zt=r,o.Gt=i,o.fieldTransforms=s,o.type=1,o}return Object(pl.c)(e,t),e}(Lf);function $f(t,e,n){var r;return r=function(t,e){var n=new Th(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof Ah?e.data():xh.empty()),Wf(t.fieldTransforms,r,n)}function Gf(t,e,n){var r=[];Ol(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Ah&&(a=e.field(s.field)),r.push(Ef(o,a,n[i]))}return r}function Qf(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof Ah&&(c=n.field(a.field)),i.push(Of(u,c,e))}return i}function Wf(t,e,n){for(var r=new Th(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Kf,Yf,Jf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(pl.c)(e,t),e}(Lf),Zf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(pl.c)(e,t),e}(Lf),Xf=function(t){this.count=t};function td(t){switch(t){case Al.OK:return wl();case Al.CANCELLED:case Al.UNKNOWN:case Al.DEADLINE_EXCEEDED:case Al.RESOURCE_EXHAUSTED:case Al.INTERNAL:case Al.UNAVAILABLE:case Al.UNAUTHENTICATED:return!1;case Al.INVALID_ARGUMENT:case Al.NOT_FOUND:case Al.ALREADY_EXISTS:case Al.PERMISSION_DENIED:case Al.FAILED_PRECONDITION:case Al.ABORTED:case Al.OUT_OF_RANGE:case Al.UNIMPLEMENTED:case Al.DATA_LOSS:return!0;default:return wl()}}function ed(t){if(void 0===t)return bl("GRPC error has no .code"),Al.UNKNOWN;switch(t){case Kf.OK:return Al.OK;case Kf.CANCELLED:return Al.CANCELLED;case Kf.UNKNOWN:return Al.UNKNOWN;case Kf.DEADLINE_EXCEEDED:return Al.DEADLINE_EXCEEDED;case Kf.RESOURCE_EXHAUSTED:return Al.RESOURCE_EXHAUSTED;case Kf.INTERNAL:return Al.INTERNAL;case Kf.UNAVAILABLE:return Al.UNAVAILABLE;case Kf.UNAUTHENTICATED:return Al.UNAUTHENTICATED;case Kf.INVALID_ARGUMENT:return Al.INVALID_ARGUMENT;case Kf.NOT_FOUND:return Al.NOT_FOUND;case Kf.ALREADY_EXISTS:return Al.ALREADY_EXISTS;case Kf.PERMISSION_DENIED:return Al.PERMISSION_DENIED;case Kf.FAILED_PRECONDITION:return Al.FAILED_PRECONDITION;case Kf.ABORTED:return Al.ABORTED;case Kf.OUT_OF_RANGE:return Al.OUT_OF_RANGE;case Kf.UNIMPLEMENTED:return Al.UNIMPLEMENTED;case Kf.DATA_LOSS:return Al.DATA_LOSS;default:return wl()}}(Yf=Kf||(Kf={}))[Yf.OK=0]="OK",Yf[Yf.CANCELLED=1]="CANCELLED",Yf[Yf.UNKNOWN=2]="UNKNOWN",Yf[Yf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yf[Yf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yf[Yf.NOT_FOUND=5]="NOT_FOUND",Yf[Yf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yf[Yf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yf[Yf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yf[Yf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yf[Yf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yf[Yf.ABORTED=10]="ABORTED",Yf[Yf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yf[Yf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yf[Yf.INTERNAL=13]="INTERNAL",Yf[Yf.UNAVAILABLE=14]="UNAVAILABLE",Yf[Yf.DATA_LOSS=15]="DATA_LOSS";var nd=function(){function t(t,e){this.J=t,this.root=e||id.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,id.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,id.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new rd(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new rd(this.root,t,this.J,!1)},t.prototype.se=function(){return new rd(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new rd(this.root,t,this.J,!0)},t}(),rd=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),id=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw wl();if(this.right._e())throw wl();var t=this.left.me();if(t!==this.right.me())throw wl();return t+(this._e()?0:1)},t}();id.EMPTY=null,id.RED=!0,id.Jt=!1,id.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw wl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw wl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw wl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw wl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw wl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new id(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var sd=function(){function t(t){this.J=t,this.data=new nd(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new od(this.data.ee())},t.prototype.ne=function(t){return new od(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(0!==this.J(i,s))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),od=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),ad=new nd(Zl.J);function ud(){return ad}function cd(){return ud()}var ld=new nd(Zl.J);function hd(){return ld}var fd=new nd(Zl.J);function dd(){return fd}var pd=new sd(Zl.J);function gd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=pd,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var md=new sd(xl);function yd(){return md}var bd=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Zl.J(e.key,n.key)}:function(t,e){return Zl.J(t.key,e.key)},this.Ve=hd(),this.pe=new nd(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),vd=function(){function t(){this.ve=new nd(Zl.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):wl():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),_d=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=s,this.xe=o,this.Ne=a}return t.Fe=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,bd.be(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&hf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),wd=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Od.Be(e,n)),new t(Ql.min(),r,yd(),ud(),gd())},t}(),Od=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Il.h,n,gd(),gd(),gd())},t}(),Ed=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},Cd=function(t,e){this.targetId=t,this.Ge=e},Sd=function(t,e,n,r){void 0===n&&(n=Il.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},xd=function(){function t(){this.ze=0,this.He=Id(),this.Je=Il.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=gd(),e=gd(),n=gd();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:wl()}}),new Od(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Id()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Td=function(){function t(t){this.hn=t,this.ln=new Map,this._n=ud(),this.fn=kd(),this.dn=new sd(xl)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof Ah?this.En(r,t.je):t.je instanceof Dh&&this.Tn(r,t.key,t.je)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Tn(r=s[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:wl()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Lh(i))if(0===n){var s=new Zl(i.path);this.Tn(e,s,new Dh(s,Ql.min()))}else Ol(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var s=e.gn(i);if(s){if(r.qe&&Lh(s.target)){var o=new Zl(s.target.path);null!==e._n.get(o)||e.bn(i,o)||e.Tn(i,o,new Dh(o,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=gd();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new wd(t,n,this.dn,this._n,r);return this._n=ud(),this.fn=kd(),this.dn=new sd(xl),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new xd,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new sd(xl),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||yl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new xd),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function kd(){return new nd(Zl.J)}function Id(){return new nd(Zl.J)}var Ad={asc:"ASCENDING",desc:"DESCENDING"},Dd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jd=function(t,e){this.T=t,this.qt=e};function Pd(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nd(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Rd(t,e){return Pd(t,e.G())}function Md(t){return Ol(!!t),Ql.W(function(t){var e=ih(t);return new Gl(e.seconds,e.nanos)}(t))}function Ld(t,e){return function(t){return new Kl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Fd(t){var e=Kl.ct(t);return Ol(up(e)),e}function Vd(t,e){return Ld(t.T,e.path)}function Ud(t,e){var n=Fd(e);if(n.get(1)!==t.T.projectId)throw new Dl(Al.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Dl(Al.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Zl(Bd(n))}function zd(t,e){return Ld(t.T,e)}function Hd(t){var e=Fd(t);return 4===e.length?Kl.at():Bd(e)}function qd(t){return new Kl(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Bd(t){return Ol(t.length>4&&"documents"===t.get(4)),t.X(5)}function $d(t,e,n){return{name:Vd(t,e),fields:n.proto.mapValue.fields}}function Gd(t,e,n){var r=Ud(t,e.name),i=Md(e.updateTime),s=new xh({mapValue:{fields:e.fields}});return new Ah(r,i,s,{hasCommittedMutations:!!n})}function Qd(t,e){var n;if(e instanceof qf)n={update:$d(t,e.key,e.value)};else if(e instanceof Jf)n={delete:Vd(t,e.key)};else if(e instanceof Bf)n={update:$d(t,e.key,e.data),updateMask:ap(e.zt)};else{if(!(e instanceof Zf))return wl();n={verify:Vd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Sf)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof xf)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof kf)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Af)return{fieldPath:e.field.ot(),increment:n.Qt};throw wl()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Rd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:wl()}(t,e.Gt)),n}function Wd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Rf.updateTime(Md(t.updateTime)):void 0!==t.exists?Rf.exists(t.exists):Rf.Wt()}(e.currentDocument):Rf.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ol("REQUEST_TIME"===e.setToServerValue),n=new Sf):"appendMissingElements"in e?n=new xf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new kf(e.removeAllFromArray.values||[]):"increment"in e?n=new Af(t,e.increment):wl();var r=Jl._t(e.fieldPath);return new Pf(r,n)}(t,e)}):[];if(e.update){var i=Ud(t,e.update.name),s=new xh({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new nh((t.fieldPaths||[]).map(function(t){return Jl._t(t)}))}(e.updateMask);return new Bf(i,s,o,n,r)}return new qf(i,s,n,r)}if(e.delete){var a=Ud(t,e.delete);return new Jf(a,n)}if(e.verify){var u=Ud(t,e.verify);return new Zf(u,n)}return wl()}function Kd(t,e){return{documents:[zd(t,e.path)]}}function Yd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=zd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zd(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ch(t.value))return{unaryFilter:{field:rp(t.field),op:"IS_NAN"}};if(Eh(t.value))return{unaryFilter:{field:rp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ch(t.value))return{unaryFilter:{field:rp(t.field),op:"IS_NOT_NAN"}};if(Eh(t.value))return{unaryFilter:{field:rp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rp(t.field),op:np(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:rp(t.field),direction:ep(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.qt||lh(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Xd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Xd(e.endAt)),n}function Jd(t){var e=Hd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ol(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Zd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Kh(ip(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return lh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=tp(n.startAt));var l=null;return n.endAt&&(l=tp(n.endAt)),tf(e,i,a,o,u,"F",c,l)}function Zd(t){return t?void 0!==t.unaryFilter?[op(t)]:void 0!==t.fieldFilter?[sp(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Zd(t)}).reduce(function(t,e){return t.concat(e)}):wl():[]}function Xd(t){return{before:t.before,values:t.position}}function tp(t){return new Qh(t.values||[],!!t.before)}function ep(t){return Ad[t]}function np(t){return Dd[t]}function rp(t){return{fieldPath:t.ot()}}function ip(t){return Jl._t(t.fieldPath)}function sp(t){return Fh.create(ip(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return wl()}}(t.fieldFilter.op),t.fieldFilter.value)}function op(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ip(t.unaryFilter.field);return Fh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ip(t.unaryFilter.field);return Fh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ip(t.unaryFilter.field);return Fh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ip(t.unaryFilter.field);return Fh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return wl()}}function ap(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function up(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var cp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},lp=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&wl(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),hp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new cp,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new pp(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=vp(e.target.error);n.qn.reject(new pp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new pp(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(yl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new mp(e)},t}(),fp=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(ho.g)())&&bl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return yl("SimpleDb","Removing database:",t),yp(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(ho.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(pl.b)(this,void 0,void 0,function(){var e,n=this;return Object(pl.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(yl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new pp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Dl(Al.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new pp(t,n))},i.onupgradeneeded=function(t){yl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){yl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(pl.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(pl.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(pl.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=hp.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),lp.reject(t)}).Mn(),u={},o.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return yl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),dp=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return yp(this.ts.delete())},t}(),pp=function(t){function e(e,n){var r=this;return(r=t.call(this,Al.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(pl.c)(e,t),e}(Dl);function gp(t){return"IndexedDbTransactionError"===t.name}var mp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(yl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(yl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),yp(n)},t.prototype.add=function(t){return yl("SimpleDb","ADD",this.store.name,t,t),yp(this.store.add(t))},t.prototype.get=function(t){var e=this;return yp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),yl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return yl("SimpleDb","DELETE",this.store.name,t),yp(this.store.delete(t))},t.prototype.count=function(){return yl("SimpleDb","COUNT",this.store.name),yp(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){yl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new lp(function(n,r){e.onerror=function(t){var e=vp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new lp(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new dp(i),o=e(i.primaryKey,i.value,s);if(o instanceof lp){var a=o.catch(function(t){return s.done(),lp.reject(t)});n.push(a)}s.Nn?r():null===s.ss?i.continue():i.continue(s.ss)}else r()}}).next(function(){return lp.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function yp(t){return new lp(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=vp(t.target.error);n(e)}})}var bp=!1;function vp(t){var e=fp.Kn(Object(ho.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Dl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return bp||(bp=!0,setTimeout(function(){throw r},0)),r}}return t}var _p=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new cp,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Dl(Al.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function wp(t,e){if(bl("AsyncQueue",e+": "+t),gp(t))return new Dl(Al.UNAVAILABLE,e+": "+t);throw t}var Op="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ep=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function Cp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=xp(e)),e=Sp(t.get(n),e);return xp(e)}function Sp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function xp(t){return t+"\x01\x01"}function Tp(t){var e=t.length;if(Ol(e>=2),2===e)return Ol("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Kl.at();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&wl(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:wl()}s=o+2}return new Kl(r)}var kp=function(t,e){this.seconds=t,this.nanoseconds=e},Ip=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ip.store="owner",Ip.key="owner";var Ap=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ap.store="mutationQueues",Ap.keyPath="userId";var Dp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Dp.store="mutations",Dp.keyPath="batchId",Dp.userMutationsIndex="userMutationsIndex",Dp.userMutationsKeyPath=["userId","batchId"];var jp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Cp(e)]},t.key=function(t,e,n){return[t,Cp(e),n]},t}();jp.store="documentMutations",jp.PLACEHOLDER=new jp;var Pp=function(t,e){this.path=t,this.readTime=e},Np=function(t,e){this.path=t,this.version=e},Rp=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Rp.store="remoteDocuments",Rp.readTimeIndex="readTimeIndex",Rp.readTimeIndexPath="readTime",Rp.collectionReadTimeIndex="collectionReadTimeIndex",Rp.collectionReadTimeIndexPath=["parentPath","readTime"];var Mp=function(t){this.byteSize=t};Mp.store="remoteDocumentGlobal",Mp.key="remoteDocumentGlobalKey";var Lp=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Lp.store="targets",Lp.keyPath="targetId",Lp.queryTargetsIndexName="queryTargetsIndex",Lp.queryTargetsKeyPath=["canonicalId","targetId"];var Fp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Fp.store="targetDocuments",Fp.keyPath=["targetId","path"],Fp.documentTargetsIndex="documentTargetsIndex",Fp.documentTargetsKeyPath=["path","targetId"];var Vp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Vp.key="targetGlobalKey",Vp.store="targetGlobal";var Up=function(t,e){this.collectionId=t,this.parent=e};Up.store="collectionParents",Up.keyPath=["collectionId","parent"];var zp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};zp.store="clientMetadata",zp.keyPath="clientId";var Hp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Hp.store="bundles",Hp.keyPath="bundleId";var qp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};qp.store="namedQueries",qp.keyPath="name";var Bp=Object(pl.g)(Object(pl.g)(Object(pl.g)(Object(pl.g)([Ap.store,Dp.store,jp.store,Rp.store,Lp.store,Ip.store,Vp.store,Fp.store],[zp.store]),[Mp.store]),[Up.store]),[Hp.store,qp.store]),$p=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(pl.c)(e,t),e}(Ep);function Gp(t,e){var n=El(t);return fp.Hn(n.bs,e)}var Qp=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Ff(s,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=Vf(o,e,0,this.Ss));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=Vf(o,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},gd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Tl(this.mutations,t.mutations,function(t,e){return zf(t,e)})&&Tl(this.baseMutations,t.baseMutations,function(t,e){return zf(t,e)})},t}(),Wp=function(){function t(t,e,n,r){this.batch=t,this.Fs=e,this.Cs=n,this.Os=r}return t.from=function(e,n,r){Ol(e.mutations.length===r.length);for(var i=dd(),s=e.mutations,o=0;o<s.length;o++)i=i.Ht(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Kp=function(t){this.ks=t};function Yp(t,e){if(e.document)return Gd(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Zl.Tt(e.noDocument.path),r=eg(e.noDocument.readTime);return new Dh(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Zl.Tt(e.unknownDocument.path);return r=eg(e.unknownDocument.version),new jh(i,r)}return wl()}function Jp(t,e,n){var r=Zp(n),i=e.key.path.Z().rt();if(e instanceof Ah){var s=function(t,e){return{name:Vd(t,e.key),fields:e.vt().mapValue.fields,updateTime:Pd(t,e.version.G())}}(t.ks,e),o=e.hasCommittedMutations;return new Rp(null,null,s,o,r,i)}if(e instanceof Dh){var a=e.key.path.rt(),u=tg(e.version);return o=e.hasCommittedMutations,new Rp(null,new Pp(a,u),null,o,r,i)}if(e instanceof jh){var c=e.key.path.rt(),l=tg(e.version);return new Rp(new Np(c,l),null,null,!0,r,i)}return wl()}function Zp(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Xp(t){var e=new Gl(t[0],t[1]);return Ql.W(e)}function tg(t){var e=t.G();return new kp(e.seconds,e.nanoseconds)}function eg(t){var e=new Gl(t.seconds,t.nanoseconds);return Ql.W(e)}function ng(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Wd(t.ks,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var s=e.mutations.map(function(e){return Wd(t.ks,e)}),o=Gl.fromMillis(e.localWriteTimeMs);return new Qp(e.batchId,o,n,s)}function rg(t){var e,n,r=eg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?eg(t.lastLimboFreeSnapshotVersion):Ql.min();return void 0!==t.query.documents?(Ol(1===(n=t.query).documents.length),e=cf(ef(Hd(n.documents[0])))):e=function(t){return cf(Jd(t))}(t.query),new yf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Il.fromBase64String(t.resumeToken))}function ig(t,e){var n,r=tg(e.Mt),i=tg(e.lastLimboFreeSnapshotVersion);n=Lh(e.target)?Kd(t.ks,e.target):Yd(t.ks,e.target);var s=e.resumeToken.toBase64();return new Lp(e.targetId,Rh(e.target),r,s,e.sequenceNumber,i,n)}function sg(t){var e=Jd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?lf(e,e.limit,"L"):e}var og=function(){function t(){}return t.prototype.Ms=function(t,e){return ag(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:eg(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return ag(t).put({bundleId:(n=e).id,createTime:tg(Md(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return ug(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:sg(e.bundledQuery),readTime:eg(e.readTime)};var e})},t.prototype.Bs=function(t,e){return ug(t).put(function(t){return{name:t.name,readTime:tg(Md(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function ag(t){return Gp(t,Hp.store)}function ug(t){return Gp(t,qp.store)}var cg=function(){function t(){this.qs=new lg}return t.prototype.Us=function(t,e){return this.qs.add(e),lp.resolve()},t.prototype.Qs=function(t,e){return lp.resolve(this.qs.getEntries(e))},t}(),lg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new sd(Kl.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new sd(Kl.J)).rt()},t}(),hg=function(){function t(){this.Ks=new lg}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs(function(){n.Ks.add(e)});var s={collectionId:r,parent:Cp(i)};return fg(t).put(s)}return lp.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[kl(e),""],!1,!0);return fg(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Tp(s.parent))}return n})},t}();function fg(t){return Gp(t,Up.store)}var dg={Ws:!1,js:0,Gs:0,zs:0},pg=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function gg(t){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(e){if(t.code!==Al.FAILED_PRECONDITION||t.message!==Op)throw t;return yl("LocalStore","Unexpectedly lost primary lease"),[2]})})}pg.Zs=10,pg.ti=1e3,pg.ei=new pg(41943040,pg.Zs,pg.ti),pg.ni=new pg(-1,0,0);var mg=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.ii(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){th(this.ri,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.nt=function(){return eh(this.ri)},t}(),yg=function(){function t(){this.oi=new mg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:Ql.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?lp.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function bg(t,e,n){var r=t.store(Dp.store),i=t.store(jp.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){Ol(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=jp.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return lp.$n(s).next(function(){return c})}function vg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw wl();e=t.noDocument}return JSON.stringify(e).length}var _g=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return Ol(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Og(t).ls({index:Dp.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,r){var i=this,s=Eg(t),o=Og(t);return o.add({}).next(function(a){Ol("number"==typeof a);for(var u=new Qp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Qd(t.ks,e)}),i=n.mutations.map(function(e){return Qd(t.ks,e)});return new Dp(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new sd(function(t,e){return xl(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],g=jp.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(o.put(c)),l.push(s.put(g,jp.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ti.Us(t,e))}),t.Vs(function(){i.mi[a]=u.keys()}),lp.$n(l).next(function(){return u})})},t.prototype.yi=function(t,e){var n=this;return Og(t).get(e).next(function(t){return t?(Ol(t.userId===n.userId),ng(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?lp.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null})},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Og(t).ls({index:Dp.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Ol(e.batchId>=r),s=ng(n.Kt,e)),i.done()}).next(function(){return s})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Og(t).ls({index:Dp.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Og(t).os(Dp.userMutationsIndex,n).next(function(t){return t.map(function(t){return ng(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,r=jp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Eg(t).ls({range:i},function(r,i,o){var a=r[0],u=r[2],c=Tp(r[1]);if(a===n.userId&&e.path.isEqual(c))return Og(t).get(u).next(function(t){if(!t)throw wl();Ol(t.userId===n.userId),s.push(ng(n.Kt,t))});o.done()}).next(function(){return s})},t.prototype.Si=function(t,e){var n=this,r=new sd(xl),i=[];return e.forEach(function(e){var s=jp.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Eg(t).ls({range:o},function(t,i,s){var o=t[0],a=t[2],u=Tp(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),lp.$n(i).next(function(){return n.Di(t,r)})},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,s=jp.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new sd(xl);return Eg(t).ls({range:o},function(t,e,s){var o=t[0],u=t[2],c=Tp(t[1]);o===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Di(t,a)})},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Og(t).get(e).next(function(t){if(null===t)throw wl();Ol(t.userId===n.userId),r.push(ng(n.Kt,t))}))}),lp.$n(i).next(function(){return r})},t.prototype.xi=function(t,e){var n=this;return bg(t.bs,this.userId,e).next(function(r){return t.Vs(function(){n.Ni(e.batchId)}),lp.forEach(r,function(e){return n.Ii.Fi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Oi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return lp.resolve();var r=IDBKeyRange.lowerBound(jp.prefixForUser(e.userId)),i=[];return Eg(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var s=Tp(t[1]);i.push(s)}else r.done()}).next(function(){Ol(0===i.length)})})},t.prototype.ki=function(t,e){return wg(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return Cg(t).get(this.userId).next(function(t){return t||new Ap(e.userId,-1,"")})},t}();function wg(t,e,n){var r=jp.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Eg(t).ls({range:s,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Og(t){return Gp(t,Dp.store)}function Eg(t){return Gp(t,jp.store)}function Cg(t){return Gp(t,Ap.store)}var Sg=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),xg=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var r=new Sg(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return Ql.W(new Gl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Wi=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.ji=function(t,e,n){var r=this;return this.Ui(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return Tg(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return Ol(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return Tg(t).ls(function(o,a){var u=rg(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Yi(t,u)))}).next(function(){return lp.$n(s)}).next(function(){return i})},t.prototype.mn=function(t,e){return Tg(t).ls(function(t,n){var r=rg(n);e(r)})},t.prototype.Ui=function(t){return kg(t).get(Vp.key).next(function(t){return Ol(null!==t),t})},t.prototype.Qi=function(t,e){return kg(t).put(Vp.key,e)},t.prototype.zi=function(t,e){return Tg(t).put(ig(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=Rh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Tg(t).ls({range:r,index:Lp.queryTargetsIndexName},function(t,n,r){var s=rg(n);Mh(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.nr=function(t,e,n){var r=this,i=[],s=Ig(t);return e.forEach(function(e){var o=Cp(e.path);i.push(s.put(new Fp(n,o))),i.push(r.Ii.sr(t,n,e))}),lp.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=Ig(t);return lp.forEach(e,function(e){var s=Cp(e.path);return lp.$n([i.delete([n,s]),r.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=Ig(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ig(t),i=gd();return r.ls({range:n,hs:!0},function(t,e,n){var r=Tp(t[1]),s=new Zl(r);i=i.add(s)}).next(function(){return i})},t.prototype.ki=function(t,e){var n=Cp(e.path),r=IDBKeyRange.bound([n],[kl(n)],!1,!0),i=0;return Ig(t).ls({index:Fp.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return Tg(t).get(e).next(function(t){return t?rg(t):null})},t}();function Tg(t){return Gp(t,Lp.store)}function kg(t){return Gp(t,Vp.store)}function Ig(t){return Gp(t,Fp.store)}function Ag(t,e){var n=t[1],r=e[1],i=xl(t[0],e[0]);return 0===i?xl(n,r):i}var Dg=function(){function t(t){this.ar=t,this.buffer=new sd(Ag),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ag(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),jg=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;yl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(pl.b)(e,void 0,void 0,function(){var e;return Object(pl.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return gp(e=n.sent())?(yl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,gg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),Pg=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return lp.resolve($l.U);var r=new Dg(e);return this.Ar.mn(t,function(t){return r.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return r.lr(t)})}).next(function(){return r.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(yl("LruGarbageCollector","Garbage collection skipped; disabled"),lp.resolve(dg)):this.br(t).next(function(r){return r<n.params.Hs?(yl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),dg):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>c.params.Ys?(yl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,s=Date.now(),c.yr(t,r)}).next(function(r){return n=r,o=Date.now(),c.Zi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Vr(t,n)}).next(function(t){return u=Date.now(),ml()<=lo.a.DEBUG&&yl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),lp.resolve({Ws:!0,js:r,Gs:i,zs:t})})},t}(),Ng=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Pg(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return Rg(t,n)},t.prototype.rr=function(t,e,n){return Rg(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Fi=function(t,e){return Rg(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return Cg(t)._s(function(r){return wg(t,r,e).next(function(t){return t&&(n=!0),lp.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Or().Fr(),i=[],s=0;return this.Cr(t,function(o,a){if(a<=e){var u=n.Nr(t,o).next(function(e){if(!e)return s++,r.fi(t,o).next(function(){return r._i(o),Ig(t).delete([0,Cp(o.path)])})});i.push(u)}}).next(function(){return lp.$n(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Rg(t,e)},t.prototype.Cr=function(t,e){var n,r=Ig(t),i=$l.U;return r.ls({index:Fp.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==$l.U&&e(new Zl(Tp(n)),i),i=o,n=s):i=$l.U}).next(function(){i!==$l.U&&e(new Zl(Tp(n)),i)})},t.prototype.br=function(t){return this.db.Or().Mr(t)},t}();function Rg(t,e){return Ig(t).put(function(t,e){return new Fp(0,Cp(t.path),e)}(e,t.vs))}var Mg=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return Vg(t).put(Ug(e),n)},t.prototype._i=function(t,e){var n=Vg(t),r=Ug(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Lr(t,r)})},t.prototype.fi=function(t,e){var n=this;return Vg(t).get(Ug(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return Vg(t).get(Ug(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:vg(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=cd();return this.qr(t,e,function(t,e){var i=n.$r(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Ur=function(t,e){var n=this,r=cd(),i=new nd(Zl.J);return this.qr(t,e,function(t,e){var s=n.$r(e);s?(r=r.Ht(t,s),i=i.Ht(t,vg(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Qr:r,Kr:i}})},t.prototype.qr=function(t,e,n){if(e.nt())return lp.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),s=i.ce();return Vg(t).ls({range:r},function(t,e,r){for(var o=Zl.Tt(t);s&&Zl.J(s,o)<0;)n(s,null),s=i.ce();s&&s.isEqual(o)&&(n(s,e),s=i.ae()?i.ce():null),s?r.rs(s.path.rt()):r.done()}).next(function(){for(;s;)n(s,null),s=i.ae()?i.ce():null})},t.prototype.Wr=function(t,e,n){var r=this,i=hd(),s=e.path.length+1,o={};if(n.isEqual(Ql.min())){var a=e.path.rt();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=Zp(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Rp.collectionReadTimeIndex}return Vg(t).ls(o,function(t,n,o){if(t.length===s){var a=Yp(r.Kt,n);e.path.st(a.key.path)?a instanceof Ah&&pf(e,a)&&(i=i.Ht(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Fr=function(t){return new Lg(this,!!t&&t.jr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Fg(t).get(Mp.key).next(function(t){return Ol(!!t),t})},t.prototype.Lr=function(t,e){return Fg(t).put(Mp.key,e)},t.prototype.$r=function(t){if(t){var e=Yp(this.Kt,t);return e instanceof Dh&&e.version.isEqual(Ql.min())?null:e}return null},t}(),Lg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.jr=n,r.zr=new mg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(pl.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new sd(function(t,e){return xl(t.ot(),e.ot())});return this.oi.forEach(function(s,o){var a=e.zr.get(s);if(o.li){var u=Jp(e.Gr.Kt,o.li,e.ai(s));i=i.add(s.path.Z());var c=vg(u);r+=c-a,n.push(e.Gr.ui(t,s,u))}else if(r-=a,e.jr){var l=Jp(e.Gr.Kt,new Dh(s,Ql.min()),e.ai(s));n.push(e.Gr.ui(t,s,l))}else n.push(e.Gr._i(t,s))}),i.forEach(function(r){n.push(e.Gr.Ti.Us(t,r))}),n.push(this.Gr.updateMetadata(t,r)),lp.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(yg);function Fg(t){return Gp(t,Mp.store)}function Vg(t){return Gp(t,Rp.store)}function Ug(t){return t.path.rt()}var zg=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Ol(n<r&&n>=0&&r<=11);var s=new hp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ip.store)}(t),function(t){t.createObjectStore(Ap.store,{keyPath:Ap.keyPath}),t.createObjectStore(Dp.store,{keyPath:Dp.keyPath,autoIncrement:!0}).createIndex(Dp.userMutationsIndex,Dp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(jp.store)}(t),Hg(t),function(t){t.createObjectStore(Rp.store)}(t));var o=lp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Fp.store),t.deleteObjectStore(Lp.store),t.deleteObjectStore(Vp.store)}(t),Hg(t)),o=o.next(function(){return function(t){var e=t.store(Vp.store),n=new Vp(0,0,Ql.min().G(),0);return e.put(Vp.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Dp.store).os().next(function(n){t.deleteObjectStore(Dp.store),t.createObjectStore(Dp.store,{keyPath:Dp.keyPath,autoIncrement:!0}).createIndex(Dp.userMutationsIndex,Dp.userMutationsKeyPath,{unique:!0});var r=e.store(Dp.store),i=n.map(function(t){return r.put(t)});return lp.$n(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(zp.store,{keyPath:zp.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Hr(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Mp.store)}(t),i.Jr(s)})),n<7&&r>=7&&(o=o.next(function(){return i.Yr(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Xr(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Rp.store);e.createIndex(Rp.readTimeIndex,Rp.readTimeIndexPath,{unique:!1}),e.createIndex(Rp.collectionReadTimeIndex,Rp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Zr(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Hp.store,{keyPath:Hp.keyPath})}(t),function(t){t.createObjectStore(qp.store,{keyPath:qp.keyPath})}(t)})),o},t.prototype.Jr=function(t){var e=0;return t.store(Rp.store).ls(function(t,n){e+=vg(n)}).next(function(){var n=new Mp(e);return t.store(Mp.store).put(Mp.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store(Ap.store),r=t.store(Dp.store);return n.os().next(function(n){return lp.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Dp.userMutationsIndex,i).next(function(r){return lp.forEach(r,function(r){Ol(r.userId===n.userId);var i=ng(e.Kt,r);return bg(t,n.userId,i).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(Fp.store),n=t.store(Rp.store);return t.store(Vp.store).get(Vp.key).next(function(t){var r=[];return n.ls(function(n,i){var s=new Kl(n),o=function(t){return[0,Cp(t)]}(s);r.push(e.get(o).next(function(n){return n?lp.resolve():function(n){return e.put(new Fp(0,Cp(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return lp.$n(r)})})},t.prototype.Xr=function(t,e){t.createObjectStore(Up.store,{keyPath:Up.keyPath});var n=e.store(Up.store),r=new lg,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Cp(i)})}};return e.store(Rp.store).ls({hs:!0},function(t,e){var n=new Kl(t);return i(n.Z())}).next(function(){return e.store(jp.store).ls({hs:!0},function(t,e){var n=Tp(t[1]);return i(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(Lp.store);return n.ls(function(t,r){var i=rg(r),s=ig(e.Kt,i);return n.put(s)})},t}();function Hg(t){t.createObjectStore(Fp.store,{keyPath:Fp.keyPath}).createIndex(Fp.documentTargetsIndex,Fp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Lp.store,{keyPath:Lp.keyPath}).createIndex(Lp.queryTargetsIndexName,Lp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Vp.store)}var qg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Bg=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=s,this.window=o,this.document=a,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.Wn())throw new Dl(Al.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Ng(this,i),this.lo=n+"main",this.Kt=new Kp(u),this._o=new fp(this.lo,11,new zg(this.Kt)),this.fo=new xg(this.Ii,this.Kt),this.Ti=new hg,this.wo=function(t,e){return new Mg(t,e)}(this.Kt,this.Ti),this.Eo=new og,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&bl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Dl(Al.FAILED_PRECONDITION,qg);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.Wi(e)})}).then(function(e){t.io=new $l(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(pl.b)(e,void 0,void 0,function(){return Object(pl.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(pl.b)(e,void 0,void 0,function(){return Object(pl.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(pl.b)(e,void 0,void 0,function(){return Object(pl.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Gg(e).put(new zp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(gp(e))return yl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return yl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return $g(t).get(Ip.key).next(function(t){return lp.resolve(e.Co(t))})},t.prototype.xo=function(t){return Gg(t).delete(this.clientId)},t.prototype.No=function(){return Object(pl.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(pl.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Fo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Gp(t,zp.store);return e.os().next(function(t){var n=r.Oo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return lp.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?lp.resolve(!0):$g(t).get(Ip.key).next(function(n){if(null!==n&&e.Fo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new Dl(Al.FAILED_PRECONDITION,qg);return!1}}return!(!e.networkEnabled||!e.inForeground)||Gg(t).os().next(function(t){return void 0===e.Oo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&yl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(pl.b)(this,void 0,void 0,function(){var t=this;return Object(pl.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Ip.store,zp.store],function(e){var n=new $p(e,$l.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Oo=function(t,e){var n=this;return t.filter(function(t){return n.Fo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Gg(e).os().next(function(e){return t.Oo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return _g.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.Wo=function(){return this.Ti},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return yl("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",Bp,function(s){return r=new $p(s,i.io?i.io.next():$l.U),"readwrite-primary"===e?i.po(r).next(function(t){return!!t||i.vo(r)}).next(function(e){if(!e)throw bl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo(function(){return i.ho(!1)}),new Dl(Al.FAILED_PRECONDITION,Op);return n(r)}).next(function(t){return i.Do(r).next(function(){return t})}):i.Go(r).next(function(){return n(r)})}).then(function(t){return r.ps(),t})},t.prototype.Go=function(t){var e=this;return $g(t).get(Ip.key).next(function(t){if(null!==t&&e.Fo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Dl(Al.FAILED_PRECONDITION,qg)})},t.prototype.Do=function(t){var e=new Ip(this.clientId,this.allowTabSynchronization,Date.now());return $g(t).put(Ip.key,e)},t.Wn=function(){return fp.Wn()},t.prototype.So=function(t){var e=this,n=$g(t);return n.get(Ip.key).next(function(t){return e.Co(t)?(yl("IndexedDbPersistence","Releasing primary lease."),n.delete(Ip.key)):lp.resolve()})},t.prototype.Fo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(bl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return yl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return bl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){bl("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function $g(t){return Gp(t,Ip.store)}function Gg(t){return Gp(t,zp.store)}function Qg(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Wg=function(t,e){this.progress=t,this.zo=e},Kg=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=cd();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].xs(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){var i=n.Xo(t,e,r),s=ud();return i.forEach(function(t,e){e||(e=new Dh(t,Ql.min())),s=s.Ht(t,e)}),s})},t.prototype.Wr=function(t,e,n){return function(t){return Zl.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):af(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Zl(e)).next(function(t){var e=hd();return t instanceof Ah&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,s=hd();return this.Ti.Qs(t,i).next(function(o){return lp.forEach(o,function(o){var a=function(t,e){return new Xh(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Ht(t,e)})})}).next(function(){return s})})},t.prototype.sc=function(t,e,n){var r,i,s=this;return this.wo.Wr(t,e,n).next(function(n){return r=n,s.Ho.Ci(t,e)}).next(function(e){return s.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=Vf(u,r.get(c),0,s.Ss);r=l instanceof Ah?r.Ht(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){pf(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=gd(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Bf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Ah&&(c=c.Ht(t,e))}),c})},t}(),Yg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=gd(),i=gd(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Jg=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.Wr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Ql.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(s){var o=i.lc(e,s);return(nf(e)||rf(e))&&i._c(e.limitType,o,r,n)?i.hc(t,e):(ml()<=lo.a.DEBUG&&yl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),df(e)),i.uc.Wr(t,e,n).next(function(t){return o.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new sd(gf(t));return e.forEach(function(e,r){r instanceof Ah&&pf(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return ml()<=lo.a.DEBUG&&yl("QueryEngine","Using full collection scan to execute query:",df(e)),this.uc.Wr(t,e,Ql.min())},t}(),Zg=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new nd(xl),this.wc=new mg(function(t){return Rh(t)},Mh),this.Ec=Ql.min(),this.Ho=t.Ko(n),this.Tc=t.Or(),this.fo=t.Dr(),this.Ic=new Kg(this.Tc,this.Ho,this.persistence.Wo()),this.Eo=t.jo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function Xg(t,e,n,r){return new Zg(t,e,n,r)}function tm(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(pl.d)(this,function(o){switch(o.label){case 0:return n=El(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.Ho.bi(t).next(function(o){return s=o,r=n.persistence.Ko(e),i=new Kg(n.Tc,r,n.persistence.Wo()),r.bi(t)}).next(function(e){for(var n=[],r=[],o=gd(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.Zo(t,o).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return s=o.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),s)]}})})}function em(t,e){var n=El(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Fr({jr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=lp.resolve();return s.forEach(function(t){o=o.next(function(){return r.fi(e,t)}).next(function(e){var s=e,o=n.Os.get(t);Ol(null!==o),(!s||s.version.u(o)<0)&&(s=i.Ds(t,s,n))&&r.ui(s,n.Fs)})}),o.next(function(){return t.Ho.xi(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,r)})})}function nm(t){var e=El(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function rm(t,e){var n=El(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Tc.Fr({jr:!0});i=n.dc;var o=[];e.Oe.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.fo.ir(t,e.Ke,s).next(function(){return n.fo.nr(t,e.Ue,s)}));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.vs);i=i.Ht(s,c),function(t,e,n){return Ol(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&o.push(n.fo.Ji(t,c))}}});var a=ud();if(e.Me.forEach(function(r,i){e.Le.has(r)&&o.push(n.persistence.Ii.kr(t,r))}),o.push(im(t,s,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(Ql.min())){var u=n.fo.Ki(t).next(function(e){return n.fo.ji(t,t.vs,r)});o.push(u)}return lp.$n(o).next(function(){return s.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function im(t,e,n,r,i){var s=gd();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=ud();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof Dh&&o.version.isEqual(Ql.min())?(e._i(n,u),s=s.Ht(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.ui(o,u),s=s.Ht(n,o)):yl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function sm(t,e){var n=El(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function om(t,e){var n=El(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.fo.er(t,e).next(function(i){return i?lp.resolve(r=i):n.fo.qi(t).next(function(i){return r=new yf(e,i,0,t.vs),n.fo.Gi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function am(t,e,n){return Object(pl.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(pl.d)(this,function(a){switch(a.label){case 0:r=El(t),i=r.dc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Ii.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!gp(o=a.sent()))throw o;return yl("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function um(t,e,n){var r=El(t),i=Ql.min(),s=gd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=El(t),i=r.wc.get(n);return void 0!==i?lp.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,cf(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next(function(t){s=t})}).next(function(){return r.fc.Wr(t,e,n?i:Ql.min(),n?s:gd())}).next(function(t){return{documents:t,Pc:s}})})}function cm(t,e){var n=El(t),r=El(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function lm(t){var e=El(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=El(t),i=ud(),s=Zp(n),o=Vg(e),a=IDBKeyRange.lowerBound(s,!0);return o.ls({index:Rp.readTimeIndex,range:a},function(t,e){var n=Yp(r.Kt,e);i=i.Ht(n.key,n),s=e.readTime}).next(function(){return{zo:i,readTime:Xp(s)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function hm(t){return Object(pl.b)(this,void 0,void 0,function(){var e;return Object(pl.d)(this,function(n){return[2,(e=El(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Vg(t),n=Ql.min();return e.ls({index:Rp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Xp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function fm(t,e,n,r){return Object(pl.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return Object(pl.d)(this,function(p){switch(p.label){case 0:for(i=El(t),s=gd(),o=ud(),a=dd(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Fr({jr:!0}),[4,om(i,function(t){return cf(ef(Kl.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return im(t,f,o,Ql.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.fo.Xi(t,d.targetId).next(function(){return i.fo.nr(t,s,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function dm(t,e,n){return void 0===n&&(n=gd()),Object(pl.b)(this,void 0,void 0,function(){var r,i;return Object(pl.d)(this,function(s){switch(s.label){case 0:return[4,om(t,cf(sg(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=El(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Md(e.readTime);if(r.Mt.u(s)>=0)return i.Eo.Bs(t,e);var o=r.$t(Il.h,s);return i.dc=i.dc.Ht(o.targetId,o),i.fo.Ji(t,o).next(function(){return i.fo.Xi(t,r.targetId)}).next(function(){return i.fo.nr(t,n,r.targetId)}).next(function(){return i.Eo.Bs(t,e)})})]}})})}var pm=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return lp.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Md(n.createTime)}),lp.resolve()},t.prototype.$s=function(t,e){return lp.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:sg(t.bundledQuery),readTime:Md(t.readTime)}}(e)),lp.resolve()},t}(),gm=function(){function t(){this.Sc=new sd(mm.Dc),this.Cc=new sd(mm.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new mm(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Fc(new mm(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new Zl(new Kl([])),r=new mm(n,t),i=new mm(n,t+1),s=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),s.push(t.key)}),s},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Zl(new Kl([])),n=new mm(e,t),r=new mm(e,t+1),i=gd();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ki=function(t){var e=new mm(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),mm=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Zl.J(t.key,e.key)||xl(t.$c,e.$c)},t.xc=function(t,e){return xl(t.$c,e.$c)||Zl.J(t.key,e.key)},t}(),ym=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new sd(mm.Dc)}return t.prototype.Ri=function(t){return lp.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var s=new Qp(i,e,n,r);this.Ho.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.qc=this.qc.add(new mm(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return lp.resolve(s)},t.prototype.yi=function(t,e){return lp.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return lp.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return lp.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return lp.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new mm(e,0),i=new mm(e,Number.POSITIVE_INFINITY),s=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);s.push(e)}),lp.resolve(s)},t.prototype.Si=function(t,e){var n=this,r=new sd(xl);return e.forEach(function(t){var e=new mm(t,0),i=new mm(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),lp.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;Zl.Et(i)||(i=i.child(""));var s=new mm(new Zl(i),0),o=new sd(xl);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(o=o.add(t.$c)),!0)},s),lp.resolve(this.Kc(o))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.xi=function(t,e){var n=this;Ol(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return lp.forEach(e.mutations,function(i){var s=new mm(i.key,e.batchId);return r=r.delete(s),n.Ii.Fi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new mm(e,0),r=this.qc.Pe(n);return lp.resolve(e.isEqual(r&&r.key))},t.prototype.Oi=function(t){return lp.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),bm=function(){function t(t,e){this.Ti=t,this.jc=e,this.docs=new nd(Zl.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.jc(e);return this.docs=this.docs.Ht(r,{li:e,size:o,readTime:n}),this.size+=o-s,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return lp.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=cd();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)}),lp.resolve(r)},t.prototype.Wr=function(t,e,n){for(var r=hd(),i=new Zl(e.path.child("")),s=this.docs.ne(i);s.ae();){var o=s.ce(),a=o.value,u=a.li,c=a.readTime;if(!e.path.st(o.key.path))break;c.u(n)<=0||u instanceof Ah&&pf(e,u)&&(r=r.Ht(u.key,u))}return lp.resolve(r)},t.prototype.Gc=function(t,e){return lp.forEach(this.docs,function(t){return e(t)})},t.prototype.Fr=function(t){return new vm(this)},t.prototype.Mr=function(t){return lp.resolve(this.size)},t}(),vm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(pl.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)}),lp.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(yg),_m=function(){function t(t){this.persistence=t,this.zc=new mg(function(t){return Rh(t)},Mh),this.lastRemoteSnapshotVersion=Ql.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new gm,this.targetCount=0,this.Yc=Sg.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),lp.resolve()},t.prototype.Ki=function(t){return lp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Wi=function(t){return lp.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),lp.resolve(this.highestTargetId)},t.prototype.ji=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),lp.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Sg(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,lp.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),lp.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,lp.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return this.zc.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(o),s.push(r.Xi(t,a.targetId)),i++)}),lp.$n(s).next(function(){return i})},t.prototype.tr=function(t){return lp.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return lp.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),lp.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach(function(e){i.push(r.Fi(t,e))}),lp.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),lp.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return lp.resolve(n)},t.prototype.ki=function(t,e){return lp.resolve(this.Jc.ki(e))},t}(),wm=function(){function t(t,e){var n=this;this.Xc={},this.io=new $l(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new _m(this),this.Ti=new cg,this.wo=function(t,e){return new bm(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new Kp(e),this.Eo=new pm(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.Wo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new ym(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;yl("MemoryPersistence","Starting transaction:",t);var i=new Om(this.io.next());return this.Ii.ta(),n(i).next(function(t){return r.Ii.ea(i).next(function(){return t})}).Mn().then(function(t){return i.ps(),t})},t.prototype.na=function(t,e){return lp.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),Om=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(pl.c)(e,t),e}(Ep),Em=function(){function t(t){this.persistence=t,this.sa=new gm,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw wl()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),lp.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),lp.resolve()},t.prototype.Fi=function(t,e){return this.oa.add(e.toString()),lp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Dr();return r.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Or().Fr();return lp.forEach(this.oa,function(r){var i=Zl.ft(r);return e.ca(t,i).next(function(t){t||n._i(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return lp.Bn([function(){return lp.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Cm(t,e){return"firestore_clients_"+t+"_"+e}function Sm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function xm(t,e){return"firestore_targets_"+t+"_"+e}var Tm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Dl(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(bl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),km=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Dl(r.error.code,r.error.message)),i?new t(e,r.state,s):(bl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Im=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=yd(),o=0;i&&o<r.activeTargetIds.length;++o)i=fh(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(bl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Am=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(bl("SharedClientState","Failed to parse online state: "+e),null)},t}(),Dm=function(){function t(){this.activeTargetIds=yd()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),jm=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new nd(xl),this.Tr=!1,this.Ia=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Cm(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Dm),this.Ra=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(pl.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(pl.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Cm(this.persistenceKey,r)))&&(s=Im.aa(r,i))&&(this.Ta=this.Ta.Ht(s.clientId,s));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(xm(this.persistenceKey,t));if(n){var r=km.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(xm(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return yl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){yl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){yl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(yl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void bl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(pl.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(pl.d)(this,function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(s=this.ba(n.newValue)))return[2,this.va(s)]}else if(n.key===this.Aa)(o=function(t){var e=$l.U;if(null!=t)try{var n=JSON.parse(t);Ol("number"==typeof n),e=n}catch(t){bl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==$l.U&&this.L(o);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Tm(this.currentUser,t,e,n),i=Sm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=Sm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=xm(this.persistenceKey,t),i=new km(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Im.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Tm.aa(new Vl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return km.aa(r,e)},t.prototype.ba=function(t){return Am.aa(t)},t.prototype.Xa=function(t){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(yl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),s=this.Da(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.fa.iu(o,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=yd();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),Pm=function(){function t(){this.ru=new Dm,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Dm,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Nm=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),Rm=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){yl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){yl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Mm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Lm=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Fm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(pl.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,s){var o=new dl;o.listenOnce(ll.COMPLETE,function(){try{switch(o.getLastErrorCode()){case cl.NO_ERROR:var e=o.getResponseJson();yl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case cl.TIMEOUT:yl("Connection",'RPC "'+t+'" timed out'),s(new Dl(Al.DEADLINE_EXCEEDED,"Request time out"));break;case cl.HTTP_ERROR:var n=o.getStatus();if(yl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Al).indexOf(e)>=0?e:Al.UNKNOWN}(r.status);s(new Dl(a,r.message))}else s(new Dl(Al.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Dl(Al.UNAVAILABLE,"Connection failed."));break;default:wl()}}finally{yl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new il,i=au(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(ho.l)()||Object(ho.n)()||Object(ho.j)()||Object(ho.k)()||Object(ho.o)()||Object(ho.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");yl("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Lm({du:function(t){c?yl("Connection","Not sending because WebChannel is closed:",t):(u||(yl("Connection","Opening WebChannel transport."),a.open(),u=!0),yl("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,fl.EventType.OPEN,function(){c||yl("Connection","WebChannel transport opened.")}),h(a,fl.EventType.CLOSE,function(){c||(c=!0,yl("Connection","WebChannel transport closed"),l.Pu())}),h(a,fl.EventType.ERROR,function(t){c||(c=!0,vl("Connection","WebChannel transport errored:",t),l.Pu(new Dl(Al.UNAVAILABLE,"The operation could not be completed")))}),h(a,fl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Ol(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){yl("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Kf[t];if(void 0!==e)return ed(e)}(i),o=r.message;void 0===s&&(s=Al.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new Dl(s,o)),a.close()}else yl("Connection","WebChannel received:",n),l.yu(n)}}),h(i,hl.STAT_EVENT,function(t){10===t.stat?yl("Connection","Detected buffering proxy"):11===t.stat&&yl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);yl("RestConnection","Sending: ",i,n);var s={};return this.Su(s,r),this.Du(t,i,s,n).then(function(t){return yl("RestConnection","Received: ",t),t},function(e){throw vl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.5",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Mm[t]},t}());function Vm(){return"undefined"!=typeof window?window:null}function Um(){return"undefined"!=typeof document?document:null}function zm(t){return new jd(t,!0)}var Hm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&yl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),qm=function(){function t(t,e,n,r,i,s){this.eo=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=s,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new Hm(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Al.RESOURCE_EXHAUSTED?(bl(e.toString()),bl("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Al.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new Dl(Al.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(pl.b)(t,void 0,void 0,function(){return Object(pl.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return yl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.ju===t?n():(yl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Bm=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Kt=i,o}return Object(pl.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:wl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.qt?(Ol(void 0===e||"string"==typeof e),Il.fromBase64String(e||"")):(Ol(void 0===e||e instanceof Uint8Array),Il.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Al.UNKNOWN:ed(t.code);return new Dl(e,t.message||"")}(a);n=new Sd(r,i,s,o||null)}else if("documentChange"in e){i=Ud(t,(r=e.documentChange).document.name),s=Md(r.document.updateTime);var a=new xh({mapValue:{fields:r.document.fields}}),u=(o=new Ah(i,s,a,{}),r.targetIds||[]);n=new Ed(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Ud(t,(r=e.documentDelete).document),s=r.readTime?Md(r.readTime):Ql.min(),a=new Dh(i,s),n=new Ed([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ud(t,(r=e.documentRemove).document),n=new Ed([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return wl();var c=e.filter;i=new Xf(r=c.count||0),n=new Cd(s=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Ql.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ql.min():e.readTime?Md(e.readTime):Ql.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=qd(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Lh(r)?{documents:Kd(t,r)}:{query:Yd(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Nd(t,e.resumeToken):e.Mt.u(Ql.min())>0&&(n.readTime=Pd(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wl()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=qd(this.Kt),e.removeTarget=t,this.eh(e)},e}(qm),$m=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Kt=i,o._h=!1,o}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Ol(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Ol(void 0!==e),t.map(function(t){return function(t,e){var n=Md(t.updateTime?t.updateTime:e);n.isEqual(Ql.min())&&(n=Md(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Nf(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Md(t.commitTime);return this.listener.wh(n,e)}return Ol(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=qd(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Qd(e.Kt,t)})};this.eh(n)},e}(qm),Gm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(pl.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Dl(Al.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===Al.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===Al.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),Qm=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(bl(e),this.Ph=!1):yl("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Wm=function(t,e,n,r,i){var s=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(pl.b)(s,void 0,void 0,function(){return Object(pl.d)(this,function(t){switch(t.label){case 0:return ry(this)?(yl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(pl.b)(this,void 0,void 0,function(){var e;return Object(pl.d)(this,function(n){switch(n.label){case 0:return(e=El(t)).Fh.add(4),[4,Ym(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Km(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new Qm(n,r)};function Km(t){return Object(pl.b)(this,void 0,void 0,function(){var e,n;return Object(pl.d)(this,function(r){switch(r.label){case 0:if(!ry(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ym(t){return Object(pl.b)(this,void 0,void 0,function(){var e,n;return Object(pl.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Jm(t,e){var n=El(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),ny(n)?ey(n):by(n).Ju()&&Xm(n,e))}function Zm(t,e){var n=El(t),r=by(n);n.Nh.delete(e),r.Ju()&&ty(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():ry(n)&&n.Mh.set("Unknown"))}function Xm(t,e){t.Lh.cn(e.targetId),by(t).hh(e)}function ty(t,e){t.Lh.cn(e),by(t).lh(e)}function ey(t){t.Lh=new Td({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),by(t).start(),t.Mh.yh()}function ny(t){return ry(t)&&!by(t).Hu()&&t.Nh.size>0}function ry(t){return 0===El(t).Fh.size}function iy(t){t.Lh=void 0}function sy(t){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(e){return t.Nh.forEach(function(e,n){Xm(t,e)}),[2]})})}function oy(t,e){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(n){return iy(t),ny(t)?(t.Mh.ph(e),ey(t)):t.Mh.set("Unknown"),[2]})})}function ay(t,e,n){return Object(pl.b)(this,void 0,void 0,function(){var r,i,s;return Object(pl.d)(this,function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof Sd&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(pl.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Nh.has(s=i[r])?[4,t.Ch.$h(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Nh.delete(s),t.Lh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),yl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,uy(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ed?t.Lh.wn(e):e instanceof Cd?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Ql.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,nm(t.Sh)];case 8:return i=o.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Il.h,n.Mt)),ty(t,e);var r=new yf(n.target,e,1,n.sequenceNumber);Xm(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return yl("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,uy(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function uy(t,e,n){return Object(pl.b)(this,void 0,void 0,function(){var r=this;return Object(pl.d)(this,function(i){switch(i.label){case 0:if(!gp(e))throw e;return t.Fh.add(1),[4,Ym(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return nm(t.Sh)}),t.fs.bo(function(){return Object(pl.b)(r,void 0,void 0,function(){return Object(pl.d)(this,function(e){switch(e.label){case 0:return yl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,Km(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function cy(t,e){return e().catch(function(n){return uy(t,n,e)})}function ly(t){return Object(pl.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(pl.d)(this,function(o){switch(o.label){case 0:e=El(t),n=vy(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return ry(t)&&t.xh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,sm(e.Sh,r)];case 3:return null===(i=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=vy(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,uy(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return hy(e)&&fy(e),[2]}})})}function hy(t){return ry(t)&&!vy(t).Hu()&&t.xh.length>0}function fy(t){vy(t).start()}function dy(t){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(e){return vy(t).Th(),[2]})})}function py(t){return Object(pl.b)(this,void 0,void 0,function(){var e,n,r;return Object(pl.d)(this,function(i){for(e=vy(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function gy(t,e,n){return Object(pl.b)(this,void 0,void 0,function(){var r,i;return Object(pl.d)(this,function(s){switch(s.label){case 0:return r=t.xh.shift(),i=Wp.from(r,e,n),[4,cy(t,function(){return t.Ch.qh(i)})];case 1:return s.sent(),[4,ly(t)];case 2:return s.sent(),[2]}})})}function my(t,e){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(n){switch(n.label){case 0:return e&&vy(t).fh?[4,function(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r;return Object(pl.d)(this,function(i){switch(i.label){case 0:return td(r=e.code)&&r!==Al.ABORTED?(n=t.xh.shift(),vy(t).Xu(),[4,cy(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,ly(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return hy(t)&&fy(t),[2]}})})}function yy(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n;return Object(pl.d)(this,function(r){switch(r.label){case 0:return n=El(t),e?(n.Fh.delete(2),[4,Km(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,Ym(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function by(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=El(t);return r.mh(),new Bm(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:sy.bind(null,t),Iu:oy.bind(null,t),uh:ay.bind(null,t)}),t.Oh.push(function(n){return Object(pl.b)(e,void 0,void 0,function(){return Object(pl.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),ny(t)?ey(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),iy(t),e.label=3;case 3:return[2]}})})})),t.Qh}function vy(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=El(t);return r.mh(),new $m(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:dy.bind(null,t),Iu:my.bind(null,t),Eh:py.bind(null,t),wh:gy.bind(null,t)}),t.Oh.push(function(n){return Object(pl.b)(e,void 0,void 0,function(){return Object(pl.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,ly(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(yl("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var _y=function(){this.Wh=void 0,this.listeners=[]},wy=function(){this.queries=new mg(function(t){return ff(t)},hf),this.onlineState="Unknown",this.jh=new Set};function Oy(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(pl.d)(this,function(c){switch(c.label){case 0:if(n=El(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new _y),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Gh(r)];case 2:return o.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=wp(a,"Initialization of query '"+df(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zh(n.onlineState),s.Wh&&e.Hh(s.Wh)&&xy(n),[2]}})})}function Ey(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(pl.d)(this,function(a){return n=El(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function Cy(t,e){for(var n=El(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(o)&&(r=!0);a.Wh=o}}r&&xy(n)}function Sy(t,e,n){var r=El(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function xy(t){t.jh.forEach(function(t){t.next()})}var Ty=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new _d(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var s=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),s=!0):this.el(t,this.onlineState)&&(this.nl(t),s=!0),this.Zh=t,s},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=_d.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),ky=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Iy=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Ud(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Gd(this.Kt,t.document,!1):new Dh(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Md(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Iy(this.Kt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.yc(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||gd()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(pl.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(pl.d)(this,function(s){switch(s.label){case 0:return[4,fm(this.Sh,new Iy(this.Kt),this.documents,this.rl.id)];case 1:t=s.sent(),e=this.cl(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,dm(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Wg(Object.assign({},this.progress),t))]}})})}}();var Ay=function(t){this.key=t},Dy=function(t){this.key=t},jy=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=gd(),this.Ce=gd(),this.ll=gf(t),this._l=new bd(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new vd,i=e?e._l:this._l,s=e?e.Ce:this.Ce,o=i,a=!1,u=nf(this.query)&&i.size===this.query.limit?i.last():null,c=rf(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof Ah?e:null;h&&(h=pf(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),nf(this.query)||rf(this.query))for(;o.size>this.query.limit;){var l=nf(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{_l:o,wl:r,_c:a,Ce:s}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var s=t.wl.Se();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wl()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var o=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==s.length||u?{snapshot:new _d(this.query,t._l,i,s,t.Ce,0===a,u,!1),ml:o}:{ml:o}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new vd,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=gd(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new Dy(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new Ay(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=gd();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return _d.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Py=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ny=function(t){this.key=t,this.yl=!1},Ry=function(){function t(t,e,n,r,i,s){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=s,this.vl={},this.Sl=new mg(function(t){return ff(t)},hf),this.Dl=new Map,this.Cl=[],this.xl=new nd(Zl.J),this.Nl=new Map,this.Fl=new gm,this.Ol={},this.kl=new Map,this.Ml=Sg.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function My(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(pl.d)(this,function(a){switch(a.label){case 0:return n=hb(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,om(n.Sh,cf(e))];case 2:return s=a.sent(),o=n.pl.ka(s.targetId),[4,Ly(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.$l&&Jm(n.gl,s),a.label=4;case 4:return[2,r]}})})}function Ly(t,e,n,r){return Object(pl.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(pl.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(pl.b)(this,void 0,void 0,function(){var i,s,o;return Object(pl.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,um(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.Oe.get(e.targetId),o=e.view.Ei(i,t.$l,s),[2,(Yy(t,e.targetId,o.ml),o.snapshot)]}})})}(t,e,n,r)},[4,um(t.Sh,e,!0)];case 1:return i=l.sent(),s=new jy(e,i.Pc),o=s.dl(i.documents),a=Od.Be(n,r&&"Offline"!==t.onlineState),u=s.Ei(o,t.$l,a),Yy(t,n,u.ml),c=new Py(e,n,s),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function Fy(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i;return Object(pl.d)(this,function(s){switch(s.label){case 0:return n=El(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!hf(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,am(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),Zm(n.gl,r.targetId),Wy(n,r.targetId)}).catch(gg)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Wy(n,r.targetId),[4,am(n.Sh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Vy(t,e,n){return Object(pl.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(pl.d)(this,function(a){switch(a.label){case 0:r=fb(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=El(t),i=Gl.now(),s=e.reduce(function(t,e){return t.add(e.key)},gd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Uf(c,n.get(c.key));null!=l&&o.push(new Bf(c.key,l,kh(l.proto.mapValue),Rf.exists(!0)))}return r.Ho.Pi(t,i,o,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new nd(xl)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Xy(r,i.oi)];case 3:return a.sent(),[4,ly(r.gl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=wp(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Uy(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r;return Object(pl.d)(this,function(i){switch(i.label){case 0:n=El(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,rm(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(Ol(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Ol(r.yl):t.Ke.size>0&&(Ol(r.yl),r.yl=!1))}),[4,Xy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,gg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function zy(t,e,n){var r=El(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=El(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zh(e)&&(r=!0)}),r&&xy(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Hy(t,e,n){return Object(pl.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(pl.d)(this,function(c){switch(c.label){case 0:return(r=El(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(s=i&&i.key)?(o=(o=new nd(Zl.J)).Ht(s,new Dh(s,Ql.min())),a=gd().add(s),u=new wd(Ql.min(),new Map,new sd(xl),o,a),[4,Uy(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(s),r.Nl.delete(e),Zy(r),[3,4];case 2:return[4,am(r.Sh,e,!1).then(function(){return Wy(r,e,n)}).catch(gg)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function qy(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i;return Object(pl.d)(this,function(s){switch(s.label){case 0:n=El(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,em(n.Sh,e)];case 2:return i=s.sent(),Qy(n,r,null),Gy(n,r),n.pl.Fa(r,"acknowledged"),[4,Xy(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,gg(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function By(t,e,n){return Object(pl.b)(this,void 0,void 0,function(){var r,i;return Object(pl.d)(this,function(s){switch(s.label){case 0:r=El(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=El(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.yi(t,e).next(function(e){return Ol(null!==e),r=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=s.sent(),Qy(r,e,n),Gy(r,e),r.pl.Fa(e,"rejected",n),[4,Xy(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,gg(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function $y(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(pl.d)(this,function(a){switch(a.label){case 0:ry((n=El(t)).gl)||yl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=El(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return s=a.sent(),o=wp(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Gy(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function Qy(t,e,n){var r=El(t),i=r.Ol[r.currentUser.R()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function Wy(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var s=i[r];t.Sl.delete(s),n&&t.vl.ql(s,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.ki(e)||Ky(t,e)})}function Ky(t,e){var n=t.xl.get(e);null!==n&&(Zm(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Zy(t))}function Yy(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Ay?(t.Fl.sr(s.key,e),Jy(t,s)):s instanceof Dy?(yl("SyncEngine","Document no longer in limbo: "+s.key),t.Fl.rr(s.key,e),t.Fl.ki(s.key)||Ky(t,s.key)):wl()}}function Jy(t,e){var n=e.key;t.xl.get(n)||(yl("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Zy(t))}function Zy(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Ny(e)),t.xl=t.xl.Ht(e,n),Jm(t.gl,new yf(cf(ef(e.path)),n,2,$l.U))}}function Xy(t,e,n){return Object(pl.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(pl.d)(this,function(a){switch(a.label){case 0:return r=El(t),i=[],s=[],o=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){o.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Yg.cc(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(pl.d)(this,function(l){switch(l.label){case 0:n=El(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return lp.forEach(e,function(e){return lp.forEach(e.rc,function(r){return n.persistence.Ii.sr(t,e.targetId,r)}).next(function(){return lp.forEach(e.oc,function(r){return n.persistence.Ii.rr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!gp(r=l.sent()))throw r;return yl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}})})}(r.Sh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function tb(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r;return Object(pl.d)(this,function(i){switch(i.label){case 0:return(n=El(t)).currentUser.isEqual(e)?[3,3]:(yl("SyncEngine","User change. New user:",e.R()),[4,tm(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new Dl(Al.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Xy(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function eb(t,e){var n=El(t),r=n.Nl.get(e);if(r&&r.yl)return gd().add(r.key);var i=gd(),s=n.Dl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Sl.get(a[o]);i=i.ye(u.view.fl)}return i}function nb(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i;return Object(pl.d)(this,function(s){switch(s.label){case 0:return[4,um((n=El(t)).Sh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Rl(r),[2,(n.$l&&Yy(n,e.targetId,i.ml),i)]}})})}function rb(t){return Object(pl.b)(this,void 0,void 0,function(){var e;return Object(pl.d)(this,function(n){return[2,lm((e=El(t)).Sh).then(function(t){return Xy(e,t)})]})})}function ib(t,e,n,r){return Object(pl.b)(this,void 0,void 0,function(){var i,s;return Object(pl.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=El(t),r=El(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):lp.resolve(null)})})}((i=El(t)).Sh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,ly(i.gl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Qy(i,e,r||null),Gy(i,e),function(t,e){El(El(t).Ho).Ni(e)}(i.Sh,e)):wl(),o.label=4;case 4:return[4,Xy(i,s)];case 5:return o.sent(),[3,7];case 6:yl("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function sb(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(pl.d)(this,function(c){switch(c.label){case 0:return hb(n=El(t)),fb(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,ob(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,yy(n.gl,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Jm(n.gl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return Wy(n,e),am(n.Sh,e,!0)}),Zm(n.gl,e)}),[4,u]);case 4:return c.sent(),[4,ob(n,a)];case 5:return c.sent(),function(t){var e=El(t);e.Nl.forEach(function(t,n){Zm(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new nd(Zl.J)}(n),n.Ll=!1,[4,yy(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function ob(t,e,n){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(pl.d)(this,function(g){switch(g.label){case 0:n=El(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Dl.get(a=o[s]))&&0!==c.length?[4,om(n.Sh,cf(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,nb(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,cm(n.Sh,a)];case 8:return p=g.sent(),[4,om(n.Sh,p)];case 9:return u=g.sent(),[4,Ly(n,ab(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function ab(t){return tf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ub(t){var e=El(t);return El(El(e.Sh).persistence).Qo()}function cb(t,e,n,r){return Object(pl.b)(this,void 0,void 0,function(){var i,s,o;return Object(pl.d)(this,function(a){switch(a.label){case 0:return(i=El(t)).Ll?(yl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,lm(i.Sh)];case 3:return s=a.sent(),o=wd.$e(e,"current"===n),[4,Xy(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,am(i.Sh,e,!0)];case 6:return a.sent(),Wy(i,e,r),[3,8];case 7:wl(),a.label=8;case 8:return[2]}})})}function lb(t,e,n){return Object(pl.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(pl.d)(this,function(f){switch(f.label){case 0:if(!(r=hb(t)).Ll)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Dl.has(o=s[i])?(yl("SyncEngine","Adding an already active target "+o),[3,5]):[4,cm(r.Sh,o)]:[3,6];case 2:return a=f.sent(),[4,om(r.Sh,a)];case 3:return u=f.sent(),[4,Ly(r,ab(a),u.targetId,!1)];case 4:f.sent(),Jm(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(pl.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,am(r.Sh,t,!1).then(function(){Zm(r.gl,t),Wy(r,t)}).catch(gg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function hb(t){var e=El(t);return e.gl.Ch.Bh=Uy.bind(null,e),e.gl.Ch.Sn=eb.bind(null,e),e.gl.Ch.$h=Hy.bind(null,e),e.vl.uh=Cy.bind(null,e.Vl),e.vl.ql=Sy.bind(null,e.Vl),e}function fb(t){var e=El(t);return e.gl.Ch.qh=qy.bind(null,e),e.gl.Ch.Uh=By.bind(null,e),e}var db=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(e){switch(e.label){case 0:return this.Kt=zm(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Xg(this.persistence,new Jg,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new wm(Em.ra,this.Kt)},t.prototype.jl=function(t){return new Pm},t.prototype.terminate=function(){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),pb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(pl.c)(e,t),e.prototype.initialize=function(e){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,hm(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,fb(this.Xl.fa)];case 4:return n.sent(),[4,ly(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Xg(this.persistence,new Jg,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new jg(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=Qg(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?pg.Xs(this.cacheSizeBytes):pg.ei;return new Bg(this.synchronizeTabs,e,t.clientId,n,t.fs,Vm(),Um(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Pm},e}(db),gb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(pl.c)(e,t),e.prototype.initialize=function(e){return Object(pl.b)(this,void 0,void 0,function(){var n,r=this;return Object(pl.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof jm?(this.pl.fa={nu:ib.bind(null,n),su:cb.bind(null,n),iu:lb.bind(null,n),Qo:ub.bind(null,n),eu:rb.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(pl.b)(r,void 0,void 0,function(){return Object(pl.d)(this,function(e){switch(e.label){case 0:return[4,sb(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Vm();if(!jm.Wn(e))throw new Dl(Al.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qg(t.gu.T,t.gu.persistenceKey);return new jm(e,t.fs,n,t.clientId,t.Yl)},e}(pb),mb=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n=this;return Object(pl.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return zy(n.fa,t,1)},this.gl.Ch.s_=tb.bind(null,this.fa),[4,yy(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new wy},t.prototype.Zl=function(t){var e=zm(t.gu.T),n=new Fm(t.gu);return function(t,e,n){return new Gm(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return zy(o.fa,t,0)},s=Rm.Wn()?new Rm:new Nm,new Wm(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Ry(t,e,n,r,i,s);return o&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(pl.b)(this,void 0,void 0,function(){var e;return Object(pl.d)(this,function(n){switch(n.label){case 0:return e=El(t),yl("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,Ym(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),yb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),bb=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new cp,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(pl.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(pl.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new ky(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(pl.b)(this,void 0,void 0,function(){var t,e;return Object(pl.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(pl.b)(this,void 0,void 0,function(){var e;return Object(pl.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(pl.b)(this,void 0,void 0,function(){var t,e;return Object(pl.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Dl(Al.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Jl(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),vb=function(t){this._methodName=t};function _b(t,e,n){if(!n)throw new Dl(Al.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function wb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Dl(Al.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ob(t,e,n,r){if(!0===e&&!0===r)throw new Dl(Al.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Eb(t){if(!Zl.Et(t))throw new Dl(Al.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Cb(t){if(Zl.Et(t))throw new Dl(Al.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Sb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":wl()}function xb(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Dl(Al.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sb(t);throw new Dl(Al.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Tb(t,e){if(e<=0)throw new Dl(Al.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var kb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Dl(Al.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Dl(Al.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ob("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ib=new Map,Ab=function(){function t(t,e){this.w_="(lite)",this.E_=new kb({}),this.T_=!1,t instanceof Fl?(this.I_=t,this.m_=new zl):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Dl(Al.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(t.options.projectId)}(t),this.m_=new Hl(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Dl(Al.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Dl(Al.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new kb(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new zl;switch(t.type){case"gapi":var e=t.client;return Ol(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Bl(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Dl(Al.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,T:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Ib.get(this))&&(yl("ComponentProvider","Removing Datastore"),Ib.delete(this),t.terminate()),Promise.resolve();var t},t}(),Db=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Pb(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),jb=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Pb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ef(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Db(this.firestore,null,new Zl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(jb);function Nb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Pl&&(t=t._),_b("collection","path",e),t instanceof Ab)return Cb(n=Kl.ct.apply(Kl,Object(pl.g)([e],r))),new Pb(t,null,n);if(!(t instanceof Db||t instanceof Pb))throw new Dl(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Cb(n=Kl.ct.apply(Kl,Object(pl.g)([t.path],r)).child(Kl.ct(e))),new Pb(t.firestore,null,n)}function Rb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Pl&&(t=t._),1===arguments.length&&(e=Sl.t()),_b("doc","path",e),t instanceof Ab)return Eb(n=Kl.ct.apply(Kl,Object(pl.g)([e],r))),new Db(t,null,new Zl(n));if(!(t instanceof Db||t instanceof Pb))throw new Dl(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Eb(n=t.D_.child(Kl.ct.apply(Kl,Object(pl.g)([e],r)))),new Db(t.firestore,t instanceof Pb?t.v_:null,new Zl(n))}function Mb(t,e){return t instanceof Pl&&(t=t._),e instanceof Pl&&(e=e._),(t instanceof Db||t instanceof Pb)&&(e instanceof Db||e instanceof Pb)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Lb(t,e){return t instanceof Pl&&(t=t._),e instanceof Pl&&(e=e._),t instanceof jb&&e instanceof jb&&t.firestore===e.firestore&&hf(t.C_,e.C_)&&t.v_===e.v_}var Fb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Dl(Al.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Dl(Al.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return xl(this.x_,t.x_)||xl(this.N_,t.N_)},t}(),Vb=/^__.*__$/,Ub=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Bf(t,this.data,this.zt,e,this.fieldTransforms):new qf(t,this.data,e,this.fieldTransforms)},t}(),zb=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Bf(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Hb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wl()}}var qb=function(){function t(t,e,n,r,i,s){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return cv(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Hb(this.k_)&&Vb.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Bb=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||zm(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new qb({k_:t,methodName:e,j_:n,path:Jl.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function $b(t){var e=t.p_(),n=zm(t.I_);return new Bb(t.I_,!!e.ignoreUndefinedProperties,n)}function Gb(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);sv("Data must be an object, but it was:",o,r);var a,u,c=rv(r,o);if(s.merge)a=new nh(o.zt),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=ov(e,f[h],n);if(!o.contains(d))throw new Dl(Al.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");lv(l,d)||l.push(d)}a=new nh(l),u=o.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=o.fieldTransforms;return new Ub(new xh(c),a,u)}var Qb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(vb);function Wb(t,e,n){return new qb({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.z_=function(t){return new Pf(t.path,new Sf)},e.prototype.isEqual=function(t){return t instanceof e},e}(vb),Yb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(pl.c)(e,t),e.prototype.z_=function(t){var e=Wb(this,t,!0),n=this.H_.map(function(t){return nv(t,e)}),r=new xf(n);return new Pf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(vb),Jb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(pl.c)(e,t),e.prototype.z_=function(t){var e=Wb(this,t,!0),n=this.H_.map(function(t){return nv(t,e)}),r=new kf(n);return new Pf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(vb),Zb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(pl.c)(e,t),e.prototype.z_=function(t){var e=new Af(t.Kt,_f(t.Kt,this.J_));return new Pf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(vb);function Xb(t,e,n,r){var i=t.G_(1,e,n);sv("Data must be an object, but it was:",i,r);var s=[],o=new Th;th(r,function(t,r){var a=uv(e,t,n);r instanceof Pl&&(r=r._);var u=i.U_(a);if(r instanceof Qb)s.push(a);else{var c=nv(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new nh(s);return new zb(o.yt(),a,i.fieldTransforms)}function tv(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[ov(e,r,n)],u=[i];if(s.length%2!=0)throw new Dl(Al.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(ov(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Th,f=a.length-1;f>=0;--f)if(!lv(l,a[f])){var d=a[f],p=u[f];p instanceof Pl&&(p=p._);var g=o.U_(d);if(p instanceof Qb)l.push(d);else{var m=nv(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new nh(l);return new zb(h.yt(),y,o.fieldTransforms)}function ev(t,e,n,r){return void 0===r&&(r=!1),nv(n,t.G_(r?4:3,e))}function nv(t,e){if(t instanceof Pl&&(t=t._),iv(t))return sv("Unsupported field value:",e,t),rv(t,e);if(t instanceof vb)return function(t,e){if(!Hb(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=nv(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Pl&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _f(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Gl.fromDate(t);return{timestampValue:Pd(e.Kt,n)}}if(t instanceof Gl)return n=new Gl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Pd(e.Kt,n)};if(t instanceof Fb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jl)return{bytesValue:Nd(e.Kt,t.l)};if(t instanceof Db){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ld(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Sb(t))}(t,e)}function rv(t,e){var n={};return eh(t)?e.path&&e.path.length>0&&e.zt.push(e.path):th(t,function(t,r){var i=nv(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function iv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Gl||t instanceof Fb||t instanceof jl||t instanceof Db||t instanceof vb)}function sv(t,e,n){if(!iv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Sb(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function ov(t,e,n){if(e instanceof Pl&&(e=e._),e instanceof bb)return e.d_;if("string"==typeof e)return uv(t,e);throw cv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var av=new RegExp("[~\\*/\\[\\]]");function uv(t,e,n){if(e.search(av)>=0)throw cv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(bb.bind.apply(bb,Object(pl.g)([void 0],e.split("."))))).d_}catch(r){throw cv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function cv(t,e,n,r,i){var s=r&&!r.nt(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Dl(Al.INVALID_ARGUMENT,(a+=". ")+t+u)}function lv(t,e){return t.some(function(t){return t.isEqual(e)})}var hv=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(pl.b)(this,void 0,void 0,function(){var e,n=this;return Object(pl.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Dl(Al.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(pl.d)(this,function(u){switch(u.label){case 0:return n=El(t),r=qd(n.Kt)+"/documents",i={documents:e.map(function(t){return Vd(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Ol(!!e.found);var n=Ud(t,e.found.name),r=Md(e.found.updateTime),i=new xh({mapValue:{fields:e.found.fields}});return new Ah(n,r,i,{})}(t,e):"missing"in e?function(t,e){Ol(!!e.missing),Ol(!!e.readTime);var n=Ud(t,e.missing),r=Md(e.readTime);return new Dh(n,r)}(t,e):wl()}(n.Kt,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Ol(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Dh||t instanceof Ah?n.sf(t):wl()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Jf(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(pl.b)(this,void 0,void 0,function(){var t,e=this;return Object(pl.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Zl.ft(n);e.mutations.push(new Zf(r,e.Gt(r)))}),[4,function(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i;return Object(pl.d)(this,function(s){switch(s.label){case 0:return n=El(t),r=qd(n.Kt)+"/documents",i={writes:e.map(function(t){return Qd(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Ah)e=t.version;else{if(!(t instanceof Dh))throw wl();e=Ql.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Dl(Al.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Rf.updateTime(e):Rf.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Ql.min()))throw new Dl(Al.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rf.updateTime(e)}return Rf.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),fv=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Hm(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(pl.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(pl.d)(this,function(r){return t=new hv(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!lh(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!td(e)}return!1},t}(),dv=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Vl.UNAUTHENTICATED,this.clientId=Sl.t(),this._f=function(){},this.N=new cp,this.credentials.S(function(t){yl("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new Dl(Al.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new cp;return this.fs.Tf(function(){return Object(pl.b)(t,void 0,void 0,function(){var t,n;return Object(pl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=wp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function pv(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(pl.d)(this,function(s){switch(s.label){case 0:return t.fs.Af(),yl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.bo(function(){return Object(pl.b)(i,void 0,void 0,function(){return Object(pl.d)(this,function(t){switch(t.label){case 0:return[4,tm(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function gv(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r;return Object(pl.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,mv(t)];case 1:return n=i.sent(),yl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(pl.b)(this,void 0,void 0,function(){var n,r;return Object(pl.d)(this,function(i){switch(i.label){case 0:return(n=El(t)).fs.Af(),yl("RemoteStore","RemoteStore received new credentials"),r=ry(n),n.Fh.add(3),[4,Ym(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,Km(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function mv(t){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(yl("FirestoreClient","Using default OfflineComponentProvider"),[4,pv(t,new db)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function yv(t){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(yl("FirestoreClient","Using default OnlineComponentProvider"),[4,gv(t,new mb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function bv(t){return mv(t).then(function(t){return t.persistence})}function vv(t){return mv(t).then(function(t){return t.Sh})}function _v(t){return yv(t).then(function(t){return t.gl})}function wv(t){return yv(t).then(function(t){return t.fa})}function Ov(t){return Object(pl.b)(this,void 0,void 0,function(){var e,n;return Object(pl.d)(this,function(r){switch(r.label){case 0:return[4,yv(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=My.bind(null,e.fa),n.Jh=Fy.bind(null,e.fa),n)]}})})}function Ev(t,e,n){var r=this;void 0===n&&(n={});var i=new cp;return t.fs.ys(function(){return Object(pl.b)(r,void 0,void 0,function(){var r;return Object(pl.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new yb({next:function(s){e.ys(function(){return Ey(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Dl(Al.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Dl(Al.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Ty(ef(n.path),s,{includeMetadataChanges:!0,sl:!0});return Oy(t,o)},[4,Ov(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}function Cv(t,e,n){var r=this;void 0===n&&(n={});var i=new cp;return t.fs.ys(function(){return Object(pl.b)(r,void 0,void 0,function(){var r;return Object(pl.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new yb({next:function(n){e.ys(function(){return Ey(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Dl(Al.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Ty(n,s,{includeMetadataChanges:!0,sl:!0});return Oy(t,o)},[4,Ov(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}var Sv=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Hm(this,"async_queue_retry"),this.vf=function(){var e=Um();e&&yl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Um();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Um();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(pl.b)(this,void 0,void 0,function(){var t,e=this;return Object(pl.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!gp(t=n.sent()))throw t;return yl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,bl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=_p.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&wl()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(pl.b)(this,void 0,void 0,function(){var t;return Object(pl.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Sv,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(pl.c)(e,t),e.prototype.b_=function(){return this.Lf||kv(this),this.Lf.terminate()},e}(Ab);function Tv(t){return t.Lf||kv(t),t.Lf.df(),t.Lf}function kv(t){var e=t.p_(),n=function(t,e,n){return new Ll(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new dv(t.m_,t.Mf,n)}function Iv(t,e,n){var r=this,i=new cp;return t.fs.enqueue(function(){return Object(pl.b)(r,void 0,void 0,function(){var r;return Object(pl.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,pv(t,n)];case 1:return s.sent(),[4,gv(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Al.FAILED_PRECONDITION||t.code===Al.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Av(t){if(t.R_||t.P_)throw new Dl(Al.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Dv=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),dh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sh(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(oh(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw wl()}},t.prototype.jf=function(t,e){var n=this,r={};return th(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Fb(sh(t.latitude),sh(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=uh(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(ch(t));default:return null}},t.prototype.Bf=function(t){var e=ih(t);return new Gl(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Kl.ct(t);Ol(up(n));var r=new Fl(n.get(1),n.get(3)),i=new Zl(n.X(5));return r.isEqual(e)||bl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),jv=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Db(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Pv(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Nv("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Pv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(jv);function Nv(t,e){return"string"==typeof e?uv(t,e):e instanceof Pl?e._.d_:e.d_}function Rv(t){if(rf(t)&&0===t.Nt.length)throw new Dl(Al.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mv=function(){};function Lv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.Yf(t)}return t}var Fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(pl.c)(e,t),e.prototype.Yf=function(t){var e=$b(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ht()){if("array-contains"===s||"array-contains-any"===s)throw new Dl(Al.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){$v(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Bv(r,t,l[c]));a={arrayValue:{values:u}}}else a=Bv(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||$v(o,s),a=ev(n,"where",o,"in"===s||"not-in"===s);var h=Fh.create(i,s,a);return function(t,e){if(e.xt()){var n=of(t);if(null!==n&&!n.isEqual(e.field))throw new Dl(Al.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=sf(t);null!==r&&Gv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Dl(Al.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new jb(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Xh(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Mv),Vv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(pl.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Dl(Al.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Dl(Al.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Kh(e,n);return function(t,e){if(null===sf(t)){var n=of(t);null!==n&&Gv(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new jb(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Xh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Mv),Uv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(pl.c)(e,t),e.prototype.Yf=function(t){return new jb(t.firestore,t.v_,lf(t.C_,this.nd,this.sd))},e}(Mv),zv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(pl.c)(e,t),e.prototype.Yf=function(t){var e=qv(t,this.type,this.rd,this.od);return new jb(t.firestore,t.v_,function(t,e){return new Xh(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Mv),Hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(pl.c)(e,t),e.prototype.Yf=function(t){var e=qv(t,this.type,this.rd,this.od);return new jb(t.firestore,t.v_,function(t,e){return new Xh(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Mv);function qv(t,e,n,r){if(n[0]instanceof Pl&&(n[0]=n[0]._),n[0]instanceof jv)return function(t,e,n,r,i){if(!r)throw new Dl(Al.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=uf(t);o<a.length;o++){var u=a[o];if(u.field.ht())s.push(_h(e,r.key));else{var c=r.field(u.field);if(ah(c))throw new Dl(Al.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new Dl(Al.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Qh(s,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=$b(t.firestore);return function(t,e,n,r,i,s){var o=t.Nt;if(i.length>o.length)throw new Dl(Al.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.ht()){if("string"!=typeof c)throw new Dl(Al.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!af(t)&&-1!==c.indexOf("/"))throw new Dl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Kl.ct(c));if(!Zl.Et(l))throw new Dl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Zl(l);a.push(_h(e,h))}else{var f=ev(n,r,c);a.push(f)}}return new Qh(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function Bv(t,e,n){if(n instanceof Pl&&(n=n._),"string"==typeof n){if(""===n)throw new Dl(Al.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!af(e)&&-1!==n.indexOf("/"))throw new Dl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Kl.ct(n));if(!Zl.Et(r))throw new Dl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return _h(t,new Zl(r))}if(n instanceof Db)return _h(t,n.S_);throw new Dl(Al.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Sb(n)+".")}function $v(t,e){if(!Array.isArray(t)||0===t.length)throw new Dl(Al.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Dl(Al.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Gv(t,e,n){if(!n.isEqual(e))throw new Dl(Al.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Qv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}function Wv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Kv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(pl.c)(e,t),e.prototype.Uf=function(t){return new jl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Db(this.firestore,null,e)},e}(Dv),Yv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Jv=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object(pl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Zv(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Nv("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(jv),Zv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Jv),Xv=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Yv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new Zv(n.zf,n.Hf,r.key,r,new Yv(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Dl(Al.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new Zv(t.zf,t.Hf,e.doc.key,e.doc,new Yv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Zv(t.zf,t.Hf,e.doc.key,e.doc,new Yv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:t_(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.ld=e),this.hd},t}();function t_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wl()}}function e_(t,e){return t instanceof Jv&&e instanceof Jv?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Xv&&e instanceof Xv&&t.zf===e.zf&&Lb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var n_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(pl.c)(e,t),e.prototype.Uf=function(t){return new jl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Db(this.firestore,null,e)},e}(Dv);function r_(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=xb(t,Db);var s=xb(t.firestore,xv),o=$b(s);return e instanceof Pl&&(e=e._),s_(s,[("string"==typeof e||e instanceof bb?tv(o,"updateDoc",t.S_,e,n,r):Xb(o,"updateDoc",t.S_,e)).F_(t.S_,Rf.exists(!0))])}function i_(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof Pl&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Qv(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Qv(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Db)c=xb(t.firestore,xv),l=ef(t.S_.path),u={next:function(e){i[a]&&i[a](o_(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=xb(t,jb);c=xb(d.firestore,xv),l=d.C_;var p=new n_(c);u={next:function(t){i[a]&&i[a](new Xv(c,p,d,t))},error:i[a+1],complete:i[a+2]},Rv(t.C_)}return function(t,e,n,r){var i=this,s=new yb(r),o=new Ty(e,s,n);return t.fs.ys(function(){return Object(pl.b)(i,void 0,void 0,function(){var e;return Object(pl.d)(this,function(n){switch(n.label){case 0:return e=Oy,[4,Ov(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.r_(),t.fs.ys(function(){return Object(pl.b)(i,void 0,void 0,function(){var e;return Object(pl.d)(this,function(n){switch(n.label){case 0:return e=Ey,[4,Ov(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Tv(c),l,h,u)}function s_(t,e){return function(t,e){var n=this,r=new cp;return t.fs.ys(function(){return Object(pl.b)(n,void 0,void 0,function(){var n;return Object(pl.d)(this,function(i){switch(i.label){case 0:return n=Vy,[4,wv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Tv(t),e)}function o_(t,e,n){var r=n.docs.get(e.S_),i=new n_(t);return new Jv(t,i,e.S_,r,new Yv(n.hasPendingWrites,n.fromCache),e.v_)}var a_=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=$b(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=u_(t,this.zf),i=Wv(r.v_,e,n),s=Gb(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(s.F_(r.S_,Rf.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var s,o=u_(t,this.zf);return e instanceof Pl&&(e=e._),s="string"==typeof e||e instanceof bb?tv(this.wd,"WriteBatch.update",o.S_,e,n,r):Xb(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.F_(o.S_,Rf.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=u_(t,this.zf);return this.fd=this.fd.concat(new Jf(e.S_,Rf.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Dl(Al.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function u_(t,e){if(t instanceof Pl&&(t=t._),t.firestore!==e)throw new Dl(Al.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var c_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(pl.c)(e,t),e.prototype.get=function(e){var n=this,r=u_(e,this.zf),i=new n_(this.zf);return t.prototype.get.call(this,e).then(function(t){return new Jv(n.zf,i,r.S_,t.Jf,new Yv(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=$b(t)}return t.prototype.get=function(t){var e=this,n=u_(t,this.zf),r=new Kv(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return wl();var i=t[0];if(i instanceof Dh)return new jv(e.zf,r,n.S_,null,n.v_);if(i instanceof Ah)return new jv(e.zf,r,i.key,i,n.v_);throw wl()})},t.prototype.set=function(t,e,n){var r=u_(t,this.zf),i=Wv(r.v_,e,n),s=Gb(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=u_(t,this.zf);return e instanceof Pl&&(e=e._),s="string"==typeof e||e instanceof bb?tv(this.wd,"Transaction.update",o.S_,e,n,r):Xb(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=u_(t,this.zf);return this.Td.delete(e.S_),this},t}()),l_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Av(t=xb(t,xv));var n=Tv(t),r=t.p_(),i=new mb;return Iv(n,i,new pb(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Av(t=xb(t,xv));var e=Tv(t),n=t.p_(),r=new mb;return Iv(e,r,new gb(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Dl(Al.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new cp;return t.Mf.Tf(function(){return Object(pl.b)(e,void 0,void 0,function(){var e;return Object(pl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(pl.b)(this,void 0,void 0,function(){return Object(pl.d)(this,function(e){switch(e.label){case 0:return fp.Wn()?[4,fp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Qg(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),h_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Fl||(i.md=e),i}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=xb(t,Ab)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&vl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(pl.b)(e,void 0,void 0,function(){var e,n;return Object(pl.d)(this,function(r){switch(r.label){case 0:return[4,bv(t)];case 1:return e=r.sent(),[4,_v(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=El(t);return e.Fh.delete(0),Km(e)}(n))]}})})})}(Tv(xb(this._,xv)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(pl.b)(e,void 0,void 0,function(){var e,n;return Object(pl.d)(this,function(r){switch(r.label){case 0:return[4,bv(t)];case 1:return e=r.sent(),[4,_v(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(pl.b)(this,void 0,void 0,function(){var e;return Object(pl.d)(this,function(n){switch(n.label){case 0:return(e=El(t)).Fh.add(0),[4,Ym(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(Tv(xb(this._,xv)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ob("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.md&&(this.md._removeServiceInstance("firestore"),this.md._removeServiceInstance("firestore-exp")),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new cp;return t.fs.ys(function(){return Object(pl.b)(e,void 0,void 0,function(){var e;return Object(pl.d)(this,function(r){switch(r.label){case 0:return e=$y,[4,wv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Tv(xb(this._,xv)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new yb(e);return t.fs.ys(function(){return Object(pl.b)(n,void 0,void 0,function(){var e;return Object(pl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){El(t).jh.add(e),e.next()},[4,Ov(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(pl.b)(n,void 0,void 0,function(){var e;return Object(pl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){El(t).jh.delete(e)},[4,Ov(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Tv(t=xb(t,xv)),Qv(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Dl(Al.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new S_(this,Nb(this._,t))}catch(t){throw y_(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new m_(this,Rb(this._,t))}catch(t){throw y_(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new O_(this,function(t,e){if(t=xb(t,Ab),_b("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Dl(Al.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new jb(t,null,function(t){return new Xh(Kl.at(),t)}(e))}(this._,t))}catch(t){throw y_(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new cp;return t.fs.ys(function(){return Object(pl.b)(n,void 0,void 0,function(){var n;return Object(pl.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return yv(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new fv(t.fs,n,e,r).run(),[2]}})})}),r.promise}(Tv(t),function(n){return e(new c_(t,n))})}(this._,function(n){return t(new d_(e,n))})},e.prototype.batch=function(){var t=this;return Tv(this._),new p_(new a_(this._,function(e){return s_(t._,e)}))},e.prototype.loadBundle=function(t){throw new Dl(Al.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Dl(Al.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Pl),f_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(pl.c)(e,t),e.prototype.Uf=function(t){return new Ml(new jl(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return m_.Ad(e,this.firestore,null)},e}(Dv),d_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new f_(e),r}return Object(pl.c)(e,t),e.prototype.get=function(t){var e=this,n=x_(t);return this._.get(n).then(function(t){return new __(e.zf,new Jv(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=x_(t);return n?(wb("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=x_(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(pl.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=x_(t);return this._.delete(e),this},e}(Pl),p_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.set=function(t,e,n){var r=x_(t);return n?(wb("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=x_(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(pl.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=x_(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Pl),g_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).zf=e,i.Hf=n,i}return Object(pl.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Zv(this.zf._,this.Hf,t.S_,t.Jf,t.metadata,null);return this._.fromFirestore(new w_(this.zf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._.toFirestore(t,e):this._.toFirestore(t)},e.Rd=function(t,n){var r=e.Pd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new f_(t),n),i.set(n,s)),s},e}(Pl);g_.Pd=new WeakMap;var m_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new f_(e),r}return Object(pl.c)(e,t),e.yd=function(t,n,r){if(t.length%2!=0)throw new Dl(Al.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Db(n._,r,new Zl(t)))},e.Ad=function(t,n,r){return new e(n,new Db(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new S_(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new S_(this.firestore,Nb(this._,t))}catch(t){throw y_(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Pl&&(t=t._),t instanceof Db&&Mb(this._,t)},e.prototype.set=function(t,e){e=wb("DocumentReference.set",e);try{return function(t,e,n){t=xb(t,Db);var r=xb(t.firestore,xv),i=Wv(t.v_,e,n);return s_(r,[Gb($b(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Rf.Wt())])}(this._,t,e)}catch(t){throw y_(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?r_(this._,t):r_.apply(void 0,Object(pl.g)([this._,t,e],n))}catch(t){throw y_(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return s_(xb((t=this._).firestore,xv),[new Jf(t.S_,Rf.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=b_(e),i=v_(e,function(e){return new __(t.firestore,new Jv(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return i_(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=xb(t,Db);var e=xb(t.firestore,xv),n=Tv(e),r=new n_(e);return function(t,e){var n=this,r=new cp;return t.fs.ys(function(){return Object(pl.b)(n,void 0,void 0,function(){var n;return Object(pl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(pl.b)(this,void 0,void 0,function(){var r,i;return Object(pl.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=El(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof Ah?n.resolve(i):i instanceof Dh?n.resolve(null):n.reject(new Dl(Al.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=wp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,vv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Jv(e,r,t.S_,n,new Yv(n instanceof Ah&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=xb(t,Db);var e=xb(t.firestore,xv);return Ev(Tv(e),t.S_,{source:"server"}).then(function(n){return o_(e,t,n)})}(this._):function(t){t=xb(t,Db);var e=xb(t.firestore,xv);return Ev(Tv(e),t.S_).then(function(n){return o_(e,t,n)})}(this._)).then(function(t){return new __(e.firestore,new Jv(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(g_.Rd(this.firestore,t)))},e}(Pl);function y_(t,e,n){return t.message=t.message.replace(e,n),t}function b_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Qv(r))return r}return{}}function v_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Qv(t[0])?t[0]:Qv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var __=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new m_(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return e_(this._,t._)},e}(Pl),w_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(__),O_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new f_(e),r}return Object(pl.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Lv(this._,function(t,e,n){var r=e,i=Nv("where",t);return new Fv(i,r,n)}(t,n,r)))}catch(t){throw y_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Lv(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Nv("orderBy",t);return new Vv(r,n)}(t,n)))}catch(t){throw y_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Lv(this._,function(t){return Tb("limit",t),new Uv("limit",t,"F")}(t)))}catch(t){throw y_(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Lv(this._,function(t){return Tb("limitToLast",t),new Uv("limitToLast",t,"L")}(t)))}catch(t){throw y_(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zv("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw y_(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zv("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw y_(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hv("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw y_(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hv("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw y_(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Lb(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=xb(t,jb);var e=xb(t.firestore,xv),n=Tv(e),r=new n_(e);return function(t,e){var n=this,r=new cp;return t.fs.ys(function(){return Object(pl.b)(n,void 0,void 0,function(){var n;return Object(pl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(pl.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(pl.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,um(t,e,!0)];case 1:return a=u.sent(),r=new jy(e,a.Pc),i=r.dl(a.documents),s=r.Ei(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=wp(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,vv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Xv(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=xb(t,jb);var e=xb(t.firestore,xv),n=Tv(e),r=new n_(e);return Cv(n,t.C_,{source:"server"}).then(function(n){return new Xv(e,r,t,n)})}(this._):function(t){t=xb(t,jb);var e=xb(t.firestore,xv),n=Tv(e),r=new n_(e);return Rv(t.C_),Cv(n,t.C_).then(function(n){return new Xv(e,r,t,n)})}(this._)).then(function(t){return new C_(e.firestore,new Xv(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=b_(e),i=v_(e,function(e){return new C_(t.firestore,new Xv(t.firestore._,t.Hf,t._,e.ud))});return i_(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(g_.Rd(this.firestore,t)))},e}(Pl),E_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new w_(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Pl),C_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new O_(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new w_(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new E_(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new w_(n.zf,r))})},e.prototype.isEqual=function(t){return e_(this._,t._)},e}(Pl),S_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new m_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new m_(this.firestore,void 0===t?Rb(this._):Rb(this._,t))}catch(t){throw y_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=xb(t.firestore,xv),r=Rb(t),i=Wv(t.v_,e);return s_(n,[Gb($b(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Rf.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new m_(e.firestore,t)})},e.prototype.isEqual=function(t){return Mb(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(g_.Rd(this.firestore,t)))},e}(O_);function x_(t){return t instanceof Pl&&(t=t._),xb(t,Db)}var T_=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(bb.bind.apply(bb,Object(pl.g)([void 0],e))))||this}return Object(pl.c)(e,t),e.documentId=function(){return new e(Jl.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Pl&&(t=t._),t instanceof bb&&this._.d_.isEqual(t.d_)},e}(Pl),k_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.serverTimestamp=function(){var t=new Kb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Qb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yb("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jb("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Zb("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Pl);!function(){function t(){this.gd={},this.Vd=new cp,this.pd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.gd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Vd.promise.catch(t)},t.prototype.then=function(t,e){return this.Vd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.gd.complete&&this.gd.complete(),this.Vd.resolve(t)},t.prototype.Wl=function(t){this.pd.taskState="Error",this.gd.next&&this.gd.next(this.pd),this.gd.error&&this.gd.error(t),this.Vd.reject(t)},t.prototype.Ql=function(t){this.pd=t,this.gd.next&&this.gd.next(t)}}();var I_,A_=n("/6Yf"),D_={Firestore:h_,GeoPoint:Fb,Timestamp:Gl,Blob:Ml,Transaction:d_,WriteBatch:p_,DocumentReference:m_,DocumentSnapshot:__,Query:O_,QueryDocumentSnapshot:w_,QuerySnapshot:C_,CollectionReference:S_,FieldPath:T_,FieldValue:k_,setLogLevel:function(t){gl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function j_(t,e){return function(t,e=ro.b){return new oe.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function P_(t,e){return j_(t,e).pipe(Object(de.a)(t=>({payload:t,type:"query"})))}function N_(t,e){return P_(t,e).pipe(_n(void 0),io(),Object(de.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function R_(t,e,n){return N_(t,n).pipe(wn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return M_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return M_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return M_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new ao(void 0,void 0)),Object(de.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function M_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function L_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new A_.a("firestore",function(t){return function(t,e){return new h_(t,new xv(t,e),new l_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},D_)))})(I_=co.a),I_.registerVersion("@firebase/firestore","2.1.4");class F_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=N_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(de.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(_n(void 0),io(),le(([t,e])=>e.length>0||!t),Object(de.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(wn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=L_(t);return R_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return P_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(de.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ge.a)(this.query.get(t)).pipe(Object(Fs.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new V_(this.ref.doc(t),this.afs)}}class V_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=$_(n,e);return new F_(r,i,this.afs)}snapshotChanges(){return j_(this.ref,this.afs.schedulers.outsideAngular).pipe(_n(void 0),io(),Object(de.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(de.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Ge.a)(this.ref.get(t)).pipe(Object(Fs.b)(this.afs.schedulers.insideAngular))}}class U_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?N_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(de.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),le(t=>t.length>0),this.afs.keepUnstableUntilFirst):N_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(wn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=L_(t);return R_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return P_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(de.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ge.a)(this.query.get(t)).pipe(Object(Fs.b)(this.afs.schedulers.insideAngular))}}const z_=new r.r("angularfire2.enableFirestorePersistence"),H_=new r.r("angularfire2.firestore.persistenceSettings"),q_=new r.r("angularfire2.firestore.settings"),B_=new r.r("angularfire2.firestore.use-emulator");function $_(t,e=(t=>t)){return{query:e(t),ref:t}}let G_=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Gs.d(s),this.keepUnstableUntilFirst=Object(Gs.h)(this.schedulers);const c=Object(Gs.g)(t,s,e);!no.a.auth&&u&&Object(Gs.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Gs.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!Ct(i)){const e=()=>{try{return Object(Ge.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(I_){return"undefined"!=typeof console&&console.warn(I_),Object(se.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(se.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=$_(n,e),s=this.schedulers.ngZone.run(()=>r);return new F_(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new U_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new V_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Gs.c),r.Yb(Gs.b,8),r.Yb(z_,8),r.Yb(q_,8),r.Yb(r.C),r.Yb(r.A),r.Yb(H_,8),r.Yb(B_,8),r.Yb(Qs,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(Gs.c),Object(r.Yb)(Gs.b,8),Object(r.Yb)(z_,8),Object(r.Yb)(q_,8),Object(r.Yb)(r.C),Object(r.Yb)(r.A),Object(r.Yb)(H_,8),Object(r.Yb)(B_,8),Object(r.Yb)(Qs,8))},token:t,providedIn:"any"}),t})(),Q_=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:z_,useValue:!0},{provide:H_,useValue:e}]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[G_]}),t})(),W_=(()=>{class t{constructor(t,e,n){this.http=t,this.firestore=e,this.auth=n,this.baseUrl="https://api.nasa.gov/planetary/apod?",this.apiKey="OYSZpOCQZkGNoZ1fPegPXAk0mvlLYgmgQXr4sfZb"}getImageDay(t){return this.http.get(`${this.baseUrl}api_key=${this.apiKey}&date=${t}`)}getRandom(){return this.http.get(`${this.baseUrl}api_key=${this.apiKey}&count=20`)}saveImage(t){return eo(this,void 0,void 0,function*(){let e=no.a.auth().currentUser;return yield this.firestore.collection("favourites").doc(e.uid).set({id:e.uid,name:e.displayName,mail:e.email},{merge:!0}).then(()=>(this.firestore.collection("favourites").doc(e.uid).collection("fav").doc(t.date.toString()).set(t),!0))})}deleteImage(t,e){return eo(this,void 0,void 0,function*(){let t=no.a.auth().currentUser;return yield this.firestore.collection("favourites").doc(t.uid).collection("fav").doc(e).delete()})}login(t){switch(t){case"google":this.auth.signInWithPopup(new no.a.auth.GoogleAuthProvider);break;case"facebook":let t=new no.a.auth.FacebookAuthProvider;this.auth.signInWithPopup(t).catch(t=>{console.log(t.message)});break;case"github":this.auth.signInWithPopup(new no.a.auth.GithubAuthProvider).catch(t=>{console.log(t.message)});break;case"twitter":this.auth.signInWithPopup(new no.a.auth.TwitterAuthProvider)}}logout(){this.auth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ae),r.Yb(G_),r.Yb(Xs))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var K_=n("n6bG");function Y_(t,e,n,r){return Object(K_.a)(n)&&(r=n,n=void 0),r?Y_(t,e,n).pipe(Object(de.a)(t=>Object(Je.a)(t)?r(...t):r(t))):new oe.a(r=>{J_(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function J_(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)J_(t[s],e,n,r,i)}r.add(s)}var Z_=n("Y7HM");function X_(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function tw(...t){if(1===t.length){if(!Object(Je.a)(t[0]))return t[0];t=t[0]}return Object(nn.a)(t,void 0).lift(new ew)}class ew{call(t,e){return e.subscribe(new nw(t))}}class nw extends Ze{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=en(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("KqfI");var rw=n("Lhse");function iw(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(nn.a)(t,void 0).lift(new sw(e))}class sw{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ow(t,this.resultSelector))}}class ow extends ce.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(Je.a)(t)?e.push(new uw(t)):e.push("function"==typeof t[rw.a]?new aw(t[rw.a]()):new cw(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class aw{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class uw{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[rw.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class cw extends fn.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[rw.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(fn.c)(this.observable,new fn.a(this))}}function lw(t){return e=>e.lift(new hw(t))}class hw{constructor(t){this.notifier=t}call(t,e){const n=new fw(t),r=Object(fn.c)(this.notifier,new fn.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class fw extends fn.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function dw(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new pw(t,n))}}class pw{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new gw(t,this.observables,this.project))}}class gw extends Ze{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(en(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var mw=n("WMd4");class yw{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new bw(t,this.delay,this.scheduler))}}class bw extends ce.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(bw.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new vw(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(mw.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(mw.a.createComplete()),this.unsubscribe()}}class vw{constructor(t,e){this.time=t,this.notification=e}}n("w1tV");var _w=n("XoHu");function ww(t,e){return new oe.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(Ge.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Ow=new r.r("NgValueAccessor"),Ew={provide:Ow,useExisting:Object(r.U)(()=>Cw),multi:!0};let Cw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.zb([Ew])]}),t})();const Sw={provide:Ow,useExisting:Object(r.U)(()=>Tw),multi:!0},xw=new r.r("CompositionEventMode");let Tw=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l),r.Mb(xw,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([Sw])]}),t})();function kw(t){return null==t||0===t.length}function Iw(t){return null!=t&&"number"==typeof t.length}const Aw=new r.r("NgValidators"),Dw=new r.r("NgAsyncValidators"),jw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pw{static min(t){return e=>{if(kw(e.value)||kw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(kw(e.value)||kw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return kw(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return kw(t.value)||jw.test(t.value)?null:{email:!0}}static minLength(t){return e=>kw(e.value)||!Iw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Iw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Pw.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(kw(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Nw);return 0==e.length?null:function(t){return Mw(Lw(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Nw);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Je.a)(e))return ww(e,null);if(Object(_w.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ww(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return ww(t=1===t.length&&Object(Je.a)(t[0])?t[0]:t,null).pipe(Object(de.a)(t=>e(...t)))}return ww(t,null)}(Lw(t,e).map(Rw)).pipe(Object(de.a)(Mw))}}}function Nw(t){return null!=t}function Rw(t){const e=Object(r.rb)(t)?Object(Ge.a)(t):t;return Object(r.qb)(e),e}function Mw(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Lw(t,e){return e.map(e=>e(t))}function Fw(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Vw(t){return null!=t?Pw.compose(Fw(t)):null}function Uw(t){return null!=t?Pw.composeAsync(Fw(t)):null}function zw(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Hw=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Vw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Uw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),qw=(()=>{class t extends Hw{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Bw(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.xb]}),t})();const Bw=r.Tb(qw);class $w extends Hw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gw{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let Qw=(()=>{class t extends Gw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb($w,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})(),Ww=(()=>{class t extends Gw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(qw,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})();const Kw={provide:Ow,useExisting:Object(r.U)(()=>Yw),multi:!0};let Yw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([Kw])]}),t})();const Jw={provide:Ow,useExisting:Object(r.U)(()=>Xw),multi:!0};let Zw=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Xw=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get($w),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l),r.Mb(Zw),r.Mb(r.s))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([Jw])]}),t})();const tO={provide:Ow,useExisting:Object(r.U)(()=>eO),multi:!0};let eO=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([tO])]}),t})();const nO={provide:Ow,useExisting:Object(r.U)(()=>iO),multi:!0};function rO(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let iO=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=rO(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([nO])]}),t})(),sO=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(rO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.E),r.Mb(iO,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const oO={provide:Ow,useExisting:Object(r.U)(()=>uO),multi:!0};function aO(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let uO=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([oO])]}),t})(),cO=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(aO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(aO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.E),r.Mb(uO,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function lO(t,e){fO(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&dO(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&dO(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function hO(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fO(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(zw(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(zw(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();hO(e._rawValidators,n),hO(e._rawAsyncValidators,n)}}function dO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const pO=[Cw,eO,Yw,iO,uO,Xw];function gO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const mO="VALID",yO="INVALID",bO="PENDING",vO="DISABLED";function _O(t){return(CO(t)?t.validators:t)||null}function wO(t){return Array.isArray(t)?Vw(t):t||null}function OO(t,e){return(CO(e)?e.asyncValidators:t)||null}function EO(t){return Array.isArray(t)?Uw(t):t||null}function CO(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class SO{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=wO(this._rawValidators),this._composedAsyncValidatorFn=EO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===mO}get invalid(){return this.status===yO}get pending(){return this.status==bO}get disabled(){return this.status===vO}get enabled(){return this.status!==vO}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=wO(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=EO(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=bO,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=vO,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=mO,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==mO&&this.status!==bO||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vO:mO}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=bO,this._hasOwnPendingAsyncValidator=!0;const e=Rw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof TO?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof kO&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?vO:this.errors?yO:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bO)?bO:this._anyControlsHaveStatus(yO)?yO:mO}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){CO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class xO extends SO{constructor(t=null,e,n){super(_O(e),OO(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){gO(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){gO(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class TO extends SO{constructor(t,e,n){super(_O(e),OO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof xO?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class kO extends SO{constructor(t,e,n){super(_O(e),OO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof xO?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const IO={provide:qw,useExisting:Object(r.U)(()=>DO)},AO=(()=>Promise.resolve(null))();let DO=(()=>{class t extends qw{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new TO({},Vw(t),Uw(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){AO.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),lO(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){AO.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),gO(this._directives,t)})}addFormGroup(t){AO.then(()=>{const e=this._findContainer(t.path),n=new TO({});(function(t,e){fO(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){AO.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){AO.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Aw,10),r.Mb(Dw,10))},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([IO]),r.xb]}),t})();const jO={provide:$w,useExisting:Object(r.U)(()=>NO)},PO=(()=>Promise.resolve(null))();let NO=(()=>{class t extends $w{constructor(t,e,n,i){super(),this.control=new xO,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===Tw?n=t:(e=t,pO.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lO(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){PO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;PO.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(qw,9),r.Mb(Aw,10),r.Mb(Dw,10),r.Mb(Ow,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([jO]),r.xb,r.yb]}),t})(),RO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),MO=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})(),LO=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[Zw],imports:[MO]}),t})();const FO=["*"],VO=["defaultDayTemplate"],UO=["content"];function zO(t,e){if(1&t&&r.Nb(0,"div",7),2&t){const t=e.currentMonth,n=e.selected,i=e.disabled,s=e.focused;r.ic("date",e.date)("currentMonth",t)("selected",n)("disabled",i)("focused",s)}}function HO(t,e){if(1&t&&(r.Rb(0,"div",12),r.zc(1),r.Qb()),2&t){const t=r.dc().$implicit,e=r.dc(2);r.Ab(1),r.Cc(" ",e.i18n.getMonthFullName(t.number,t.year)," ",e.i18n.getYearNumerals(t.year)," ")}}function qO(t,e){if(1&t&&(r.Rb(0,"div",9),r.xc(1,HO,2,2,"div",10),r.Nb(2,"ngb-datepicker-month",11),r.Qb()),2&t){const t=e.$implicit,n=r.dc(2);r.Ab(1),r.ic("ngIf","none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),r.Ab(1),r.ic("month",t.firstDate)}}function BO(t,e){if(1&t&&r.xc(0,qO,3,2,"div",8),2&t){const t=r.dc();r.ic("ngForOf",t.model.months)}}function $O(t,e){if(1&t){const t=r.Sb();r.Rb(0,"ngb-datepicker-navigation",13),r.bc("navigate",function(e){return r.sc(t),r.dc().onNavigateEvent(e)})("select",function(e){return r.sc(t),r.dc().onNavigateDateSelect(e)}),r.Qb()}if(2&t){const t=r.dc();r.ic("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function GO(t,e){}function QO(t,e){}function WO(t,e){1&t&&r.Nb(0,"div",5)}function KO(t,e){if(1&t&&(r.Rb(0,"div",6),r.zc(1),r.Qb()),2&t){const t=e.$implicit,n=r.dc(2);r.Ab(1),r.Bc(" ",n.i18n.getWeekdayShortName(t)," ")}}function YO(t,e){if(1&t&&(r.Rb(0,"div",2),r.xc(1,WO,1,0,"div",3),r.xc(2,KO,2,1,"div",4),r.Qb()),2&t){const t=r.dc();r.Ab(1),r.ic("ngIf",t.datepicker.showWeekNumbers),r.Ab(1),r.ic("ngForOf",t.viewModel.weekdays)}}function JO(t,e){if(1&t&&(r.Rb(0,"div",11),r.zc(1),r.Qb()),2&t){const t=r.dc(2).$implicit,e=r.dc();r.Ab(1),r.Ac(e.i18n.getWeekNumerals(t.number))}}function ZO(t,e){}function XO(t,e){if(1&t&&r.xc(0,ZO,0,0,"ng-template",14),2&t){const t=r.dc().$implicit,e=r.dc(3);r.ic("ngTemplateOutlet",e.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function tE(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",12),r.bc("click",function(n){r.sc(t);const i=e.$implicit;return r.dc(3).doSelect(i),n.preventDefault()}),r.xc(1,XO,1,2,"ng-template",13),r.Qb()}if(2&t){const t=e.$implicit;r.Eb("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),r.ic("tabindex",t.tabindex),r.Bb("aria-label",t.ariaLabel),r.Ab(1),r.ic("ngIf",!t.hidden)}}function eE(t,e){if(1&t&&(r.Rb(0,"div",8),r.xc(1,JO,2,1,"div",9),r.xc(2,tE,2,9,"div",10),r.Qb()),2&t){const t=r.dc().$implicit,e=r.dc();r.Ab(1),r.ic("ngIf",e.datepicker.showWeekNumbers),r.Ab(1),r.ic("ngForOf",t.days)}}function nE(t,e){1&t&&r.xc(0,eE,3,2,"div",7),2&t&&r.ic("ngIf",!e.$implicit.collapsed)}function rE(t,e){if(1&t){const t=r.Sb();r.Rb(0,"ngb-datepicker-navigation-select",7),r.bc("select",function(e){return r.sc(t),r.dc().select.emit(e)}),r.Qb()}if(2&t){const t=r.dc();r.ic("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function iE(t,e){1&t&&r.Nb(0,"div",0)}function sE(t,e){1&t&&r.Nb(0,"div",0)}function oE(t,e){if(1&t&&(r.xc(0,iE,1,0,"div",9),r.Rb(1,"div",10),r.zc(2),r.Qb(),r.xc(3,sE,1,0,"div",9)),2&t){const t=e.$implicit,n=e.index,i=r.dc(2);r.ic("ngIf",n>0),r.Ab(2),r.Cc(" ",i.i18n.getMonthFullName(t.number,t.year)," ",i.i18n.getYearNumerals(t.year)," "),r.Ab(1),r.ic("ngIf",n!==i.months.length-1)}}function aE(t,e){if(1&t&&r.xc(0,oE,4,4,"ng-template",8),2&t){const t=r.dc();r.ic("ngForOf",t.months)}}const uE=["ngbDatepickerDayView",""],cE=["month"],lE=["year"];function hE(t,e){if(1&t&&(r.Rb(0,"option",5),r.zc(1),r.Qb()),2&t){const t=e.$implicit,n=r.dc();r.ic("value",t),r.Bb("aria-label",n.i18n.getMonthFullName(t,null==n.date?null:n.date.year)),r.Ab(1),r.Ac(n.i18n.getMonthShortName(t,null==n.date?null:n.date.year))}}function fE(t,e){if(1&t&&(r.Rb(0,"option",5),r.zc(1),r.Qb()),2&t){const t=e.$implicit,n=r.dc();r.ic("value",t),r.Ab(1),r.Ac(n.i18n.getYearNumerals(t))}}const dE=["dialog"];function pE(t){return parseInt(`${t}`,10)}function gE(t){return"string"==typeof t}function mE(t){return!isNaN(pE(t))}function yE(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function bE(t){return null!=t}function vE(t){return mE(t)?`0${t}`.slice(-2):""}function _E(t,e){return t&&t.className&&t.className.split&&t.className.split(/\s+/).indexOf(e)>=0}function wE(t){return(t||document.body).offsetHeight}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const OE={animation:!0,transitionTimerDelayMs:5};let EE=(()=>{class t{constructor(){this.animation=OE.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const CE=()=>{},{transitionTimerDelayMs:SE}=OE,xE=new Map,TE=(t,e,n,r)=>{let i=r.context||{};const s=xE.get(e);if(s)switch(r.runningTransition){case"continue":return ln.a;case"stop":t.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),xE.delete(e)}const o=n(e,r.animation,i)||CE;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),Object(se.a)(void 0).pipe(function(t){return e=>new oe.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new Qe.a,u=new Qe.a,c=a.pipe(function(...t){return e=>cn(e,Object(se.a)(...t))}(!0));xE.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=Y_(e,"transitionend").pipe(lw(c),le(({target:t})=>t===e));tw(function(t=0,e,n){let r=-1;return Object(Z_.a)(e)?r=Number(e)<1?1:Number(e):Object(Ye.a)(e)&&(n=e),Object(Ye.a)(n)||(n=ro.a),new oe.a(e=>{const i=Object(Z_.a)(t)?t:+t-n.now();return n.schedule(X_,i,{index:0,period:r,subscriber:e})})}(l+SE).pipe(lw(c)),n,u).pipe(lw(c)).subscribe(()=>{xE.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let kE=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Et]]}),t})(),IE=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Et]]}),t})(),AE=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})(),DE=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Et]]}),t})(),jE=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})();class PE{constructor(t,e,n){this.year=yE(t)?t:null,this.month=yE(e)?e:null,this.day=yE(n)?n:null}static from(t){return t instanceof PE?t:t?new PE(t.year,t.month,t.day):null}equals(t){return null!=t&&this.year===t.year&&this.month===t.month&&this.day===t.day}before(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)}after(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)}}function NE(t){return new PE(t.getFullYear(),t.getMonth()+1,t.getDate())}function RE(t){const e=new Date(t.year,t.month-1,t.day,12);return isNaN(e.getTime())||e.setFullYear(t.year),e}function ME(){return new FE}let LE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:ME,token:t,providedIn:"root"}),t})(),FE=(()=>{class t extends LE{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,e="d",n=1){let r=RE(t),i=!0,s=r.getMonth();switch(e){case"y":r.setFullYear(r.getFullYear()+n);break;case"m":s+=n,r.setMonth(s),s%=12,s<0&&(s+=12);break;case"d":r.setDate(r.getDate()+n),i=!1;break;default:return t}return i&&r.getMonth()!==s&&r.setDate(0),NE(r)}getPrev(t,e="d",n=1){return this.getNext(t,e,-n)}getWeekday(t){let e=RE(t).getDay();return 0===e?7:e}getWeekNumber(t,e){7===e&&(e=0);const n=RE(t[(11-e)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));const r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1}getToday(){return NE(new Date)}isValid(t){if(!(t&&yE(t.year)&&yE(t.month)&&yE(t.day)))return!1;if(0===t.year)return!1;const e=RE(t);return!isNaN(e.getTime())&&e.getFullYear()===t.year&&e.getMonth()+1===t.month&&e.getDate()===t.day}}return t.\u0275fac=function(e){return VE(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const VE=r.Tb(FE);function UE(t,e){return!function(t,e){return!t&&!e||!!t&&!!e&&t.equals(e)}(t,e)}function zE(t,e){return!(!t&&!e||t&&e&&t.year===e.year&&t.month===e.month)}function HE(t,e,n){return t&&e&&t.before(e)?e:t&&n&&t.after(n)?n:t||null}function qE(t,e){const{minDate:n,maxDate:r,disabled:i,markDisabled:s}=e;return!(null==t||i||s&&s(t,{year:t.year,month:t.month})||n&&t.before(n)||r&&t.after(r))}let BE=(()=>{class t{getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return t=Object(r.Yb)(r.v),new $E(t);var t},token:t,providedIn:"root"}),t})(),$E=(()=>{class t extends BE{constructor(t){super(),this._locale=t;const e=I(t,S.Standalone,x.Short);this._weekdaysShort=e.map((t,n)=>e[(n+1)%7]),this._monthsShort=A(t,S.Standalone,x.Abbreviated),this._monthsFull=A(t,S.Standalone,x.Wide)}getWeekdayShortName(t){return this._weekdaysShort[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return $(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),GE=(()=>{class t{constructor(t,e){this._calendar=t,this._i18n=e,this._VALIDATORS={dayTemplateData:t=>{if(this._state.dayTemplateData!==t)return{dayTemplateData:t}},displayMonths:t=>{if(yE(t=pE(t))&&t>0&&this._state.displayMonths!==t)return{displayMonths:t}},disabled:t=>{if(this._state.disabled!==t)return{disabled:t}},firstDayOfWeek:t=>{if(yE(t=pE(t))&&t>=0&&this._state.firstDayOfWeek!==t)return{firstDayOfWeek:t}},focusVisible:t=>{if(this._state.focusVisible!==t&&!this._state.disabled)return{focusVisible:t}},markDisabled:t=>{if(this._state.markDisabled!==t)return{markDisabled:t}},maxDate:t=>{const e=this.toValidDate(t,null);if(UE(this._state.maxDate,e))return{maxDate:e}},minDate:t=>{const e=this.toValidDate(t,null);if(UE(this._state.minDate,e))return{minDate:e}},navigation:t=>{if(this._state.navigation!==t)return{navigation:t}},outsideDays:t=>{if(this._state.outsideDays!==t)return{outsideDays:t}}},this._model$=new Qe.a,this._dateSelect$=new Qe.a,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]}}}get model$(){return this._model$.pipe(le(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(le(t=>null!==t))}set(t){let e=Object.keys(t).map(e=>this._VALIDATORS[e](t[e])).reduce((t,e)=>Object.assign(Object.assign({},t),e),{});Object.keys(e).length>0&&this._nextState(e)}focus(t){const e=this.toValidDate(t,null);null!=e&&!this._state.disabled&&UE(this._state.focusDate,e)&&this._nextState({focusDate:t})}focusSelect(){qE(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const e=this.toValidDate(t,this._calendar.getToday());null==e||this._state.disabled||this._state.firstDate&&!zE(this._state.firstDate,e)||this._nextState({firstDate:e})}select(t,e={}){const n=this.toValidDate(t,null);null==n||this._state.disabled||(UE(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),e.emitEvent&&qE(n,this._state)&&this._dateSelect$.next(n))}toValidDate(t,e){const n=PE.from(t);return void 0===e&&(e=this._calendar.getToday()),this._calendar.isValid(n)?n:e}getMonth(t){for(let e of this._state.months)if(t.month===e.number&&t.year===e.year)return e;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const e=this._updateState(t);this._patchContexts(e),this._state=e,this._model$.next(this._state)}_patchContexts(t){const{months:e,displayMonths:n,selectedDate:r,focusDate:i,focusVisible:s,disabled:o,outsideDays:a}=t;t.months.forEach(t=>{t.weeks.forEach(u=>{u.days.forEach(u=>{i&&(u.context.focused=i.equals(u.date)&&s),u.tabindex=!o&&i&&u.date.equals(i)&&i.month===t.number?0:-1,!0===o&&(u.context.disabled=!0),void 0!==r&&(u.context.selected=null!==r&&r.equals(u.date)),t.number!==u.date.month&&(u.hidden="hidden"===a||"collapsed"===a||n>1&&u.date.after(e[0].firstDate)&&u.date.before(e[n-1].lastDate))})})})}_updateState(t){const e=Object.assign({},this._state,t);let n=e.firstDate;if(("minDate"in t||"maxDate"in t)&&(function(t,e){if(e&&t&&e.before(t))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${t}`)}(e.minDate,e.maxDate),e.focusDate=HE(e.focusDate,e.minDate,e.maxDate),e.firstDate=HE(e.firstDate,e.minDate,e.maxDate),n=e.focusDate),"disabled"in t&&(e.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(n=e.selectedDate),"focusVisible"in t)return e;if("focusDate"in t&&(e.focusDate=HE(e.focusDate,e.minDate,e.maxDate),n=e.focusDate,0!==e.months.length&&e.focusDate&&!e.focusDate.before(e.firstDate)&&!e.focusDate.after(e.lastDate)))return e;if("firstDate"in t&&(e.firstDate=HE(e.firstDate,e.minDate,e.maxDate),n=e.firstDate),n){const r=function(t,e,n,r,i){const{displayMonths:s,months:o}=n,a=o.splice(0,o.length);return Array.from({length:s},(n,r)=>{const s=Object.assign(t.getNext(e,"m",r),{day:1});if(o[r]=null,!i){const t=a.findIndex(t=>t.firstDate.equals(s));-1!==t&&(o[r]=a.splice(t,1)[0])}return s}).forEach((e,i)=>{null===o[i]&&(o[i]=function(t,e,n,r,i={}){const{dayTemplateData:s,minDate:o,maxDate:a,firstDayOfWeek:u,markDisabled:c,outsideDays:l}=n,h=t.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function(t,e,n){const r=t.getDaysPerWeek(),i=new PE(e.year,e.month,1),s=t.getWeekday(i)%r;return t.getPrev(i,"d",(r+s-n)%r)}(t,e,u);for(let f=0;f<t.getWeeksPerMonth();f++){let n=i.weeks[f];n||(n=i.weeks[f]={number:0,days:[],collapsed:!0});const d=n.days;for(let u=0;u<t.getDaysPerWeek();u++){0===f&&(i.weekdays[u]=t.getWeekday(e));const n=new PE(e.year,e.month,e.day),l=t.getNext(n),p=r.getDayAriaLabel(n);let g=!!(o&&n.before(o)||a&&n.after(a));!g&&c&&(g=c(n,{month:i.number,year:i.year}));let m=n.equals(h),y=s?s(n,{month:i.number,year:i.year}):void 0;null===i.firstDate&&n.month===i.number&&(i.firstDate=n),n.month===i.number&&l.month!==i.number&&(i.lastDate=n);let b=d[u];b||(b=d[u]={}),b.date=n,b.context=Object.assign(b.context||{},{$implicit:n,date:n,data:y,currentMonth:i.number,currentYear:i.year,disabled:g,focused:!1,selected:!1,today:m}),b.tabindex=-1,b.ariaLabel=p,b.hidden=!1,e=l}n.number=t.getWeekNumber(d.map(t=>t.date),u),n.collapsed="collapsed"===l&&d[0].date.month!==i.number&&d[d.length-1].date.month!==i.number}return i}(t,e,n,r,a.shift()||{}))}),o}(this._calendar,n,e,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t);e.months=r,e.firstDate=r[0].firstDate,e.lastDate=r[r.length-1].lastDate,"selectedDate"in t&&!qE(e.selectedDate,e)&&(e.selectedDate=null),"firstDate"in t&&(!e.focusDate||e.focusDate.before(e.firstDate)||e.focusDate.after(e.lastDate))&&(e.focusDate=n);const i=!this._state.firstDate||this._state.firstDate.year!==e.firstDate.year,s=!this._state.firstDate||this._state.firstDate.month!==e.firstDate.month;"select"===e.navigation?(("minDate"in t||"maxDate"in t||0===e.selectBoxes.years.length||i)&&(e.selectBoxes.years=function(t,e,n){if(!t)return[];const r=e?Math.max(e.year,t.year-500):t.year-10,i=(n?Math.min(n.year,t.year+500):t.year+10)-r+1,s=Array(i);for(let o=0;o<i;o++)s[o]=r+o;return s}(e.firstDate,e.minDate,e.maxDate)),("minDate"in t||"maxDate"in t||0===e.selectBoxes.months.length||i)&&(e.selectBoxes.months=function(t,e,n,r){if(!e)return[];let i=t.getMonths(e.year);if(n&&e.year===n.year){const t=i.findIndex(t=>t===n.month);i=i.slice(t)}if(r&&e.year===r.year){const t=i.findIndex(t=>t===r.month);i=i.slice(0,t+1)}return i}(this._calendar,e.firstDate,e.minDate,e.maxDate))):e.selectBoxes={years:[],months:[]},"arrows"!==e.navigation&&"select"!==e.navigation||!(s||i||"minDate"in t||"maxDate"in t||"disabled"in t)||(e.prevDisabled=e.disabled||function(t,e,n){const r=Object.assign(t.getPrev(e,"m"),{day:1});return null!=n&&(r.year===n.year&&r.month<n.month||r.year<n.year&&1===n.month)}(this._calendar,e.firstDate,e.minDate),e.nextDisabled=e.disabled||function(t,e,n){const r=Object.assign(t.getNext(e,"m"),{day:1});return null!=n&&r.after(n)}(this._calendar,e.lastDate,e.maxDate))}return e}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(LE),r.Yb(BE))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();var QE=function(t){return t[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",t}({});let WE=(()=>{class t{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();function KE(){return new JE}let YE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:KE,token:t,providedIn:"root"}),t})(),JE=(()=>{class t extends YE{fromModel(t){return t&&yE(t.year)&&yE(t.month)&&yE(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&yE(t.year)&&yE(t.month)&&yE(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return t.\u0275fac=function(e){return ZE(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const ZE=r.Tb(JE);let XE=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.L))},t.\u0275dir=r.Hb({type:t,selectors:[["ng-template","ngbDatepickerContent",""]]}),t})(),tC=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this._service=t,this._calendar=e,this.i18n=n,this._elementRef=o,this._ngbDateAdapter=a,this._ngZone=u,this._controlValue=null,this._destroyed$=new Qe.a,this._publicState={},this.navigate=new r.n,this.dateSelect=new r.n,this.onChange=t=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(t=>this[t]=i[t]),t.dateSelect$.pipe(lw(this._destroyed$)).subscribe(t=>{this.dateSelect.emit(t)}),t.model$.pipe(lw(this._destroyed$)).subscribe(t=>{const e=t.firstDate,n=this.model?this.model.firstDate:null;this._publicState={maxDate:t.maxDate,minDate:t.minDate,firstDate:t.firstDate,lastDate:t.lastDate,focusedDate:t.focusDate,months:t.months.map(t=>t.firstDate)};let r=!1;if(!e.equals(n)&&(this.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:e.year,month:e.month},preventDefault:()=>r=!0}),r&&null!==n))return void this._service.open(n);const i=t.selectedDate,o=t.focusDate,a=this.model?this.model.focusDate:null;this.model=t,UE(i,this._controlValue)&&(this._controlValue=i,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(i))),UE(o,a)&&a&&t.focusVisible&&this.focus(),s.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(PE.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(yn(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(PE.from(t?t.day?t:Object.assign(Object.assign({},t),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=Y_(this._contentEl.nativeElement,"focusin"),e=Y_(this._contentEl.nativeElement,"focusout"),{nativeElement:n}=this._elementRef;Object(Ls.a)(t,e).pipe(le(({target:t,relatedTarget:e})=>!(_E(t,"ngb-dp-day")&&_E(e,"ngb-dp-day")&&n.contains(t)&&n.contains(e))),lw(this._destroyed$)).subscribe(({type:t})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===t})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(e=>t[e]=this[e]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const e={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(e=>e in t).forEach(t=>e[t]=this[t]),this._service.set(e),"startDate"in t){const{currentValue:e,previousValue:n}=t.startDate;zE(n,e)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case QE.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case QE.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=PE.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(GE),r.Mb(LE),r.Mb(BE),r.Mb(WE),r.Mb(r.h),r.Mb(r.l),r.Mb(YE),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-datepicker"]],contentQueries:function(t,e,n){if(1&t&&r.Fb(n,XE,3),2&t){let t;r.pc(t=r.cc())&&(e.contentTemplate=t.first)}},viewQuery:function(t,e){if(1&t&&(r.Dc(VO,3),r.Dc(UO,3)),2&t){let t;r.pc(t=r.cc())&&(e._defaultDayTemplate=t.first),r.pc(t=r.cc())&&(e._contentEl=t.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[r.zb([{provide:Ow,useExisting:Object(r.U)(()=>t),multi:!0},GE]),r.yb],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,e){if(1&t&&(r.xc(0,zO,1,5,"ng-template",null,0,r.yc),r.xc(2,BO,1,1,"ng-template",null,1,r.yc),r.Rb(4,"div",2),r.xc(5,$O,1,7,"ngb-datepicker-navigation",3),r.Qb(),r.Rb(6,"div",4,5),r.xc(8,GO,0,0,"ng-template",6),r.Qb(),r.xc(9,QO,0,0,"ng-template",6)),2&t){const t=r.qc(3);r.Ab(5),r.ic("ngIf","none"!==e.navigation),r.Ab(1),r.Eb("ngb-dp-months",!e.contentTemplate),r.Ab(2),r.ic("ngTemplateOutlet",(null==e.contentTemplate?null:e.contentTemplate.templateRef)||t),r.Ab(1),r.ic("ngTemplateOutlet",e.footerTemplate)}},directives:function(){return[ht,gt,_C,ct,rC,iC]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{background-color:#f8f9fa;background-color:var(--light);border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{background-color:#f8f9fa;background-color:var(--light);font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],encapsulation:2,changeDetection:0}),t})();var eC=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});let nC=(()=>{class t{processKey(t,e){const{state:n,calendar:r}=e;switch(t.which){case eC.PageUp:e.focusDate(r.getPrev(n.focusedDate,t.shiftKey?"y":"m",1));break;case eC.PageDown:e.focusDate(r.getNext(n.focusedDate,t.shiftKey?"y":"m",1));break;case eC.End:e.focusDate(t.shiftKey?n.maxDate:n.lastDate);break;case eC.Home:e.focusDate(t.shiftKey?n.minDate:n.firstDate);break;case eC.ArrowLeft:e.focusDate(r.getPrev(n.focusedDate,"d",1));break;case eC.ArrowUp:e.focusDate(r.getPrev(n.focusedDate,"d",r.getDaysPerWeek()));break;case eC.ArrowRight:e.focusDate(r.getNext(n.focusedDate,"d",1));break;case eC.ArrowDown:e.focusDate(r.getNext(n.focusedDate,"d",r.getDaysPerWeek()));break;case eC.Enter:case eC.Space:e.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),rC=(()=>{class t{constructor(t,e,n,r){this.i18n=t,this.datepicker=e,this._keyboardService=n,this._service=r}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){t.context.disabled||t.hidden||this.datepicker.onDateSelect(t.date)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(BE),r.Mb(tC),r.Mb(nC),r.Mb(GE))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,e){1&t&&r.bc("keydown",function(t){return e.onKeyDown(t)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(r.xc(0,YO,3,2,"div",0),r.xc(1,nE,1,1,"ng-template",1)),2&t&&(r.ic("ngIf",e.datepicker.showWeekdays),r.Ab(1),r.ic("ngForOf",e.viewModel.weeks))},directives:[ht,ct,gt],styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{font-style:italic;line-height:2rem;text-align:center}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{background-color:#f8f9fa;background-color:var(--light);border-bottom:1px solid rgba(0,0,0,.125);border-radius:0}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{height:2rem;width:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}'],encapsulation:2}),t})(),iC=(()=>{class t{constructor(t){this.i18n=t,this.navigation=QE,this.months=[],this.navigate=new r.n,this.select=new r.n}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(BE))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-datepicker-navigation"]],inputs:{months:"months",date:"date",disabled:"disabled",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let t,e,n,r;return t=$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,e=$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,n=$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,r=$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",t,"title",e,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",n,"title",r,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"button",1),r.bc("click",function(t){return e.onClickPrev(t)}),r.Nb(2,"span",2),r.Qb(),r.Qb(),r.xc(3,rE,1,4,"ngb-datepicker-navigation-select",3),r.xc(4,aE,1,1,void 0,4),r.Rb(5,"div",5),r.Rb(6,"button",6),r.bc("click",function(t){return e.onClickNext(t)}),r.Nb(7,"span",2),r.Qb(),r.Qb()),2&t&&(r.Ab(1),r.ic("disabled",e.prevDisabled),r.Ab(2),r.ic("ngIf",e.showSelect),r.Ab(1),r.ic("ngIf",!e.showSelect),r.Ab(2),r.ic("disabled",e.nextDisabled))},directives:function(){return[ht,wC,ct]},styles:["ngb-datepicker-navigation{align-items:center;display:flex}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg);width:.75em}.ngb-dp-arrow{display:flex;flex:1 1 auto;height:2rem;margin:0;padding-left:0;padding-right:0;width:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{margin-left:.15em;margin-right:.25em;transform:rotate(45deg)}.ngb-dp-arrow-btn{background-color:transparent;border:none;margin:0 .5rem;padding:0 .25rem;z-index:1}.ngb-dp-arrow-btn:focus{outline-style:auto;outline-width:1px}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}"],encapsulation:2,changeDetection:0}),t})();const sC=(t,e)=>!!e&&e.some(e=>e.contains(t)),oC=(t,e)=>!e||null!=function(t,e){return e?void 0===t.closest?null:t.closest(e):null}(t,e),aC="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const uC=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function cC(t){const e=Array.from(t.querySelectorAll(uC)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const lC=(t,e,n,r=!1)=>{t.runOutsideAngular(()=>{const t=Y_(e,"focusin").pipe(lw(n),Object(de.a)(t=>t.target));Y_(e,"keydown").pipe(lw(n),le(t=>t.which===eC.Tab),dw(t)).subscribe(([t,n])=>{const[r,i]=cC(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Y_(e,"click").pipe(lw(n),dw(t),Object(de.a)(t=>t[1])).subscribe(t=>t.focus())})},hC=/\s+/,fC=new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let f=0,d=0;switch(i){case"top":f=o.top-(e.offsetHeight+u+c);break;case"bottom":f=o.top+o.height;break;case"left":d=o.left-(e.offsetWidth+l+h);break;case"right":d=o.left+o.width}switch(s){case"top":f=o.top;break;case"bottom":f=o.top+o.height-e.offsetHeight;break;case"left":d=o.left;break;case"right":d=o.left+o.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=o.left+o.width/2-e.offsetWidth/2:f=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=m}};function dC(){return new gC}let pC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:dC,token:t,providedIn:"root"}),t})(),gC=(()=>{class t extends pC{parse(t){if(null!=t){const e=t.trim().split("-");if(1===e.length&&mE(e[0]))return{year:pE(e[0]),month:null,day:null};if(2===e.length&&mE(e[0])&&mE(e[1]))return{year:pE(e[0]),month:pE(e[1]),day:null};if(3===e.length&&mE(e[0])&&mE(e[1])&&mE(e[2]))return{year:pE(e[0]),month:pE(e[1]),day:pE(e[2])}}return null}format(t){return t?`${t.year}-${mE(t.month)?vE(t.month):""}-${mE(t.day)?vE(t.day):""}`:""}}return t.\u0275fac=function(e){return mC(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const mC=r.Tb(gC);let yC=(()=>{class t extends WE{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"],this.restoreFocus=!0}}return t.\u0275fac=function(e){return bC(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const bC=r.Tb(yC);let vC=(()=>{class t{constructor(t,e,n,i,s,o,a,u,c,l,h){this._parserFormatter=t,this._elRef=e,this._vcRef=n,this._renderer=i,this._cfr=s,this._ngZone=o,this._calendar=a,this._dateAdapter=u,this._document=c,this._changeDetector=l,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this.dateSelect=new r.n,this.navigate=new r.n,this.closed=new r.n,this._onChange=t=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(t=>this[t]=h[t]),this._zoneSubscription=o.onStable.subscribe(()=>this._updatePopupPosition())}get disabled(){return this._disabled}set disabled(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}registerOnValidatorChange(t){this._validatorChange=t}setDisabledState(t){this.disabled=t}validate(t){const{value:e}=t;if(null!=e){const t=this._fromDateStruct(this._dateAdapter.fromModel(e));if(!t)return{ngbDate:{invalid:e}};if(this.minDate&&t.before(PE.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:e}}};if(this.maxDate&&t.after(PE.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:e}}}}return null}writeValue(t){this._model=this._fromDateStruct(this._dateAdapter.fromModel(t)),this._writeModelValue(this._model)}manualDateChange(t,e=!1){const n=t!==this._inputValue;n&&(this._inputValue=t,this._model=this._fromDateStruct(this._parserFormatter.parse(t))),!n&&e||this._onChange(this._model?this._dateAdapter.toModel(this._model):""===t?null:t),e&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){const t=this._cfr.resolveComponentFactory(tC);this._cRef=this._vcRef.createComponent(t),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(t=>{this.writeValue(t),this._onChange(t),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,lC(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),function(t,e,n,r,i,s,o,a){var u;n&&t.runOutsideAngular((u=()=>{const u=Y_(e,"keydown").pipe(lw(i),le(t=>t.which===eC.Escape),Object(Vn.a)(t=>t.preventDefault())),c=Y_(e,"mousedown").pipe(Object(de.a)(t=>{const e=t.target;return 2!==t.button&&!sC(e,o)&&("inside"===n?sC(e,s)&&oC(e,a):"outside"===n?!sC(e,s):oC(e,a)||!sC(e,s))}),lw(i)),l=Y_(e,"mouseup").pipe(dw(c),le(([t,e])=>e),function(t,e=ro.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new yw(r,e))}(0),lw(i));tw([u.pipe(Object(de.a)(t=>0)),l.pipe(Object(de.a)(t=>1))]).subscribe(e=>t.run(()=>r(e)))},aC?()=>setTimeout(()=>u(),100):u))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();let t=this._elWithFocus;gE(this.restoreFocus)?t=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(t=this.restoreFocus),t&&t.focus?t.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(t){this.isOpen()&&this._cRef.instance.navigateTo(t)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(t){(t.minDate||t.maxDate)&&(this._validatorChange(),this.isOpen()&&(t.minDate&&(this._cRef.instance.minDate=this.minDate),t.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(t)))}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(t){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach(e=>{void 0!==this[e]&&(t[e]=this[e])}),t.startDate=this.startDate||this._model}_applyPopupStyling(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.addClass(t,"show"),"body"===this.container&&this._renderer.addClass(t,"ngb-dp-body")}_subscribeForDatepickerOutputs(t){t.navigate.subscribe(t=>this.navigate.emit(t)),t.dateSelect.subscribe(t=>{this.dateSelect.emit(t),!0!==this.autoClose&&"inside"!==this.autoClose||this.close()})}_writeModelValue(t){const e=this._parserFormatter.format(t);this._inputValue=e,this._renderer.setProperty(this._elRef.nativeElement,"value",e),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(t)),this._onTouched())}_fromDateStruct(t){const e=t?new PE(t.year,t.month,t.day):null;return this._calendar.isValid(e)?e:null}_updatePopupPosition(){if(!this._cRef)return;let t;if(t=gE(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!t)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");!function(t,e,n,r,i){let s=Array.isArray(n)?n:n.split(hC);const o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t=>{const[e,n]=t.split("-"),r=[];return r};let u=s.findIndex(t=>"auto"===t);u>=0&&o.forEach(function(t){null==s.find(e=>-1!==e.search("^"+t))&&s.splice(u++,1,t)});const c=e.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";let l=null,h=!1;for(l of s){a(l);if(fC.positionElements(t,e,l,r)){h=!0;break}}h||(l=s[0],a(l),fC.positionElements(t,e,l,r))}(t,this._cRef.location.nativeElement,this.placement,"body"===this.container)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(pC),r.Mb(r.l),r.Mb(r.Q),r.Mb(r.E),r.Mb(r.j),r.Mb(r.A),r.Mb(LE),r.Mb(YE),r.Mb(o),r.Mb(r.h),r.Mb(yC))},t.\u0275dir=r.Hb({type:t,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e.manualDateChange(t.target.value)})("change",function(t){return e.manualDateChange(t.target.value,!0)})("focus",function(){return e.onFocus()})("blur",function(){return e.onBlur()}),2&t&&r.Ub("disabled",e.disabled)},inputs:{disabled:"disabled",autoClose:"autoClose",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[r.zb([{provide:Ow,useExisting:Object(r.U)(()=>t),multi:!0},{provide:Aw,useExisting:Object(r.U)(()=>t),multi:!0},{provide:WE,useExisting:yC}]),r.yb]}),t})(),_C=(()=>{class t{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(BE))},t.\u0275cmp=r.Gb({type:t,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,e){2&t&&r.Eb("bg-primary",e.selected)("text-white",e.selected)("text-muted",e.isMuted())("outside",e.isMuted())("active",e.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:uE,decls:1,vars:1,template:function(t,e){1&t&&r.zc(0),2&t&&r.Ac(e.i18n.getDayNumerals(e.date))},styles:["[ngbDatepickerDayView]{background:transparent;border-radius:.25rem;height:2rem;line-height:2rem;text-align:center;width:2rem}[ngbDatepickerDayView].outside{opacity:.5}"],encapsulation:2,changeDetection:0}),t})(),wC=(()=>{class t{constructor(t,e){this.i18n=t,this._renderer=e,this.select=new r.n,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new PE(this.date.year,pE(t),1))}changeYear(t){this.select.emit(new PE(pE(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(BE),r.Mb(r.E))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,e){if(1&t&&(r.Dc(cE,3,r.l),r.Dc(lE,3,r.l)),2&t){let t;r.pc(t=r.cc())&&(e.monthSelect=t.first),r.pc(t=r.cc())&&(e.yearSelect=t.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let t,e,n,r;return t=$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,e=$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,n=$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,r=$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,[["aria-label",t,"title",e,1,"custom-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",n,"title",r,1,"custom-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,e){1&t&&(r.Rb(0,"select",0,1),r.bc("change",function(t){return e.changeMonth(t.target.value)}),r.xc(2,hE,2,3,"option",2),r.Qb(),r.Rb(3,"select",3,4),r.bc("change",function(t){return e.changeYear(t.target.value)}),r.xc(5,fE,2,2,"option",2),r.Qb()),2&t&&(r.ic("disabled",e.disabled),r.Ab(2),r.ic("ngForOf",e.months),r.Ab(1),r.ic("disabled",e.disabled),r.Ab(2),r.ic("ngForOf",e.years))},directives:[ct,sO,cO],styles:["ngb-datepicker-navigation-select>.custom-select{flex:1 1 auto;font-size:.875rem;height:1.85rem;padding:0 .5rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],encapsulation:2,changeDetection:0}),t})();new Date(1882,10,12),new Date(2174,10,25);let OC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Et,LO]]}),t})(),EC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})(),CC=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(EE))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(EE))},token:t,providedIn:"root"}),t})();class SC{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const xC=()=>{};let TC=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):xC}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(o))},token:t,providedIn:"root"}),t})(),kC=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(yn(1)).subscribe(()=>{TE(this._zone,this._el.nativeElement,(t,e)=>{e&&wE(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return TE(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Cb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Eb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class IC{close(t){}dismiss(t){}}class AC{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Qe.a,this._dismissed=new Qe.a,this._hidden=new Qe.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(lw(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(lw(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(se.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),iw(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var DC=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let jC=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new Qe.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new Qe.a,this.hidden=new Qe.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=iw(TE(this._zone,t,()=>t.classList.remove("show"),e),TE(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};iw(TE(this._zone,this._elRef.nativeElement,(t,e)=>{e&&wE(t),t.classList.add("show")},t),TE(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Y_(t,"keydown").pipe(lw(this._closed$),le(t=>t.which===eC.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(DC.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Y_(this._dialogEl.nativeElement,"mousedown").pipe(lw(this._closed$),Object(Vn.a)(()=>e=!1),dn(()=>Y_(t,"mouseup").pipe(lw(this._closed$),yn(1))),le(({target:e})=>t===e)).subscribe(()=>{e=!0}),Y_(t,"click").pipe(lw(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(DC.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=cC(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&TE(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o),r.Mb(r.l),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Dc(dE,3),2&t){let t;r.pc(t=r.cc())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Bb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Cb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Eb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:FO,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.hc(),r.Rb(0,"div",0,1),r.Rb(2,"div",2),r.gc(3),r.Qb(),r.Qb()),2&t&&r.Cb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),PC=(()=>{class t{constructor(t,e,n,i,s,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new Qe.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];lC(this._ngZone,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:bE(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new IC,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new AC(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(o,o),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(kC).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(jC).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{bE(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{bE(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,s){return n?n instanceof r.L?this._createFromTemplateRef(n,i):gE(n)?this._createFromString(n):this._createFromComponent(t,e,n,i,s):new SC([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new SC([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new SC([[e]])}_createFromComponent(t,e,n,i,s){const o=t.resolveComponentFactory(n),a=r.s.create({providers:[{provide:IC,useValue:i}],parent:e}),u=o.create(a),c=u.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new SC([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.g),r.Yb(r.s),r.Yb(o),r.Yb(TC),r.Yb(r.F),r.Yb(r.A))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(r.g),Object(r.Yb)(r.o),Object(r.Yb)(o),Object(r.Yb)(TC),Object(r.Yb)(r.F),Object(r.Yb)(r.A))},token:t,providedIn:"root"}),t})(),NC=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.j),r.Yb(r.s),r.Yb(PC),r.Yb(CC))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(r.j),Object(r.Yb)(r.o),Object(r.Yb)(PC),Object(r.Yb)(CC))},token:t,providedIn:"root"}),t})(),RC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[NC]}),t})(),MC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Et]]}),t})(),LC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Et]]}),t})(),FC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Et]]}),t})(),VC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Et]]}),t})(),UC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Et]]}),t})(),zC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Et]]}),t})(),HC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Et]]}),t})(),qC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})();new r.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});let BC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Et]]}),t})();const $C=[kE,IE,AE,DE,jE,OC,EC,RC,MC,LC,FC,VC,UC,zC,HC,qC,BC];let GC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[$C,kE,IE,AE,DE,jE,OC,EC,RC,MC,LC,FC,VC,UC,zC,HC,qC,BC]}),t})(),QC=(()=>{class t{constructor(t,e){this.nasaService=t,this.auth=e,this.close=new r.n}ngOnInit(){}loginMedia(t){this.nasaService.login(t),setTimeout(()=>{this.auth.authState.subscribe(t=>{t&&this.close.emit(!1)})},1e3)}closePopup(){this.close.emit(!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(W_),r.Mb(Xs))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-login"]],outputs:{close:"close"},decls:35,vars:0,consts:[[1,"row","login-background","animate__animated","animate__zoomIn"],[1,"col-md-12"],[1,"login-wrapper"],[1,"close",3,"click"],[1,"fas","fa-times"],[1,"logo-wrapper","animate__animated","animate__pulse","animate__infinite"],["src","assets/nasa-logo.png","alt","nasa-logo",1,"nasa-logo"],[1,"align-self-end"],[1,"google",3,"click"],[1,"icon"],[1,"fab","fa-google"],[1,"me-3"],[1,"text"],[1,"facebook",3,"click"],[1,"fab","fa-facebook-f"],[1,"github",3,"click"],[1,"fab","fa-github"],[1,"twitter",3,"click"],[1,"fab","fa-twitter"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.bc("click",function(){return e.closePopup()}),r.Nb(4,"i",4),r.Qb(),r.Rb(5,"div",5),r.Nb(6,"img",6),r.Rb(7,"h3",7),r.zc(8,"Image of the "),r.Rb(9,"span"),r.zc(10,"day"),r.Qb(),r.Qb(),r.Qb(),r.Rb(11,"button",8),r.bc("click",function(){return e.loginMedia("google")}),r.Rb(12,"div",9),r.Nb(13,"i",10),r.Qb(),r.Nb(14,"div",11),r.Rb(15,"div",12),r.zc(16,"Login with Google"),r.Qb(),r.Qb(),r.Rb(17,"button",13),r.bc("click",function(){return e.loginMedia("facebook")}),r.Rb(18,"div",9),r.Nb(19,"i",14),r.Qb(),r.Nb(20,"div",11),r.Rb(21,"div",12),r.zc(22,"Login with Facebook"),r.Qb(),r.Qb(),r.Rb(23,"button",15),r.bc("click",function(){return e.loginMedia("github")}),r.Rb(24,"div",9),r.Nb(25,"i",16),r.Qb(),r.Nb(26,"div",11),r.Rb(27,"div",12),r.zc(28,"Login with GitHub"),r.Qb(),r.Qb(),r.Rb(29,"button",17),r.bc("click",function(){return e.loginMedia("twitter")}),r.Rb(30,"div",9),r.Nb(31,"i",18),r.Qb(),r.Nb(32,"div",11),r.Rb(33,"div",12),r.zc(34,"Login with Twitter"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},styles:[".login-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.829);z-index:100;overflow-y:scroll}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]{position:relative;top:calc(50% - 200px);margin:0 auto;background-color:#fff;height:380px;width:340px;border-radius:5px;padding:10px}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:20px;top:15px;cursor:pointer;transition:all .2s ease-in-out;z-index:100}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:40px}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .nasa-logo[_ngcontent-%COMP%]{max-width:50px;display:block;margin:0 auto}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Cinzel Decorative,cursive;text-shadow:4px 4px 5px rgba(39,39,39,.54);text-align:center;color:#000;font-size:18px;margin:0}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:sans-serif;font-size:18px;color:#fff;display:flex;align-items:center;padding:5px 10px 2px;width:240px;border-radius:5px;border:none;transition:all .3s ease-in-out;box-shadow:10px 10px 7px -3px rgba(0,0,0,.22)}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .google[_ngcontent-%COMP%]{background-color:#cc4f4f;margin:0 auto 10px}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .google[_ngcontent-%COMP%]:hover{background-color:#f85353}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]{background-color:#3a67bd;margin:0 auto 10px}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]:hover{background-color:#214c9b}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .github[_ngcontent-%COMP%]{background-color:#000;margin:0 auto 10px}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .github[_ngcontent-%COMP%]:hover{background-color:#272727}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .twitter[_ngcontent-%COMP%]{background-color:#76a3f7;margin:0 auto 10px}.login-background[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .twitter[_ngcontent-%COMP%]:hover{background-color:#487bdb}.animate__animated.animate__zoomIn[_ngcontent-%COMP%]{--animate-duration:0.3s}.animate__animated.animate__pulse.animate__infinite[_ngcontent-%COMP%]{--animate-duration:10s}"]}),t})(),WC=(()=>{class t{transform(t){return t?t.split(" ")[0]:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"firstName",type:t,pure:!0}),t})();function KC(t,e){if(1&t){const t=r.Sb();r.Rb(0,"app-login",33),r.bc("close",function(e){return r.sc(t),r.dc().closePopup(e)}),r.Qb()}}function YC(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",34),r.Rb(1,"div",35),r.Nb(2,"img",36),r.Rb(3,"span"),r.zc(4),r.ec(5,"firstName"),r.Qb(),r.Qb(),r.Rb(6,"span",13),r.bc("click",function(){return r.sc(t),r.dc().logout()}),r.zc(7,"Logout "),r.Qb(),r.Rb(8,"i",37),r.bc("click",function(){return r.sc(t),r.dc().logout()}),r.Qb(),r.Qb()}if(2&t){const t=e.ngIf;r.Ab(2),r.ic("src",t.photoURL,r.uc),r.Ab(2),r.Bc("Hi ",r.fc(5,2,t.displayName),"!")}}function JC(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",34),r.Rb(1,"span"),r.zc(2,"Hi anonymous!"),r.Qb(),r.Rb(3,"span",13),r.bc("click",function(){return r.sc(t),r.dc().showLoginPopup()}),r.zc(4,"Login"),r.Qb(),r.Rb(5,"i",38),r.bc("click",function(){return r.sc(t),r.dc().showLoginPopup()}),r.Qb(),r.Qb()}}function ZC(t,e){1&t&&(r.Rb(0,"a",39),r.Nb(1,"i",40),r.zc(2," Favourites"),r.Qb())}function XC(t,e){1&t&&(r.Rb(0,"li",27),r.Rb(1,"a",41),r.zc(2," Favourites"),r.Qb(),r.Qb())}const tS=function(t){return{"responsive-menu-show":t}},eS=function(){return{year:1995,month:6,day:20}};let nS=(()=>{class t{constructor(t,e,n){this.router=t,this.auth=e,this.nasaService=n,this.loginTemplate=!1,this.responsive=!1}ngOnInit(){this.model=this.getToday()}goToSearch(){let t=this.model.month.toString(),e=this.model.day.toString();t.length<2&&(t=`0${this.model.month}`),e.length<2&&(e=`0${this.model.day}`),this.router.navigateByUrl(`search/${this.model.year}-${t}-${e}`)}getToday(){let t,e=new Date;if(1!=e.getDate())t={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()-1};else{let e=new Date;e.setMonth(e.getMonth()),e.setDate(0),t={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}}return t}showLoginPopup(){this.loginTemplate=!0}closePopup(){this.loginTemplate=!1}logout(){this.nasaService.logout()}toggleResponsive(){this.responsive=!this.responsive}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ds),r.Mb(Xs),r.Mb(W_))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-navbar"]],decls:47,vars:18,consts:[[3,"close",4,"ngIf"],[1,"nasa-wrapper"],[1,"logo-wrapper","d-flex","justify-content-between"],["src","assets/nasa-logo.png","alt","nasa-logo",1,"nasa-logo"],[1,"align-self-end"],["class","icon-wrapper",4,"ngIf","ngIfElse"],["showLogin",""],[1,"responsive-menu",3,"ngClass"],["routerLink","/favourites","routerLinkActive","active",4,"ngIf"],["routerLink","/home","routerLinkActive","active"],[1,"fas","fa-step-forward"],["routerLink","/random","routerLinkActive","active"],[1,"fas","fa-random"],[3,"click"],[1,"fas","fa-arrow-up"],["id","",1,"d-flex","align-items-center","justify-content-between","p-2","px-3"],[1,"date-wrapper","d-flex","align-items-center"],[1,"input-parent"],["placeholder","Choose date","name","dp","ngbDatepicker","",1,"form-control","input-date",3,"ngModel","minDate","maxDate","ngModelChange"],["d","ngbDatepicker"],[1,"date-icon","input-group-append"],[1,"btn",3,"click"],[1,"far","fa-calendar-alt"],[1,"search",3,"click"],[1,"fas","fa-search"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0","flex-md-row"],["class","nav-item ms-md-3 no-burguer",4,"ngIf"],[1,"nav-item","ms-md-3","no-burguer"],["aria-current","page","routerLink","/home","routerLinkActive","active",1,"nav-link"],["aria-current","page","routerLink","/random","routerLinkActive","active",1,"nav-link"],[1,"nav-item","ms-md-3","burguer"],["aria-current","page",1,"nav-link",3,"click"],[1,"fas","fa-bars"],[3,"close"],[1,"icon-wrapper"],[1,"user-image-wrapper","d-flex","flex-column","align-items-center","me-3"],["alt","user-avatar",1,"user-thumbnail",3,"src"],[1,"logout","fas","fa-sign-out-alt","animate__animated","animate__fadeIn",3,"click"],[1,"login","fas","fa-sign-in-alt","animate__animated","animate__fadeIn",3,"click"],["routerLink","/favourites","routerLinkActive","active"],[1,"far","fa-heart"],["aria-current","page","routerLink","/favourites","routerLinkActive","active",1,"nav-link"]],template:function(t,e){if(1&t){const t=r.Sb();r.xc(0,KC,1,0,"app-login",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Nb(3,"img",3),r.Rb(4,"h3",4),r.zc(5,"Image of the "),r.Rb(6,"span"),r.zc(7,"day"),r.Qb(),r.Qb(),r.Qb(),r.xc(8,YC,9,4,"div",5),r.ec(9,"async"),r.xc(10,JC,6,0,"ng-template",null,6,r.yc),r.Qb(),r.Rb(12,"nav"),r.Rb(13,"div",7),r.xc(14,ZC,3,0,"a",8),r.ec(15,"async"),r.Rb(16,"a",9),r.Nb(17,"i",10),r.zc(18," Last"),r.Qb(),r.Rb(19,"a",11),r.Nb(20,"i",12),r.zc(21," Random"),r.Qb(),r.Rb(22,"a",13),r.bc("click",function(){return e.toggleResponsive()}),r.Nb(23,"i",14),r.Qb(),r.Qb(),r.Rb(24,"div",15),r.Rb(25,"div",16),r.Rb(26,"div",17),r.Rb(27,"input",18,19),r.bc("ngModelChange",function(t){return e.model=t}),r.Qb(),r.Qb(),r.Rb(29,"div",20),r.Rb(30,"a",21),r.bc("click",function(){return r.sc(t),r.qc(28).toggle()}),r.Nb(31,"i",22),r.Qb(),r.Qb(),r.Rb(32,"div",23),r.bc("click",function(){return e.goToSearch()}),r.Rb(33,"a"),r.Nb(34,"i",24),r.Qb(),r.Qb(),r.Qb(),r.Rb(35,"ul",25),r.xc(36,XC,3,0,"li",26),r.ec(37,"async"),r.Rb(38,"li",27),r.Rb(39,"a",28),r.zc(40,"Last"),r.Qb(),r.Qb(),r.Rb(41,"li",27),r.Rb(42,"a",29),r.zc(43,"Random"),r.Qb(),r.Qb(),r.Rb(44,"li",30),r.Rb(45,"a",31),r.bc("click",function(){return e.toggleResponsive()}),r.Nb(46,"i",32),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.qc(11);r.ic("ngIf",e.loginTemplate),r.Ab(8),r.ic("ngIf",r.fc(9,9,e.auth.user))("ngIfElse",t),r.Ab(5),r.ic("ngClass",r.mc(15,tS,e.responsive)),r.Ab(1),r.ic("ngIf",r.fc(15,11,e.auth.user)),r.Ab(13),r.ic("ngModel",e.model)("minDate",r.lc(17,eS))("maxDate",e.getToday()),r.Ab(9),r.ic("ngIf",r.fc(37,13,e.auth.user))}},directives:[ht,at,gs,ys,vC,Tw,Qw,NO,QC],pipes:[wt,WC],styles:['@import url("https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;900&display=swap");.nasa-wrapper[_ngcontent-%COMP%]{border-bottom:2px solid #be0303;padding:5px 10px;background-color:#272727;display:flex;justify-content:space-between}.nasa-wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:flex}.nasa-wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .nasa-logo[_ngcontent-%COMP%]{width:50px!important;height:40px!important}.nasa-wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Cinzel Decorative,cursive;text-shadow:4px 4px 5px rgba(39,39,39,.54);color:#fdfdfd;font-size:18px;margin:0}.nasa-wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.nasa-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;font-size:12px;padding-right:7px}.nasa-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .user-thumbnail[_ngcontent-%COMP%]{border-radius:50%;width:30px}.nasa-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.nasa-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.nasa-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{color:green;font-size:18px;cursor:pointer;transition:all .3s ease-in-out}.nasa-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]:hover{color:#03b903}.nasa-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{color:rgba(156,0,0,.842);font-size:18px;cursor:pointer;transition:all .3s ease-in-out}.nasa-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]:hover{color:#af0202}nav[_ngcontent-%COMP%]{background-color:#2f4466;box-shadow:0 7px 15px 4px rgba(0,0,0,.31)}nav[_ngcontent-%COMP%]   .responsive-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:rgba(0,0,0,.884);position:fixed;top:-250px;left:0;right:0;z-index:100;transition:all .4s ease-in-out}nav[_ngcontent-%COMP%]   .responsive-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;padding:15px}nav[_ngcontent-%COMP%]   .responsive-menu-show[_ngcontent-%COMP%]{transform:translateY(250px)}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0!important}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .burguer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0!important}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .burguer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;margin:0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .no-burguer[_ngcontent-%COMP%]{display:none}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{letter-spacing:3px;text-transform:capitalize;font-weight:600;font-size:15px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#fff;color:#fff}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#be0303}.date-wrapper[_ngcontent-%COMP%]{position:relative;border-radius:10px}.date-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important;height:25px}.date-wrapper[_ngcontent-%COMP%]   .input-date[_ngcontent-%COMP%]{max-width:120px;background-color:#fafafa;border:none;color:rgba(97,97,97,.384);font-size:12px;border-radius:10px;padding-left:25px}.date-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#949494;transition:all .3s ease-in-out}.date-wrapper[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]{position:absolute;left:0}.date-wrapper[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 0 0 5px!important}.date-wrapper[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#be0303}.date-wrapper[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{position:absolute;right:0;cursor:pointer;padding:1px 1px 1px 5px;border-top-right-radius:9px;border-bottom-right-radius:9px;background-color:rgba(23,55,124,.507)}.date-wrapper[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.date-wrapper[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]:hover, .date-wrapper[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:rgba(11,31,143,.473)}@media (min-width:768px){.burguer[_ngcontent-%COMP%]{display:none}.no-burguer[_ngcontent-%COMP%]{display:block!important}}@media (min-width:992px){.icon-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block!important;margin-right:5px}.icon-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.icon-wrapper[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{color:green;font-size:18px;cursor:pointer;transition:all .3s ease-in-out}.icon-wrapper[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]:hover{color:#03b903}.icon-wrapper[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{color:rgba(156,0,0,.842);font-size:18px;cursor:pointer;transition:all .3s ease-in-out}.icon-wrapper[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]:hover{color:#af0202}}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:unset!important}.dropdown-menu[style][_ngcontent-%COMP%]{right:0!important}']}),t})(),rS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-footer"]],decls:16,vars:0,consts:[[1,"nasa-wrapper","d-flex","justify-content-evenly","align-items-center","flex-wrap"],[1,"info","d-flex","justify-content-center","align-items-center","flex-wrap","mb-2"],["href","#",1,"navbar-brand","d-flex","justify-content-center","align-items-center"],["src","assets/nasa-logo.png","alt","nasa-logo",1,"nasa-logo"],[1,"align-self-end","m-0"],["href","https://www.nasa.gov/","target","_blank"],[1,"frs"],[1,"align-self-end","author"],["href","http://3.88.13.48/"],["routerLink","/contact",1,"text-white"]],template:function(t,e){1&t&&(r.Rb(0,"footer"),r.Rb(1,"div",0),r.Rb(2,"div",1),r.Rb(3,"a",2),r.Nb(4,"img",3),r.Qb(),r.Rb(5,"p",4),r.zc(6," All contents were provided by "),r.Rb(7,"a",5),r.zc(8,"NASA"),r.Qb(),r.zc(9," \xa9 "),r.Qb(),r.Qb(),r.Rb(10,"div",6),r.Rb(11,"p",7),r.Rb(12,"a",8),r.zc(13,"By Francisco RS 2021 \xa9 "),r.Qb(),r.Rb(14,"a",9),r.zc(15,"Contact"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},directives:[gs],styles:["footer[_ngcontent-%COMP%]{margin-top:40px;box-shadow:-1px -7px 24px 6px rgba(0,0,0,.75)}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:center;color:hsla(0,0%,100%,.288)}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;transition:all .3s ease-in-out}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#be0303}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .3s ease-in-out!important}footer[_ngcontent-%COMP%]   .nasa-wrapper[_ngcontent-%COMP%]{border-top:2px solid #be0303;padding-top:13px;background-color:rgba(39,39,39,.774)}footer[_ngcontent-%COMP%]   .nasa-wrapper[_ngcontent-%COMP%]   .nasa-logo[_ngcontent-%COMP%]{max-width:40px}footer[_ngcontent-%COMP%]   .nasa-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Cinzel Decorative,cursive;text-shadow:4px 4px 5px rgba(0,0,0,.54);color:#fff;font-size:18px}footer[_ngcontent-%COMP%]   .nasa-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}footer[_ngcontent-%COMP%]   .frs[_ngcontent-%COMP%]{font-size:12px;padding:6px 0;width:100%;background-color:#272727}footer[_ngcontent-%COMP%]   .frs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.288)}@media (min-width:992px){.author[_ngcontent-%COMP%]{padding-left:30px}}"]}),t})(),iS=(()=>{class t{constructor(){this.title="nasaImgApp"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(r.Nb(0,"app-navbar"),r.Rb(1,"div",0),r.Nb(2,"router-outlet"),r.Qb(),r.Nb(3,"app-footer"))},directives:[nS,bs,rS],styles:[""]}),t})();const sS={apiKey:"AIzaSyDbr9CLaDPd75ULZode5FEgz6heB6xtJo8",authDomain:"nasaimageday.firebaseapp.com",projectId:"nasaimageday",storageBucket:"nasaimageday.appspot.com",messagingSenderId:"61058484349",appId:"1:61058484349:web:df9396c9058d953a914914"};function oS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",1),r.bc("click",function(){return r.sc(t),r.dc().goToTop()}),r.Nb(1,"img",2),r.Qb()}}let aS=(()=>{class t{constructor(t){this.document=t,this.showRocket=!1}onScroll(){const t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.showRocket=t>500}ngOnInit(){}goToTop(){this.document.body.scrollIntoView({block:"start",behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-scroll-to-top"]],hostBindings:function(t,e){1&t&&r.bc("scroll",function(t){return e.onScroll(t)},!1,r.rc)},decls:1,vars:1,consts:[["class","go-top",3,"click",4,"ngIf"],[1,"go-top",3,"click"],["src","assets/rocket.png","alt","icon-top"]],template:function(t,e){1&t&&r.xc(0,oS,2,0,"div",0),2&t&&r.ic("ngIf",e.showRocket)},directives:[ht],styles:[".go-top[_ngcontent-%COMP%]{border-radius:50%;background-color:rgba(0,0,0,.137);position:fixed;bottom:20px;right:20px;text-align:center;animation-name:fly;animation-duration:4s;animation-iteration-count:infinite;animation-timing-function:linear;cursor:pointer}.go-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:38px}@keyframes fly{0%{transform:translateY(0)}25%{transform:translateY(-5px)}50%{transform:translateY(-10px)}75%{transform:translateY(-15px)}to{transform:translateY(0)}}"]}),t})();const uS=function(t){return{show:t}};let cS=(()=>{class t{constructor(){this.show=!0}ngOnInit(){localStorage.getItem("data")&&(this.show=!1)}saveCookie(){this.show=!1,localStorage.getItem("data")||localStorage.setItem("data",JSON.stringify({data:"saved",test:"ok"}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-cookies-advert"]],decls:8,vars:3,consts:[[1,"row"],[1,"cookie-advertising",3,"ngClass"],["href","#"],[1,"btn","btn-secondary",3,"click"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"p"),r.zc(3," This website uses cookies to ensure you get the best experience on our website "),r.Rb(4,"a",2),r.zc(5,"More info"),r.Qb(),r.Qb(),r.Rb(6,"button",3),r.bc("click",function(){return e.saveCookie()}),r.zc(7,"Agree"),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(1),r.ic("ngClass",r.mc(1,uS,e.show)))},directives:[at],styles:[".cookie-advertising[_ngcontent-%COMP%]{padding:10px 15px;display:grid;grid-template-columns:1fr 100px;align-items:center;position:fixed;bottom:-100px;left:0;right:0;background-color:rgba(0,0,0,.911);transition:all .5s ease-in-out}.cookie-advertising[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#fff}.cookie-advertising[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:#ffc400;color:#000;font-size:18px;height:40px}.show[_ngcontent-%COMP%]{transform:translateY(-100px)}"]}),t})(),lS=(()=>{class t{constructor(){this.loader="assets/loading-gif-grey.gif"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-loading"]],inputs:{message:"message"},decls:6,vars:2,consts:[[1,"loading","mt-5"],[1,"loading-box"],[1,"text-center"],[3,"src"],[1,"loadin-image"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"h5",2),r.zc(3),r.Qb(),r.Nb(4,"img",3),r.Nb(5,"div",4),r.Qb(),r.Qb()),2&t&&(r.Ab(3),r.Ac(e.message),r.Ab(1),r.ic("src",e.loader,r.uc))},styles:[".loading[_ngcontent-%COMP%]{z-index:1000;position:fixed;background-color:rgba(0,0,0,.781);height:100vh;width:100vw;top:0;left:0;right:0;bottom:0;filter:grayscale(.9) brightness(.7)}.loading[_ngcontent-%COMP%]   .loading-box[_ngcontent-%COMP%]{position:fixed;background-color:hsla(0,0%,50.2%,.651);width:200px;height:120px;left:calc(50% - 100px);top:calc(50% - 150px);border-radius:3px;box-shadow:1px 1px 18px 6px rgba(0,0,0,.75)}.loading[_ngcontent-%COMP%]   .loading-box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-top:35px;color:#fff;text-shadow:7px 5px 7px rgba(0,0,0,.64)}.loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{text-align:center;display:block;max-width:25px;margin:0 auto}"]}),t})(),hS=(()=>{class t{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Xt))},t.\u0275pipe=r.Lb({name:"safeUrl",type:t,pure:!0}),t})();function fS(t,e){if(1&t&&(r.Rb(0,"div"),r.Nb(1,"app-loading",2),r.Qb()),2&t){const t=r.dc();r.Ab(1),r.ic("message",t.message2)}}const dS=function(t){return["/search/",t]};function pS(t,e){if(1&t&&(r.Rb(0,"div",15),r.Nb(1,"img",16),r.Qb()),2&t){const t=r.dc().$implicit;r.Ab(1),r.ic("src",t.url,r.uc)("alt",t.url)("routerLink",r.mc(3,dS,t.date))}}function gS(t,e){if(1&t&&(r.Nb(0,"iframe",17),r.ec(1,"safeUrl")),2&t){const t=r.dc().$implicit;r.ic("src",r.fc(1,1,t.url),r.tc)}}function mS(t,e){if(1&t&&(r.Rb(0,"span"),r.zc(1),r.Qb()),2&t){const t=r.dc().$implicit;r.Ab(1),r.Bc(" by ",t.copyright,"")}}function yS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",20),r.bc("click",function(){r.sc(t);const e=r.dc(2).$implicit;return r.dc(2).saveImage(e)}),r.Nb(1,"i",21),r.Qb()}}function bS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",20),r.bc("click",function(){r.sc(t);const e=r.dc(2),n=e.index,i=e.$implicit;return r.dc(2).deleteImage(n,i.date)}),r.Nb(1,"i",22),r.Qb()}}function vS(t,e){if(1&t&&(r.Rb(0,"div",18),r.xc(1,yS,2,0,"button",19),r.xc(2,bS,2,0,"button",19),r.Qb()),2&t){const t=r.dc(3);r.Ab(1),r.ic("ngIf",!t.canDelete),r.Ab(1),r.ic("ngIf",t.canDelete)}}function _S(t,e){if(1&t&&(r.Rb(0,"div",5),r.Rb(1,"h5",6),r.zc(2),r.ec(3,"date"),r.Qb(),r.xc(4,pS,2,5,"div",7),r.xc(5,gS,2,3,"ng-template",null,8,r.yc),r.Rb(7,"div",9),r.Rb(8,"h5",10),r.zc(9),r.Qb(),r.Rb(10,"p",11),r.zc(11),r.Qb(),r.Qb(),r.Rb(12,"div",12),r.Rb(13,"small",13),r.zc(14),r.xc(15,mS,2,1,"span",0),r.Qb(),r.Qb(),r.xc(16,vS,3,2,"div",14),r.ec(17,"async"),r.Qb()),2&t){const t=e.$implicit,n=r.qc(6),i=r.dc(2);r.Ab(2),r.Ac(r.fc(3,8,t.date)),r.Ab(2),r.ic("ngIf","image"==t.media_type)("ngIfElse",n),r.Ab(5),r.Ac(t.title),r.Ab(2),r.Ac(t.explanation),r.Ab(3),r.Bc("Taken on ",t.date,""),r.Ab(1),r.ic("ngIf",t.copyright),r.Ab(1),r.ic("ngIf",r.fc(17,10,i.auth.user))}}function wS(t,e){if(1&t&&(r.Rb(0,"div",3),r.xc(1,_S,18,12,"div",4),r.Qb()),2&t){const t=r.dc();r.Ab(1),r.ic("ngForOf",t.nasaData)}}let OS=(()=>{class t{constructor(t,e){this.auth=t,this.nasaService=e,this.isSaving=!1,this.message2="Saving, please wait"}ngOnInit(){}saveImage(t){return eo(this,void 0,void 0,function*(){this.isSaving=!0,yield this.nasaService.saveImage(t).then(t=>{t&&setTimeout(()=>{this.isSaving=!1},500)})})}deleteImage(t,e){return eo(this,void 0,void 0,function*(){yield this.nasaService.deleteImage(t,e).catch(t=>console.error(t))})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Xs),r.Mb(W_))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-grid"]],inputs:{nasaData:"nasaData",canDelete:"canDelete"},decls:2,vars:2,consts:[[4,"ngIf"],["class","card-group",4,"ngIf"],[3,"message"],[1,"card-group"],["class","card card-link",4,"ngFor","ngForOf"],[1,"card","card-link"],[1,"mt-3","text-center"],["class","media",4,"ngIf","ngIfElse"],["videoBlock",""],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer"],[1,"text-muted"],["class","card-footer d-flex justify-content-end",4,"ngIf"],[1,"media"],[1,"card-img-top",3,"src","alt","routerLink"],["height","400",1,"card-img-top",3,"src"],[1,"card-footer","d-flex","justify-content-end"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-heart"],[1,"fas","fa-trash"]],template:function(t,e){1&t&&(r.xc(0,fS,2,1,"div",0),r.xc(1,wS,2,1,"div",1)),2&t&&(r.ic("ngIf",e.isSaving),r.Ab(1),r.ic("ngIf",e.nasaData.length>0))},directives:[ht,lS,ct,ps],pipes:[Ot,wt,hS],styles:[".card-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:6fr;row-gap:20px;column-gap:20px}.card-link[_ngcontent-%COMP%]{cursor:pointer;margin:0;border:0}@media (min-width:992px){.card-group[_ngcontent-%COMP%]{grid-template-columns:6fr 6fr}}"]}),t})();function ES(t,e){if(1&t&&(r.Rb(0,"div"),r.Nb(1,"app-loading",5),r.Qb()),2&t){const t=r.dc();r.Ab(1),r.ic("message",t.message)}}function CS(t,e){if(1&t&&r.Nb(0,"app-grid",6),2&t){const t=r.dc();r.ic("nasaData",t.images)("canDelete",t.canDelete)}}function SS(t,e){1&t&&(r.Rb(0,"h4",7),r.zc(1,"*No results, try to add some images"),r.Qb())}let xS=(()=>{class t{constructor(t,e,n){this.firestore=t,this.router=e,this.auth=n,this.userID="",this.images=[],this.url="assets/mars-trip.jpeg",this.isLoading=!1,this.message="Loading, please wait",this.canDelete=!0}ngOnInit(){this.isLoading=!0,this.auth.authState.subscribe(t=>{t?(this.userID=t.uid,this.favouritesCollection=this.firestore.collection("favourites").doc(t.uid).collection("fav").valueChanges(),this.favouritesCollection.subscribe(t=>{this.images=t,setTimeout(()=>{this.isLoading=!1},500)})):this.router.navigateByUrl("/home")})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(G_),r.Mb(ds),r.Mb(Xs))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-favourites"]],decls:10,vars:4,consts:[[4,"ngIf"],[1,"background",3,"src"],[1,"my-5"],[3,"nasaData","canDelete",4,"ngIf","ngIfElse"],["nodata",""],[3,"message"],[3,"nasaData","canDelete"],[1,"text-center"]],template:function(t,e){if(1&t&&(r.xc(0,ES,2,1,"div",0),r.Nb(1,"img",1),r.Rb(2,"h3",2),r.Rb(3,"a"),r.zc(4,"Your Favourites"),r.Qb(),r.Qb(),r.xc(5,CS,1,2,"app-grid",3),r.xc(6,SS,2,0,"ng-template",null,4,r.yc),r.Nb(8,"app-scroll-to-top"),r.Nb(9,"app-cookies-advert")),2&t){const t=r.qc(7);r.ic("ngIf",e.isLoading),r.Ab(1),r.ic("src",e.url,r.uc),r.Ab(4),r.ic("ngIf",e.images.length>0)("ngIfElse",t)}},directives:[ht,aS,cS,lS,OS],styles:["h3[_ngcontent-%COMP%]{text-align:center}h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .3s ease-in-out;text-decoration:none;color:#bbb;cursor:pointer}h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e42222}.background[_ngcontent-%COMP%]{z-index:-1;position:fixed;left:0;right:0;top:0;bottom:0;height:100vh;width:100vw;filter:grayscale(.7) blur(5px) brightness(.6);background-position:50%;background-size:cover}"]}),t})();class TS{}const kS="*";function IS(t,e){return{type:7,name:t,definitions:e,options:{}}}function AS(t,e=null){return{type:4,styles:e,timings:t}}function DS(t,e=null){return{type:2,steps:t,options:e}}function jS(t){return{type:6,styles:t,offset:null}}function PS(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function NS(t){Promise.resolve(null).then(t)}class RS{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){NS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class MS{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?NS(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function LS(t,e){if(1&t&&(r.Rb(0,"div"),r.Nb(1,"app-loading",9),r.Qb()),2&t){const t=r.dc();r.Ab(1),r.ic("message",t.message)}}function FS(t,e){if(1&t&&(r.Rb(0,"div"),r.Nb(1,"app-loading",9),r.Qb()),2&t){const t=r.dc();r.Ab(1),r.ic("message",t.message2)}}const VS=function(t){return{visibility:t}};function US(t,e){if(1&t){const t=r.Sb();r.Rb(0,"img",10),r.bc("load",function(){return r.sc(t),r.dc().hideLoader()})("error",function(){return r.sc(t),r.dc().hideLoader()}),r.Qb()}if(2&t){const t=r.dc();r.ic("src",t.infoNasa.url,r.uc)("ngStyle",r.mc(2,VS,t.isLoading?"hidden":""))}}function zS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"img",10),r.bc("load",function(){return r.sc(t),r.dc().hideLoader()})("error",function(){return r.sc(t),r.dc().hideLoader()}),r.Qb()}if(2&t){const t=r.dc();r.ic("src",t.video,r.uc)("ngStyle",r.mc(2,VS,t.isLoading?"hidden":""))}}function HS(t,e){if(1&t&&(r.Rb(0,"div",23),r.Rb(1,"a",24),r.Nb(2,"img",25),r.Qb(),r.Qb()),2&t){const t=r.dc(3);r.Ab(1),r.ic("href",t.infoNasa.hdurl,r.uc),r.Ab(1),r.ic("src",t.infoNasa.url,r.uc)("alt",t.infoNasa.title)}}function qS(t,e){if(1&t&&(r.Nb(0,"iframe",26),r.ec(1,"safeUrl")),2&t){const t=r.dc(3);r.ic("src",r.fc(1,1,t.infoNasa.url),r.tc)}}function BS(t,e){if(1&t&&(r.Rb(0,"span"),r.zc(1),r.Qb()),2&t){const t=r.dc(3);r.Ab(1),r.Bc(" by ",t.infoNasa.copyright,"")}}function $S(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",27),r.Rb(1,"button",28),r.bc("click",function(){r.sc(t);const e=r.dc(3);return e.saveImage(e.infoNasa)}),r.Nb(2,"i",29),r.Qb(),r.Qb()}}function GS(t,e){if(1&t&&(r.Rb(0,"div",12),r.Rb(1,"h2",13),r.zc(2),r.ec(3,"date"),r.Qb(),r.Rb(4,"div",14),r.xc(5,HS,3,3,"div",15),r.xc(6,qS,2,3,"ng-template",null,16,r.yc),r.Rb(8,"div",17),r.Rb(9,"h5",18),r.zc(10),r.Qb(),r.Rb(11,"p",19),r.zc(12),r.Qb(),r.Qb(),r.Rb(13,"div",20),r.Rb(14,"small",21),r.zc(15),r.ec(16,"date"),r.xc(17,BS,2,1,"span",0),r.Qb(),r.Qb(),r.xc(18,$S,3,0,"div",22),r.ec(19,"async"),r.Qb(),r.Qb()),2&t){const t=r.qc(7),e=r.dc(2);r.Ab(2),r.Ac(r.fc(3,8,e.infoNasa.date)),r.Ab(3),r.ic("ngIf","image"==e.type)("ngIfElse",t),r.Ab(5),r.Ac(e.infoNasa.title),r.Ab(2),r.Ac(e.infoNasa.explanation),r.Ab(3),r.Bc("Taken on ",r.fc(16,10,e.infoNasa.date),""),r.Ab(2),r.ic("ngIf",e.infoNasa.copyright),r.Ab(1),r.ic("ngIf",r.fc(19,12,e.auth.user))}}function QS(t,e){if(1&t&&(r.Rb(0,"div"),r.xc(1,GS,20,14,"div",11),r.Qb()),2&t){const t=r.dc();r.ic("@fadeSlideGrowKeyframe",void 0),r.Ab(1),r.ic("ngIf",t.infoNasa)}}let WS=(()=>{class t{constructor(t,e){this.auth=t,this.nasaService=e,this.isLoading=!1,this.isSaving=!1,this.message="Loading, please wait",this.message2="Saving, please wait",this.type="image",this.video="assets/mars-trip.jpeg"}ngOnInit(){this.isLoading=!0,this.lastDate=this.infoNasa.date}hideLoader(){setTimeout(()=>{this.isLoading=!1,this.type=this.infoNasa.media_type},300)}ngOnChanges(){this.isLoading=!0,this.lastDate=this.infoNasa.date}saveImage(t){return eo(this,void 0,void 0,function*(){this.isSaving=!0,yield this.nasaService.saveImage(t).then(t=>{t&&setTimeout(()=>{this.isSaving=!1},500)})})}btnLeft(){let t=new Date(this.lastDate);1==t.getDate()?(this.isLoading=!0,t.setMonth(t.getMonth()),t.setDate(0),this.nasaService.getImageDay(`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`).subscribe(t=>{this.isLoading=!1,this.infoNasa=t,this.lastDate=t.date,this.type=t.media_type,setTimeout(()=>{},300)})):(this.isLoading=!0,this.nasaService.getImageDay(`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()-1}`).subscribe(t=>{this.infoNasa=t,this.lastDate=t.date,this.type=t.media_type,setTimeout(()=>{this.isLoading=!1},300)}))}btnRight(){var t=this.formatDate(new Date((new Date).valueOf()-86350989));if(!(this.formatDate(this.lastDate)>=t)){this.isLoading=!0;var e=this.formatDate(new Date(new Date(this.lastDate).valueOf()+86350989));this.nasaService.getImageDay(e).subscribe(t=>{this.infoNasa=t,this.lastDate=t.date,this.type=t.media_type,setTimeout(()=>{this.isLoading=!1},300)})}}formatDate(t){var e=new Date(t),n=""+(e.getMonth()+1),r=""+e.getDate(),i=e.getFullYear();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),[i,n,r].join("-")}}var e;return t.\u0275fac=function(e){return new(e||t)(r.Mb(Xs),r.Mb(W_))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-image"]],inputs:{infoNasa:"infoNasa"},features:[r.yb],decls:12,vars:5,consts:[[4,"ngIf"],["class","background",3,"src","ngStyle","load","error",4,"ngIf","ngIfElse"],["videoBg",""],[1,"btn-left-wrapper","d-flex","align-items-center"],[1,"btn-left",3,"click"],[1,"fas","fa-chevron-left"],[1,"btn-right-wrapper","d-flex","align-items-center"],[1,"btn-right",3,"click"],[1,"fas","fa-chevron-right"],[3,"message"],[1,"background",3,"src","ngStyle","load","error"],["class","p-0 card-group container image-wrapper d-flex justify-content-center flex-column",4,"ngIf"],[1,"p-0","card-group","container","image-wrapper","d-flex","justify-content-center","flex-column"],[1,"mt-3","text-center"],[1,"card","card-image","mt-4"],["class","media",4,"ngIf","ngIfElse"],["videoBlock",""],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer"],[1,"text-muted"],["class","card-footer d-flex justify-content-end",4,"ngIf"],[1,"media"],[3,"href"],[1,"card-img-top",3,"src","alt"],[1,"card-img-top",3,"src"],[1,"card-footer","d-flex","justify-content-end"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-heart"]],template:function(t,e){if(1&t&&(r.xc(0,LS,2,1,"div",0),r.xc(1,FS,2,1,"div",0),r.xc(2,US,1,4,"img",1),r.xc(3,zS,1,4,"ng-template",null,2,r.yc),r.xc(5,QS,2,2,"div",0),r.Rb(6,"div",3),r.Rb(7,"div",4),r.bc("click",function(){return e.btnLeft()}),r.Nb(8,"i",5),r.Qb(),r.Qb(),r.Rb(9,"div",6),r.Rb(10,"div",7),r.bc("click",function(){return e.btnRight()}),r.Nb(11,"i",8),r.Qb(),r.Qb()),2&t){const t=r.qc(4);r.ic("ngIf",e.isLoading),r.Ab(1),r.ic("ngIf",e.isSaving),r.Ab(1),r.ic("ngIf","image"==e.type)("ngIfElse",t),r.Ab(3),r.ic("ngIf",!e.isLoading)}},directives:[ht,lS,pt],pipes:[Ot,wt,hS],styles:["h2[_ngcontent-%COMP%]{color:#bbb}.background[_ngcontent-%COMP%]{z-index:-1;position:fixed;left:0;right:0;top:0;bottom:0;height:100vh;width:100vw;filter:grayscale(.7) blur(5px) brightness(.6);background-position:50%;background-size:cover}.image-wrapper[_ngcontent-%COMP%]{max-width:650px!important;margin:0 auto!important;cursor:pointer}.btn-left-wrapper[_ngcontent-%COMP%], .btn-right-wrapper[_ngcontent-%COMP%]{position:fixed;top:50%}.btn-left-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .btn-right-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none;color:hsla(0,0%,100%,.884)}.btn-left-wrapper[_ngcontent-%COMP%]   .btn-left[_ngcontent-%COMP%], .btn-left-wrapper[_ngcontent-%COMP%]   .btn-right[_ngcontent-%COMP%], .btn-right-wrapper[_ngcontent-%COMP%]   .btn-left[_ngcontent-%COMP%], .btn-right-wrapper[_ngcontent-%COMP%]   .btn-right[_ngcontent-%COMP%]{border-radius:50%;text-align:center;height:35px;width:35px;font-size:25px;color:hsla(0,0%,82.7%,.884);background-color:hsla(0,0%,50.2%,.267);cursor:pointer;transition:all .3s ease-in-out}.btn-left-wrapper[_ngcontent-%COMP%]   .btn-left[_ngcontent-%COMP%]:hover, .btn-left-wrapper[_ngcontent-%COMP%]   .btn-right[_ngcontent-%COMP%]:hover, .btn-right-wrapper[_ngcontent-%COMP%]   .btn-left[_ngcontent-%COMP%]:hover, .btn-right-wrapper[_ngcontent-%COMP%]   .btn-right[_ngcontent-%COMP%]:hover{color:rgba(170,5,5,.884);background-color:hsla(0,0%,50.2%,.26)}.btn-left-wrapper[_ngcontent-%COMP%]   .btn-left[_ngcontent-%COMP%], .btn-right-wrapper[_ngcontent-%COMP%]   .btn-left[_ngcontent-%COMP%]{padding-right:5px}.btn-left-wrapper[_ngcontent-%COMP%]   .btn-right[_ngcontent-%COMP%], .btn-right-wrapper[_ngcontent-%COMP%]   .btn-right[_ngcontent-%COMP%]{padding-left:5px}.btn-left-wrapper[_ngcontent-%COMP%]{left:10px}.btn-right-wrapper[_ngcontent-%COMP%]{right:10px}iframe[_ngcontent-%COMP%]{height:400px}.media[_ngcontent-%COMP%]{display:block!important}@media (min-width:992px){.btn-left-wrapper[_ngcontent-%COMP%], .btn-right-wrapper[_ngcontent-%COMP%]{position:fixed;top:50%}.btn-left-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .btn-right-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.btn-left-wrapper[_ngcontent-%COMP%]   .btn-left[_ngcontent-%COMP%], .btn-left-wrapper[_ngcontent-%COMP%]   .btn-right[_ngcontent-%COMP%], .btn-right-wrapper[_ngcontent-%COMP%]   .btn-left[_ngcontent-%COMP%], .btn-right-wrapper[_ngcontent-%COMP%]   .btn-right[_ngcontent-%COMP%]{border-radius:50%;text-align:center;height:50px;width:50px;font-size:35px;color:hsla(0,0%,82.7%,.884);background-color:hsla(0,0%,50.2%,.267);cursor:pointer;transition:all .3s ease-in-out}.btn-left-wrapper[_ngcontent-%COMP%]   .btn-left[_ngcontent-%COMP%]:hover, .btn-left-wrapper[_ngcontent-%COMP%]   .btn-right[_ngcontent-%COMP%]:hover, .btn-right-wrapper[_ngcontent-%COMP%]   .btn-left[_ngcontent-%COMP%]:hover, .btn-right-wrapper[_ngcontent-%COMP%]   .btn-right[_ngcontent-%COMP%]:hover{color:rgba(170,5,5,.884);background-color:hsla(0,0%,50.2%,.26)}.btn-left-wrapper[_ngcontent-%COMP%]   .btn-left[_ngcontent-%COMP%], .btn-right-wrapper[_ngcontent-%COMP%]   .btn-left[_ngcontent-%COMP%]{padding-right:7px}.btn-left-wrapper[_ngcontent-%COMP%]   .btn-right[_ngcontent-%COMP%], .btn-right-wrapper[_ngcontent-%COMP%]   .btn-right[_ngcontent-%COMP%]{padding-left:7px}.btn-left-wrapper[_ngcontent-%COMP%]{left:10px}.btn-right-wrapper[_ngcontent-%COMP%]{right:10px}}"],data:{animation:[IS("fadeSlideGrowKeyframe",[PS(":enter",[jS({opacity:0,transform:"scale(0.2) translateY(50px)"}),AS("500ms",(e=[jS({opacity:1,offset:.3}),jS({transform:"translateY(0)",offset:.6}),jS({transform:"scale(1)",offset:1})],{type:5,steps:e}))])])]}}),t})();function KS(t,e){if(1&t&&(r.Rb(0,"div"),r.Nb(1,"app-image",1),r.Qb()),2&t){const t=r.dc();r.Ab(1),r.ic("infoNasa",t.infoNasa)}}let YS=(()=>{class t{constructor(t){this.nasaService=t}ngOnInit(){let t=new Date;1==t.getDate()&&(t.setMonth(t.getMonth()),t.setDate(0)),this.nasaService.getImageDay(`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`).subscribe(t=>{this.infoNasa=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(W_))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-home"]],decls:3,vars:1,consts:[[4,"ngIf"],[3,"infoNasa"]],template:function(t,e){1&t&&(r.xc(0,KS,2,1,"div",0),r.Nb(1,"app-scroll-to-top"),r.Nb(2,"app-cookies-advert")),2&t&&r.ic("ngIf",e.infoNasa)},directives:[ht,aS,cS,WS],styles:[""]}),t})();function JS(t,e){if(1&t&&(r.Rb(0,"div"),r.Nb(1,"app-loading",5),r.Qb()),2&t){const t=r.dc();r.Ab(1),r.ic("message",t.message)}}function ZS(t,e){if(1&t&&r.Nb(0,"app-grid",6),2&t){const t=r.dc();r.ic("nasaData",t.nasaData)}}let XS=(()=>{class t{constructor(t){this.nasaService=t,this.nasaData=[],this.isLoading=!1,this.url="assets/mars-trip.jpeg",this.message="Loading, please wait"}ngOnInit(){this.isLoading=!0,this.getContent()}getContent(){this.isLoading=!0,this.nasaService.getRandom().subscribe(t=>{this.nasaData=t,setTimeout(()=>{this.isLoading=!1},1500)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(W_))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-random"]],decls:8,vars:3,consts:[[4,"ngIf"],[1,"background",3,"src"],[1,"my-5"],[3,"click"],[3,"nasaData",4,"ngIf"],[3,"message"],[3,"nasaData"]],template:function(t,e){1&t&&(r.xc(0,JS,2,1,"div",0),r.Nb(1,"img",1),r.Rb(2,"h3",2),r.Rb(3,"a",3),r.bc("click",function(){return e.getContent()}),r.zc(4,"Click me to randomize!"),r.Qb(),r.Qb(),r.xc(5,ZS,1,1,"app-grid",4),r.Nb(6,"app-scroll-to-top"),r.Nb(7,"app-cookies-advert")),2&t&&(r.ic("ngIf",e.isLoading),r.Ab(1),r.ic("src",e.url,r.uc),r.Ab(4),r.ic("ngIf",e.nasaData.length>0))},directives:[ht,aS,cS,lS,OS],styles:["h3[_ngcontent-%COMP%]{text-align:center}h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .3s ease-in-out;text-decoration:none;color:#bbb;cursor:pointer}h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e42222}.background[_ngcontent-%COMP%]{z-index:-1;position:fixed;left:0;right:0;top:0;bottom:0;height:100vh;width:100vw;filter:grayscale(.7) blur(5px) brightness(.6);background-position:50%;background-size:cover}"]}),t})();function tx(t,e){if(1&t&&(r.Rb(0,"div"),r.Nb(1,"app-image",1),r.Qb()),2&t){const t=r.dc();r.Ab(1),r.ic("infoNasa",t.infoNasa)}}let ex=(()=>{class t{constructor(t,e,n){this.activatedRoute=t,this.router=e,this.nasaService=n}ngOnInit(){this.activatedRoute.params.subscribe(t=>{if(Date.parse(t.id)){let e=new Date;this.fullDate=new Date(t.id),e>this.fullDate?this.nasaService.getImageDay(`${this.fullDate.getFullYear()}-${this.fullDate.getMonth()+1}-${this.fullDate.getDate()}`).subscribe(t=>{this.infoNasa=t}):this.router.navigateByUrl("home")}else this.router.navigateByUrl("home")})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Wr),r.Mb(ds),r.Mb(W_))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-search"]],decls:3,vars:1,consts:[[4,"ngIf"],[3,"infoNasa"]],template:function(t,e){1&t&&(r.xc(0,tx,2,1,"div",0),r.Nb(1,"app-scroll-to-top"),r.Nb(2,"app-cookies-advert")),2&t&&r.ic("ngIf",e.infoNasa)},directives:[ht,aS,cS,WS],styles:[""]}),t})();var nx=n("mCNh");const rx=Object(de.a)(t=>!!t);let ix=(()=>{class t{constructor(t,e){this.router=t,this.auth=e,this.canActivate=(t,e)=>{const n=t.data.authGuardPipe||(()=>rx);return this.auth.user.pipe(yn(1),n(t,e),Object(de.a)(t=>"boolean"==typeof t?t:Array.isArray(t)?this.router.createUrlTree(t):this.router.parseUrl(t)))}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ds),r.Yb(Xs))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(ds),Object(r.Yb)(Xs))},token:t,providedIn:"any"}),t})();Object(de.a)(t=>!!t&&!t.isAnonymous);const sx=dn(t=>t?t.getIdTokenResult():Object(se.a)(null));Object(de.a)(t=>!!t&&t.emailVerified),Object(nx.a)(sx,Object(de.a)(t=>t?t.claims:[]));const ox=[{path:"home",component:YS},{path:"search/:id",component:ex},{path:"favourites",component:xS,canActivate:[ix]},{path:"random",component:XS},{path:"contact",component:(()=>{class t{constructor(){this.bg="assets/mars-trip.jpeg",this.user={email:"",name:"",country:"",zip:0,age:0,sex:"",text:"",gamer:!1}}ngOnInit(){}onSubmit(){console.log(this.user)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-contact"]],decls:56,vars:9,consts:[[1,"background",3,"src"],[1,"text-center","text-white","my-5"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"row"],[1,"form-group","col-md-6"],["for","email"],["name","email","type","email","id","email","placeholder","Enter email",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["for","name"],["name","name","type","text","id","name","placeholder","Enter your name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],[1,"form-group","col-md-3"],["for","country"],["name","country","type","text","id","country","placeholder","City",1,"form-control",3,"ngModel","ngModelChange"],["country","ngModel"],["for","zipcode"],["name","zip","type","number","id","zipcode","placeholder","Zip Code",1,"form-control",3,"ngModel","ngModelChange"],["zip","ngModel"],["for","age"],["name","age","type","number","id","age","placeholder","Age",1,"form-control",3,"ngModel","ngModelChange"],["age","ngModel"],["for","exampleInputEmail1"],["name","sex",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["sex","ngModel"],[1,"col-md-12"],["name","text",3,"ngModel","ngModelChange"],["text","ngModel"],[1,"form-check"],["name","gamer","type","checkbox","id","gamer",1,"form-check-input",3,"ngModel","ngModelChange"],["gamer","ngModel"],["for","gamer",1,"form-check-label"],[1,"submit","mt-5","d-flex","flex-row-reverse"],["type","submit",1,"btn","btn-primary"]],template:function(t,e){1&t&&(r.Nb(0,"img",0),r.Rb(1,"h2",1),r.zc(2,"Contact"),r.Qb(),r.Rb(3,"form",2,3),r.bc("ngSubmit",function(){return e.onSubmit()}),r.Rb(5,"div",4),r.Rb(6,"div",5),r.Rb(7,"label",6),r.zc(8,"Email address"),r.Qb(),r.Rb(9,"input",7,8),r.bc("ngModelChange",function(t){return e.user.email=t}),r.Qb(),r.Qb(),r.Rb(11,"div",5),r.Rb(12,"label",9),r.zc(13,"Name"),r.Qb(),r.Rb(14,"input",10,11),r.bc("ngModelChange",function(t){return e.user.name=t}),r.Qb(),r.Qb(),r.Qb(),r.Rb(16,"div",4),r.Rb(17,"div",12),r.Rb(18,"label",13),r.zc(19,"Country"),r.Qb(),r.Rb(20,"input",14,15),r.bc("ngModelChange",function(t){return e.user.country=t}),r.Qb(),r.Qb(),r.Rb(22,"div",12),r.Rb(23,"label",16),r.zc(24,"Zip Code"),r.Qb(),r.Rb(25,"input",17,18),r.bc("ngModelChange",function(t){return e.user.zip=t}),r.Qb(),r.Qb(),r.Rb(27,"div",12),r.Rb(28,"label",19),r.zc(29,"Age"),r.Qb(),r.Rb(30,"input",20,21),r.bc("ngModelChange",function(t){return e.user.age=t}),r.Qb(),r.Qb(),r.Rb(32,"div",12),r.Rb(33,"label",22),r.zc(34,"Sex"),r.Qb(),r.Rb(35,"select",23,24),r.bc("ngModelChange",function(t){return e.user.sex=t}),r.Rb(37,"option"),r.zc(38,"Male"),r.Qb(),r.Rb(39,"option"),r.zc(40,"Female"),r.Qb(),r.Rb(41,"option"),r.zc(42,"Other"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(43,"div",4),r.Rb(44,"div",25),r.Rb(45,"textarea",26,27),r.bc("ngModelChange",function(t){return e.user.text=t}),r.Qb(),r.Qb(),r.Qb(),r.Rb(47,"div",28),r.Rb(48,"input",29,30),r.bc("ngModelChange",function(t){return e.user.gamer=t}),r.Qb(),r.Rb(50,"label",31),r.zc(51,"Gamer"),r.Qb(),r.Qb(),r.Rb(52,"div",32),r.Rb(53,"button",33),r.zc(54,"Send"),r.Qb(),r.Qb(),r.Qb(),r.Nb(55,"app-cookies-advert")),2&t&&(r.ic("src",e.bg,r.uc),r.Ab(9),r.ic("ngModel",e.user.email),r.Ab(5),r.ic("ngModel",e.user.name),r.Ab(6),r.ic("ngModel",e.user.country),r.Ab(5),r.ic("ngModel",e.user.zip),r.Ab(5),r.ic("ngModel",e.user.age),r.Ab(5),r.ic("ngModel",e.user.sex),r.Ab(10),r.ic("ngModel",e.user.text),r.Ab(3),r.ic("ngModel",e.user.gamer))},directives:[RO,Ww,DO,Tw,Qw,NO,Yw,iO,sO,cO,Cw,cS],styles:[".background[_ngcontent-%COMP%]{z-index:-1;position:fixed;left:0;right:0;top:0;bottom:0;height:100vh;width:100vw;filter:grayscale(.7) blur(5px) brightness(.6);background-position:50%;background-size:cover}form[_ngcontent-%COMP%]{color:#fff}textarea[_ngcontent-%COMP%]{width:100%;min-height:200px}"]}),t})()},{path:"**",pathMatch:"full",redirectTo:"home"}];let ax=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[ks.forRoot(ox,{useHash:!0})],ks]}),t})();function ux(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function cx(t){switch(t.length){case 0:return new RS;case 1:return t[0];default:return new MS(t)}}function lx(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case kS:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function hx(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&fx(n,"start",t)));break;case"done":t.onDone(()=>r(n&&fx(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&fx(n,"destroy",t)))}}function fx(t,e,n){const r=n.totalTime,i=dx(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function dx(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function px(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function gx(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let mx=(t,e)=>!1,yx=(t,e)=>!1,bx=(t,e,n)=>[];const vx=ux();(vx||"undefined"!=typeof Element)&&(mx=(t,e)=>t.contains(e),yx=(()=>{if(vx||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):yx}})(),bx=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let _x=null,wx=!1;function Ox(t){_x||(_x=("undefined"!=typeof document?document.body:null)||{},wx=!!_x.style&&"WebkitAppearance"in _x.style);let e=!0;return _x.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in _x.style,!e&&wx)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in _x.style),e}const Ex=yx,Cx=mx,Sx=bx;function xx(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Tx=(()=>{class t{validateStyleProperty(t){return Ox(t)}matchesElement(t,e){return Ex(t,e)}containsElement(t,e){return Cx(t,e)}query(t,e,n){return Sx(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new RS(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),kx=(()=>{class t{}return t.NOOP=new Tx,t})();const Ix="ng-enter",Ax="ng-leave",Dx="ng-trigger",jx=".ng-trigger",Px="ng-animating",Nx=".ng-animating";function Rx(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Mx(parseFloat(e[1]),e[2])}function Mx(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Lx(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Mx(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Mx(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Fx(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Vx(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Fx(t,n);return n}function Ux(t,e,n){return n?e+":"+n+";":""}function zx(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Ux(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Ux(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Hx(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Yx(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),ux()&&zx(t))}function qx(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Yx(e);t.style[n]=""}),ux()&&zx(t))}function Bx(t){return Array.isArray(t)?1==t.length?t[0]:DS(t):t}const $x=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gx(t){let e=[];if("string"==typeof t){let n;for(;n=$x.exec(t);)e.push(n[1]);$x.lastIndex=0}return e}function Qx(t,e,n){const r=t.toString(),i=r.replace($x,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Wx(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Kx=/-+([a-z0-9])/g;function Yx(t){return t.replace(Kx,(...t)=>t[1].toUpperCase())}function Jx(t,e){return 0===t||0===e}function Zx(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=tT(t,e)})}}return e}function Xx(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function tT(t,e){return window.getComputedStyle(t)[e]}const eT="*";function nT(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(sT(i,o)),"<"!=s[0]||i==eT&&o==eT||e.push(sT(o,i))}(t,n,e)):n.push(t),n}const rT=new Set(["true","1"]),iT=new Set(["false","0"]);function sT(t,e){const n=rT.has(t)||iT.has(t),r=rT.has(e)||iT.has(e);return(i,s)=>{let o=t==eT||t==i,a=e==eT||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?rT.has(t):iT.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?rT.has(e):iT.has(e)),o&&a}}const oT=new RegExp("s*:selfs*,?","g");function aT(t,e,n){return new uT(t).build(e,n)}class uT{constructor(t){this._driver=t}build(t,e){const n=new cT(e);return this._resetContextStyleTimingState(n),Xx(this,Bx(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(lT(t)){const e=t;Object.keys(e).forEach(t=>{Gx(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Wx(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Xx(this,Bx(t.animation),e);return{type:1,matchers:nT(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:hT(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Xx(this,t,e)),options:hT(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Xx(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:hT(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return fT(Lx(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=fT(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Lx(r,e),fT(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:jS({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=jS(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==kS?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(lT(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Gx(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(lT(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(lT(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Xx(this,Bx(t.animation),e),options:hT(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:hT(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:hT(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(oT,"")),[t=t.replace(/@\*/g,jx).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Nx),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,px(e.collectedStyles,e.currentQuerySelector,{});const o=Xx(this,Bx(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:hT(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Lx(t.timings,e.errors,!0);return{type:12,animation:Xx(this,Bx(t.animation),e),timings:n,options:null}}}class cT{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function lT(t){return!Array.isArray(t)&&"object"==typeof t}function hT(t){var e;return t?(t=Fx(t)).params&&(t.params=(e=t.params)?Fx(e):null):t={},t}function fT(t,e,n){return{duration:t,delay:e,easing:n}}function dT(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class pT{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gT=new RegExp(":enter","g"),mT=new RegExp(":leave","g");function yT(t,e,n,r,i,s={},o={},a,u,c=[]){return(new bT).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class bT{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new pT;const l=new _T(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Xx(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[dT(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Rx(n.duration):null,s=null!=n.delay?Rx(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Xx(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vT);const t=Rx(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Xx(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Rx(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Xx(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Lx(e.params?Qx(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Rx(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=vT);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Xx(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Xx(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const vT={};class _T{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new wT(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Rx(n.duration)),null!=n.delay&&(r.delay=Rx(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Qx(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new _T(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=vT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new OT(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(gT,"."+this._enterClassName)).replace(mT,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class wT{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new wT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||kS,this._currentKeyframe[t]=kS}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=kS})):Vx(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Qx(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:kS),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Vx(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==kS&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Wx(t.values()):[],s=e.size?Wx(e.values()):[];if(n){const t=r[0],e=Fx(t);t.offset=0,e.offset=1,r=[t,e]}return dT(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class OT extends wT{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Vx(t[0],!1);a.offset=0,i.push(a);const u=Vx(t[0],!1);u.offset=ET(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=Vx(t[r],!1);o.offset=ET((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return dT(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function ET(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class CT{}class ST extends CT{normalizePropertyName(t,e){return Yx(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(xT[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const xT=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function TT(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const kT={};class IT{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||kT,f=this.buildStyles(n,o&&o.params||kT,l),d=a&&a.params||kT,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),d)},_=c?[]:yT(t,e,this.ast.animation,i,s,f,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return TT(e,this._triggerName,n,r,b,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=px(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=px(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const O=Wx(g.values());return TT(e,this._triggerName,n,r,b,f,p,_,O,m,y,w)}}class AT{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Fx(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Qx(s,r,e)),n[t]=s})}}),n}}class DT{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new AT(t.style,t.options&&t.options.params||{})}),jT(this.states,"true","1"),jT(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new IT(t,e,this.states))}),this.fallbackTransition=new IT(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function jT(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const PT=new pT;class NT{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=aT(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=lx(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=yT(this._driver,e,i,Ix,Ax,{},{},n,PT,r),s.forEach(t=>{const e=px(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,kS)})});const a=cx(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=dx(e,"","","");return hx(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const RT="ng-animate-queued",MT="ng-animate-disabled",LT=".ng-animate-disabled",FT=[],VT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},UT={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class zT{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Fx(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const HT="void",qT=new zT(HT);class BT{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,JT(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=px(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=px(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(JT(t,Dx),JT(t,"ng-trigger-"+e),a[e]=qT),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new GT(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(JT(t,Dx),JT(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new zT(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=qT),u.value!==HT&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{qx(t,n),Hx(t,r)})}return}const c=px(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(JT(t,RT),s.onStart(()=>{ZT(t,RT)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,jx,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,HT,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&cx(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||qT,o=new zT(HT),a=new GT(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==VT||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){JT(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=dx(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,hx(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class $T{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new BT(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(QT(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!QT(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),JT(t,MT)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ZT(t,MT))}removeNode(t,e,n,r){if(QT(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return QT(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,jx,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Nx,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return cx(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=VT,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,LT)&&this.markElementAsDisabled(t,!1),this.driver.query(t,LT,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)JT(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?cx(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new pT,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=YT(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=Ix+p++;d.set(e,n),t.forEach(t=>JT(t,n))});const g=[],m=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const b=new Map,v=YT(h,Array.from(m));v.forEach((t,e)=>{const n=Ax+p++;b.set(e,n),t.forEach(t=>JT(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>ZT(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>ZT(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>qx(i,p.fromStyles)),e.onDestroy(()=>Hx(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>qx(i,p.fromStyles)),e.onDestroy(()=>Hx(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>px(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{px(O,e,[]).push(t),t.destroy()})});const C=g.filter(t=>ek(t,a,u)),S=new Map;KT(S,this.driver,y,u,kS).forEach(t=>{ek(t,a,u)&&C.push(t)});const x=new Map;f.forEach((t,e)=>{KT(x,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=S.get(t),n=x.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const T=[],k=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Hx(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=I;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,O,i,x,S);if(s.setRealPlayer(n),t===I)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=cx(e)),r.push(s)}}else qx(e,o.fromStyles),s.onDestroy(()=>Hx(e,o.toStyles)),k.push(s),c.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=cx(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(ZT(t,Ax),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Nx,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?XT(this,t,r):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==HT;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=px(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}qx(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new RS(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return tk(t,e),e}((n.get(h)||FT).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=lx(0,this._normalizer,0,e.keyframes,g,m),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new GT(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{px(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>JT(t,Px));const f=cx(h);return f.onDestroy(()=>{c.forEach(t=>ZT(t,Px)),Hx(a,e.toStyles)}),l.forEach(t=>{px(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new RS(t.duration,t.delay)}}class GT{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new RS,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>hx(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){px(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function QT(t){return t&&1===t.nodeType}function WT(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function KT(t,e,n,r,i){const s=[];n.forEach(t=>s.push(WT(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=UT,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>WT(t,s[a++])),o}function YT(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function JT(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function ZT(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function XT(t,e,n){cx(n).onDone(()=>t.processLeaveNode(e))}function tk(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof MS?tk(r.players,e):e.push(r)}}function ek(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class nk{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new $T(t,e,n),this._timelineEngine=new NT(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=aT(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new DT(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=gx(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=gx(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function rk(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=sk(e[0]),e.length>1&&(r=sk(e[e.length-1]))):e&&(n=sk(e)),n||r?new ik(t,n,r):null}let ik=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Hx(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hx(this._element,this._initialStyles),this._endStyles&&(Hx(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(qx(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qx(this._element,this._endStyles),this._endStyles=null),Hx(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function sk(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];ok(i)&&(e=e||{},e[i]=t[i])}return e}function ok(t){return"display"===t||"position"===t}const ak="animation",uk="animationend";class ck{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=gk(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),pk(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),dk(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){lk(this._element,this._name,"paused")}resume(){lk(this._element,this._name,"running")}setPosition(t){const e=hk(this._element,this._name);this._position=t*this._duration,pk(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),dk(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=gk(t,"").split(","),r=fk(n,e);r>=0&&(n.splice(r,1),pk(t,"",n.join(",")))}(this._element,this._name))}}function lk(t,e,n){pk(t,"PlayState",n,hk(t,e))}function hk(t,e){const n=gk(t,"");return n.indexOf(",")>0?fk(n.split(","),e):fk([n],e)}function fk(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function dk(t,e,n){n?t.removeEventListener(uk,e):t.addEventListener(uk,e)}function pk(t,e,n,r){const i=ak+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function gk(t,e){return t.style[ak+e]||""}class mk{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ck(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:tT(this.element,n))})}this.currentSnapshot=t}}class yk extends RS{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=xx(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class bk{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Ox(t)}matchesElement(t,e){return Ex(t,e)}containsElement(t,e){return Cx(t,e)}query(t,e,n){return Sx(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>xx(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof mk),u={};Jx(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Zx(t,e,u));if(0==n)return new yk(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=rk(t,e),d=new mk(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class vk{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:tT(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class _k{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(wk().toString()),this._cssKeyframesDriver=new bk}validateStyleProperty(t){return Ox(t)}matchesElement(t,e){return Ex(t,e)}containsElement(t,e){return Cx(t,e)}query(t,e,n){return Sx(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof vk);Jx(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=rk(t,e=Zx(t,e=e.map(t=>Vx(t,!1)),u));return new vk(t,e,a,l)}}function wk(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Ok=(()=>{class t extends TS{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?DS(t):t;return Sk(this._renderer,null,e,"register",[n]),new Ek(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.F),r.Yb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Ek extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ck(this._id,t,e||{},this._renderer)}}class Ck{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Sk(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Sk(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const xk="@",Tk="@.disabled";let kk=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Ik("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Ak(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.F),r.Yb(nk),r.Yb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Ik{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==xk&&e==Tk?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Ak extends Ik{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==xk?"."==e.charAt(1)&&e==Tk?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==xk){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=xk&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Dk=(()=>{class t extends nk{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(kx),r.Yb(CT))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const jk=[{provide:kx,useFactory:function(){return"function"==typeof wk()?new _k:new bk}},{provide:new r.r("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:TS,useClass:Ok},{provide:CT,useFactory:function(){return new ST}},{provide:nk,useClass:Dk},{provide:r.F,useFactory:function(t,e,n){return new kk(t,e,n)},deps:[qt,nk,r.A]}];let Pk=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:jk,imports:[ie]}),t})(),Nk=(()=>{class t{}return t.\u0275mod=r.Kb({type:t,bootstrap:[iS]}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[ie,ax,$e,GC,LO,Pk,Gs.a.initializeApp(sS),Q_,to]]}),t})();Object(r.T)(),ne().bootstrapModule(Nk).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);